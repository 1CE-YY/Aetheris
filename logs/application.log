2026-01-05 13:40:46.941 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 43174 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 13:40:46.945 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 13:40:46.946 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 13:40:47.658 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 13:40:47.659 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 13:40:47.862 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 13:40:47.866 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 13:40:47.897 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2026-01-05 13:40:48.016 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 13:40:48.017 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 13:40:48.017 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 13:40:48.017 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 13:40:48.018 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 13:40:48.019 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 13:40:48.019 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 13:40:48.020 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 13:40:48.685 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 13:40:48.700 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 13:40:48.701 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 13:40:48.754 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 13:40:48.755 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1766 ms
2026-01-05 13:40:48.950 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2026-01-05 13:40:49.151 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 13:40:49.331 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30133a11
2026-01-05 13:40:49.332 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 13:40:49.374 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 13:40:49.705 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.027s)
2026-01-05 13:40:49.719 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 13:40:49.722 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 13:40:49.932 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 13:40:49.940 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 13:40:49.947 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 13:40:49.954 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 13:40:50.180 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 13:40:50.362 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 13:40:50.363 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 13:40:50.453 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 13:40:50.635 [redisson-netty-4-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 13:40:50.641 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 13:40:50.673 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 13:40:50.691 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 13:40:50.979 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 13:40:51.010 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 6ec8e623-32e6-470b-989b-6c113089972b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 13:40:51.018 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 13:40:51.219 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 13:40:51.449 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 13:40:51.463 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.977 seconds (process running for 5.332)
2026-01-05 13:41:12.713 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 13:41:12.713 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 13:41:12.714 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 13:41:46.057 [tomcat-handler-1] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 424262056 milliseconds ago at 2025-12-31T07:50:44.000Z. Current time: 2026-01-05T05:41:46.056Z. Allowed clock skew: 0 milliseconds.
2026-01-05 13:41:56.361 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2026-01-05 13:41:56.361 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2026-01-05 13:41:56.367 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:41:56.372 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@139f9a7b] was not registered for synchronization because synchronization is not active
2026-01-05 13:41:56.380 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@86973348 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 13:41:56.382 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 13:41:56.394 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2026-01-05 13:41:56.411 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 13:41:56.412 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@139f9a7b]
2026-01-05 13:41:56.494 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:41:56.494 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68855a23] was not registered for synchronization because synchronization is not active
2026-01-05 13:41:56.494 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1485929037 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 13:41:56.494 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 13:41:56.495 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 13:41:56.494102(Timestamp), 7(Long)
2026-01-05 13:41:56.503 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 13:41:56.503 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@68855a23]
2026-01-05 13:41:56.504 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2026-01-05 13:41:56.730 [tomcat-handler-3] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:41:56.732 [tomcat-handler-3] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 13:41:56.743 [tomcat-handler-3] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 13:41:56.743 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:41:56.744 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce9766e]
2026-01-05 13:41:56.744 [tomcat-handler-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1844494726 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will be managed by Spring
2026-01-05 13:41:56.744 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 13:41:56.745 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 13:41:56.746 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 13:41:56.746 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce9766e]
2026-01-05 13:41:56.747 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce9766e]
2026-01-05 13:41:56.747 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce9766e]
2026-01-05 13:41:56.747 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3ce9766e]
2026-01-05 13:41:56.855 [tomcat-handler-4] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:41:56.859 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 13:41:56.861 [tomcat-handler-4] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 13:41:56.861 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:41:56.861 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fc7a31]
2026-01-05 13:41:56.862 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1406320748 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will be managed by Spring
2026-01-05 13:41:56.862 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 13:41:56.862 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 13:41:56.864 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 13:41:56.864 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fc7a31]
2026-01-05 13:41:56.864 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fc7a31]
2026-01-05 13:41:56.864 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fc7a31]
2026-01-05 13:41:56.864 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@57fc7a31]
2026-01-05 13:41:58.681 [tomcat-handler-5] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:41:58.685 [tomcat-handler-5] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 13:41:58.686 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:41:58.686 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7dd51] was not registered for synchronization because synchronization is not active
2026-01-05 13:41:58.688 [tomcat-handler-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2069605841 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 13:41:58.688 [tomcat-handler-5] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 13:41:58.689 [tomcat-handler-5] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 13:41:58.694 [tomcat-handler-5] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 1
2026-01-05 13:41:58.695 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2f7dd51]
2026-01-05 13:41:58.695 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:41:58.695 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46db765] was not registered for synchronization because synchronization is not active
2026-01-05 13:41:58.695 [tomcat-handler-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@930281601 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 13:41:58.695 [tomcat-handler-5] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 13:41:58.695 [tomcat-handler-5] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 13:41:58.698 [tomcat-handler-5] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 13:41:58.698 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46db765]
2026-01-05 13:43:33.427 [tomcat-handler-6] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 11427 milliseconds ago at 2026-01-05T05:43:22.000Z. Current time: 2026-01-05T05:43:33.427Z. Allowed clock skew: 0 milliseconds.
2026-01-05 13:43:38.791 [tomcat-handler-7] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 16791 milliseconds ago at 2026-01-05T05:43:22.000Z. Current time: 2026-01-05T05:43:38.791Z. Allowed clock skew: 0 milliseconds.
2026-01-05 13:43:50.360 [tomcat-handler-8] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2026-01-05 13:43:50.360 [tomcat-handler-8] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2026-01-05 13:43:50.361 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:50.361 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1834ff] was not registered for synchronization because synchronization is not active
2026-01-05 13:43:50.362 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1675609900 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 13:43:50.362 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 13:43:50.362 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2026-01-05 13:43:50.364 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 13:43:50.364 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6d1834ff]
2026-01-05 13:43:50.442 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:50.442 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e2cd17] was not registered for synchronization because synchronization is not active
2026-01-05 13:43:50.443 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@250718840 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 13:43:50.443 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 13:43:50.443 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 13:43:50.442718(Timestamp), 7(Long)
2026-01-05 13:43:50.447 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 13:43:50.447 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@22e2cd17]
2026-01-05 13:43:50.447 [tomcat-handler-8] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2026-01-05 13:43:50.645 [tomcat-handler-9] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:43:50.646 [tomcat-handler-9] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 13:43:50.649 [tomcat-handler-9] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 13:43:50.649 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:50.649 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f3d3e4]
2026-01-05 13:43:50.649 [tomcat-handler-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1106047507 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will be managed by Spring
2026-01-05 13:43:50.649 [tomcat-handler-9] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 13:43:50.650 [tomcat-handler-9] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 13:43:50.651 [tomcat-handler-9] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 13:43:50.651 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f3d3e4]
2026-01-05 13:43:50.652 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f3d3e4]
2026-01-05 13:43:50.652 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f3d3e4]
2026-01-05 13:43:50.652 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@76f3d3e4]
2026-01-05 13:43:50.704 [tomcat-handler-10] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:43:50.706 [tomcat-handler-11] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:43:50.707 [tomcat-handler-11] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 13:43:50.707 [tomcat-handler-10] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 13:43:50.708 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:50.708 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46830c3c] was not registered for synchronization because synchronization is not active
2026-01-05 13:43:50.709 [tomcat-handler-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1616446101 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c2a5a24] will not be managed by Spring
2026-01-05 13:43:50.709 [tomcat-handler-11] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 13:43:50.709 [tomcat-handler-10] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 13:43:50.709 [tomcat-handler-11] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:50.709 [tomcat-handler-11] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3881b8]
2026-01-05 13:43:50.709 [tomcat-handler-11] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@918612680 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will be managed by Spring
2026-01-05 13:43:50.709 [tomcat-handler-11] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 13:43:50.709 [tomcat-handler-10] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 13:43:50.710 [tomcat-handler-11] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 13:43:50.711 [tomcat-handler-11] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 13:43:50.711 [tomcat-handler-10] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 1
2026-01-05 13:43:50.711 [tomcat-handler-11] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3881b8]
2026-01-05 13:43:50.711 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46830c3c]
2026-01-05 13:43:50.711 [tomcat-handler-11] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3881b8]
2026-01-05 13:43:50.712 [tomcat-handler-11] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3881b8]
2026-01-05 13:43:50.712 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:50.712 [tomcat-handler-11] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3c3881b8]
2026-01-05 13:43:50.712 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7250b428] was not registered for synchronization because synchronization is not active
2026-01-05 13:43:50.712 [tomcat-handler-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1521831261 wrapping com.mysql.cj.jdbc.ConnectionImpl@7c2a5a24] will not be managed by Spring
2026-01-05 13:43:50.712 [tomcat-handler-10] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 13:43:50.712 [tomcat-handler-10] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 13:43:50.713 [tomcat-handler-10] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 13:43:50.713 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7250b428]
2026-01-05 13:43:57.998 [tomcat-handler-12] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:43:57.999 [tomcat-handler-12] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 13:43:58.001 [tomcat-handler-12] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 13:43:58.002 [tomcat-handler-12] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:58.002 [tomcat-handler-12] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a384bd0]
2026-01-05 13:43:58.002 [tomcat-handler-12] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1212094999 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will be managed by Spring
2026-01-05 13:43:58.002 [tomcat-handler-12] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 13:43:58.002 [tomcat-handler-12] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 13:43:58.004 [tomcat-handler-12] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 13:43:58.004 [tomcat-handler-12] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a384bd0]
2026-01-05 13:43:58.004 [tomcat-handler-12] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a384bd0]
2026-01-05 13:43:58.004 [tomcat-handler-12] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a384bd0]
2026-01-05 13:43:58.004 [tomcat-handler-12] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a384bd0]
2026-01-05 13:43:58.130 [tomcat-handler-13] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 13:43:58.131 [tomcat-handler-13] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 13:43:58.133 [tomcat-handler-13] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 13:43:58.133 [tomcat-handler-13] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 13:43:58.133 [tomcat-handler-13] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fedccc1]
2026-01-05 13:43:58.134 [tomcat-handler-13] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1021646113 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will be managed by Spring
2026-01-05 13:43:58.134 [tomcat-handler-13] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 13:43:58.134 [tomcat-handler-13] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 13:43:58.136 [tomcat-handler-13] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 13:43:58.136 [tomcat-handler-13] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fedccc1]
2026-01-05 13:43:58.136 [tomcat-handler-13] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fedccc1]
2026-01-05 13:43:58.136 [tomcat-handler-13] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fedccc1]
2026-01-05 13:43:58.136 [tomcat-handler-13] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@fedccc1]
2026-01-05 14:02:27.980 [tomcat-handler-15] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 14:02:27.981 [tomcat-handler-15] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 14:02:27.981 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:02:27.981 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5161726b] was not registered for synchronization because synchronization is not active
2026-01-05 14:02:27.982 [tomcat-handler-15] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1604752951 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 14:02:27.982 [tomcat-handler-15] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:02:27.983 [tomcat-handler-15] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 14:02:27.984 [tomcat-handler-15] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:02:27.984 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5161726b]
2026-01-05 14:02:28.065 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:02:28.066 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9b9c0c] was not registered for synchronization because synchronization is not active
2026-01-05 14:02:28.066 [tomcat-handler-15] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1152599966 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 14:02:28.066 [tomcat-handler-15] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:02:28.066 [tomcat-handler-15] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:02:28.065781(Timestamp), 5(Long)
2026-01-05 14:02:28.070 [tomcat-handler-15] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:02:28.071 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1e9b9c0c]
2026-01-05 14:02:28.071 [tomcat-handler-15] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 14:03:48.700 [tomcat-handler-18] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 426829700 milliseconds ago at 2025-12-31T07:29:59.000Z. Current time: 2026-01-05T06:03:48.700Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:04:06.025 [tomcat-handler-19] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 12025 milliseconds ago at 2026-01-05T06:03:54.000Z. Current time: 2026-01-05T06:04:06.025Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:04:18.270 [tomcat-handler-20] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 14:04:18.270 [tomcat-handler-20] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 14:04:18.270 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:04:18.270 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fb7886b] was not registered for synchronization because synchronization is not active
2026-01-05 14:04:18.271 [tomcat-handler-20] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@179638265 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 14:04:18.271 [tomcat-handler-20] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:04:18.271 [tomcat-handler-20] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 14:04:18.273 [tomcat-handler-20] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:04:18.273 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4fb7886b]
2026-01-05 14:04:18.355 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:04:18.355 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf5c753] was not registered for synchronization because synchronization is not active
2026-01-05 14:04:18.355 [tomcat-handler-20] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1223881878 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 14:04:18.355 [tomcat-handler-20] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:04:18.356 [tomcat-handler-20] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:04:18.355117(Timestamp), 5(Long)
2026-01-05 14:04:18.360 [tomcat-handler-20] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:04:18.361 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3bf5c753]
2026-01-05 14:04:18.361 [tomcat-handler-20] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 14:04:32.657 [tomcat-handler-21] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:04:32.658 [tomcat-handler-21] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 14:04:32.659 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:04:32.659 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a5bb70] was not registered for synchronization because synchronization is not active
2026-01-05 14:04:32.660 [tomcat-handler-21] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@209664072 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 14:04:32.660 [tomcat-handler-21] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 14:04:32.660 [tomcat-handler-21] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 14:04:32.661 [tomcat-handler-21] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 1
2026-01-05 14:04:32.662 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@19a5bb70]
2026-01-05 14:04:32.662 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:04:32.662 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ed46e9d] was not registered for synchronization because synchronization is not active
2026-01-05 14:04:32.662 [tomcat-handler-21] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1511925260 wrapping com.mysql.cj.jdbc.ConnectionImpl@30133a11] will not be managed by Spring
2026-01-05 14:04:32.662 [tomcat-handler-21] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 14:04:32.662 [tomcat-handler-21] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 14:04:32.663 [tomcat-handler-21] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 14:04:32.663 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6ed46e9d]
2026-01-05 14:10:14.485 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 14:10:14.488 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 14:10:14.611 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 14:10:14.612 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 14:11:11.278 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 54130 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 14:11:11.279 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 14:11:11.280 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 14:11:11.998 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 14:11:11.998 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 14:11:12.178 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 14:11:12.180 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 14:11:12.210 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2026-01-05 14:11:12.314 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 14:11:12.314 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 14:11:12.314 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 14:11:12.314 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 14:11:12.315 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 14:11:12.317 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 14:11:12.317 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 14:11:12.318 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 14:11:12.914 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 14:11:12.928 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 14:11:12.928 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 14:11:12.983 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 14:11:12.984 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1672 ms
2026-01-05 14:11:13.159 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2026-01-05 14:11:13.341 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 14:11:13.506 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@539ee811
2026-01-05 14:11:13.507 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 14:11:13.548 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 14:11:13.880 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.024s)
2026-01-05 14:11:13.894 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 14:11:13.897 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 14:11:14.064 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 14:11:14.072 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 14:11:14.079 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 14:11:14.085 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 14:11:14.267 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 14:11:14.434 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 14:11:14.435 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 14:11:14.515 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 14:11:14.693 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:11:14.701 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:11:14.746 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 14:11:14.771 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 14:11:15.109 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 14:11:15.144 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f1ddd0c6-f6ac-4e5c-8371-b0b8922372fc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 14:11:15.151 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 14:11:15.352 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 14:11:15.594 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 14:11:15.607 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.787 seconds (process running for 5.165)
2026-01-05 14:11:45.104 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 14:11:45.104 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 14:11:45.106 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2026-01-05 14:13:07.801 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 14:13:07.811 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 14:13:07.939 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 14:13:07.945 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 14:13:21.165 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 54976 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 14:13:21.166 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 14:13:21.167 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 14:13:21.832 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 14:13:21.832 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 14:13:21.989 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 14:13:21.991 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 14:13:22.026 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2026-01-05 14:13:22.118 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 14:13:22.119 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 14:13:22.119 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 14:13:22.119 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 14:13:22.120 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 14:13:22.121 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 14:13:22.122 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 14:13:22.122 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 14:13:22.724 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 14:13:22.738 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 14:13:22.738 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 14:13:22.782 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 14:13:22.782 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1577 ms
2026-01-05 14:13:22.959 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2026-01-05 14:13:23.137 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 14:13:23.294 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4641f66c
2026-01-05 14:13:23.295 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 14:13:23.333 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 14:13:23.643 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.022s)
2026-01-05 14:13:23.657 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 14:13:23.659 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 14:13:23.817 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 14:13:23.826 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 14:13:23.833 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 14:13:23.842 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 14:13:24.016 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 14:13:24.168 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 14:13:24.169 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 14:13:24.235 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 14:13:24.378 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:13:24.384 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:13:24.416 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 14:13:24.433 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 14:13:24.702 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 14:13:24.728 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: d4494672-7e7f-43a2-afe8-3a15c7a9aa28

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 14:13:24.735 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 14:13:24.925 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 14:13:25.125 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 14:13:25.137 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.378 seconds (process running for 4.648)
2026-01-05 14:13:48.167 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 14:13:48.167 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 14:13:48.168 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 14:14:06.889 [tomcat-handler-1] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 1730888 milliseconds ago at 2026-01-05T05:45:16.000Z. Current time: 2026-01-05T06:14:06.888Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:14:31.171 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 14:14:31.171 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 14:14:31.176 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:31.180 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310b0e83] was not registered for synchronization because synchronization is not active
2026-01-05 14:14:31.188 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@790777522 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will not be managed by Spring
2026-01-05 14:14:31.189 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:14:31.202 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 14:14:31.215 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:14:31.216 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@310b0e83]
2026-01-05 14:14:31.300 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:31.300 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf5db36] was not registered for synchronization because synchronization is not active
2026-01-05 14:14:31.301 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1532003058 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will not be managed by Spring
2026-01-05 14:14:31.301 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:14:31.302 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:14:31.30029(Timestamp), 5(Long)
2026-01-05 14:14:31.309 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:14:31.310 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@bf5db36]
2026-01-05 14:14:31.310 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 14:14:31.897 [tomcat-handler-3] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:31.899 [tomcat-handler-3] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 5
2026-01-05 14:14:31.908 [tomcat-handler-3] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=5
2026-01-05 14:14:31.908 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:31.909 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf4fd09]
2026-01-05 14:14:31.909 [tomcat-handler-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1551742156 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will be managed by Spring
2026-01-05 14:14:31.910 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:14:31.910 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 5(Long)
2026-01-05 14:14:31.915 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:14:31.916 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf4fd09]
2026-01-05 14:14:31.916 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf4fd09]
2026-01-05 14:14:31.917 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf4fd09]
2026-01-05 14:14:31.917 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3cf4fd09]
2026-01-05 14:14:32.143 [tomcat-handler-4] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:32.144 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 5
2026-01-05 14:14:32.146 [tomcat-handler-4] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=5
2026-01-05 14:14:32.147 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:32.147 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f265a60]
2026-01-05 14:14:32.147 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1088859455 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will be managed by Spring
2026-01-05 14:14:32.147 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:14:32.147 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 5(Long)
2026-01-05 14:14:32.150 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:14:32.150 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f265a60]
2026-01-05 14:14:32.150 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f265a60]
2026-01-05 14:14:32.150 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f265a60]
2026-01-05 14:14:32.150 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4f265a60]
2026-01-05 14:14:41.001 [tomcat-handler-5] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:41.002 [tomcat-handler-5] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 5
2026-01-05 14:14:41.004 [tomcat-handler-5] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=5
2026-01-05 14:14:41.004 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:41.004 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b842f5b]
2026-01-05 14:14:41.004 [tomcat-handler-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2035463660 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will be managed by Spring
2026-01-05 14:14:41.004 [tomcat-handler-5] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:14:41.005 [tomcat-handler-5] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 5(Long)
2026-01-05 14:14:41.006 [tomcat-handler-5] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:14:41.006 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b842f5b]
2026-01-05 14:14:41.006 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b842f5b]
2026-01-05 14:14:41.006 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b842f5b]
2026-01-05 14:14:41.006 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b842f5b]
2026-01-05 14:14:41.188 [tomcat-handler-6] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:41.190 [tomcat-handler-6] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 5
2026-01-05 14:14:41.192 [tomcat-handler-6] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=5
2026-01-05 14:14:41.193 [tomcat-handler-6] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:41.193 [tomcat-handler-6] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415df935]
2026-01-05 14:14:41.193 [tomcat-handler-6] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1650161291 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will be managed by Spring
2026-01-05 14:14:41.193 [tomcat-handler-6] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:14:41.194 [tomcat-handler-6] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 5(Long)
2026-01-05 14:14:41.205 [tomcat-handler-6] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:14:41.206 [tomcat-handler-6] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415df935]
2026-01-05 14:14:41.206 [tomcat-handler-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415df935]
2026-01-05 14:14:41.206 [tomcat-handler-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415df935]
2026-01-05 14:14:41.206 [tomcat-handler-6] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@415df935]
2026-01-05 14:14:42.624 [tomcat-handler-7] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:42.629 [tomcat-handler-7] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 14:14:42.630 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:42.630 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fc2b44] was not registered for synchronization because synchronization is not active
2026-01-05 14:14:42.632 [tomcat-handler-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@743724066 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will not be managed by Spring
2026-01-05 14:14:42.632 [tomcat-handler-7] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 14:14:42.633 [tomcat-handler-7] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 14:14:42.636 [tomcat-handler-7] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 1
2026-01-05 14:14:42.637 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39fc2b44]
2026-01-05 14:14:42.637 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:42.637 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764d209] was not registered for synchronization because synchronization is not active
2026-01-05 14:14:42.637 [tomcat-handler-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@677815746 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will not be managed by Spring
2026-01-05 14:14:42.637 [tomcat-handler-7] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 14:14:42.637 [tomcat-handler-7] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 14:14:42.640 [tomcat-handler-7] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 14:14:42.640 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3764d209]
2026-01-05 14:14:52.086 [tomcat-handler-8] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:52.087 [tomcat-handler-8] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 5
2026-01-05 14:14:52.089 [tomcat-handler-8] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=5
2026-01-05 14:14:52.089 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:52.089 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fab8352]
2026-01-05 14:14:52.089 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@977771241 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will be managed by Spring
2026-01-05 14:14:52.089 [tomcat-handler-8] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:14:52.090 [tomcat-handler-8] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 5(Long)
2026-01-05 14:14:52.091 [tomcat-handler-8] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:14:52.091 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fab8352]
2026-01-05 14:14:52.091 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fab8352]
2026-01-05 14:14:52.092 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fab8352]
2026-01-05 14:14:52.092 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fab8352]
2026-01-05 14:14:52.284 [tomcat-handler-9] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:52.285 [tomcat-handler-9] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 5
2026-01-05 14:14:52.288 [tomcat-handler-9] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=5
2026-01-05 14:14:52.288 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:14:52.288 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ac1d7f]
2026-01-05 14:14:52.288 [tomcat-handler-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1101756846 wrapping com.mysql.cj.jdbc.ConnectionImpl@4641f66c] will be managed by Spring
2026-01-05 14:14:52.288 [tomcat-handler-9] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:14:52.288 [tomcat-handler-9] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 5(Long)
2026-01-05 14:14:52.291 [tomcat-handler-9] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:14:52.291 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ac1d7f]
2026-01-05 14:14:52.291 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ac1d7f]
2026-01-05 14:14:52.291 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ac1d7f]
2026-01-05 14:14:52.291 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@24ac1d7f]
2026-01-05 14:14:58.756 [tomcat-handler-10] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:14:58.779 [tomcat-handler-10] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=5, title=a, file=a.md
2026-01-05 14:14:58.781 [tomcat-handler-10] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: a, 文件: a.md
2026-01-05 14:14:58.782 [tomcat-handler-10] INFO  c.a.r.s.impl.ResourceServiceImpl - 创建上传目录: /Users/hubin5/app/Aetheris/backend/uploads
2026-01-05 14:14:58.785 [tomcat-handler-10] ERROR c.a.r.e.GlobalExceptionHandler - 未处理的异常: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593698782_a.md (No such file or directory)
java.io.IOException: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593698782_a.md (No such file or directory)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:119)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.transferTo(StandardMultipartHttpServletRequest.java:269)
	at com.aetheris.rag.service.impl.ResourceServiceImpl.saveUploadedFile(ResourceServiceImpl.java:93)
	at com.aetheris.rag.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:107)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.aetheris.rag.service.impl.ResourceServiceImpl$$SpringCGLIB$$0.uploadResource(<generated>)
	at com.aetheris.rag.controller.ResourceController.uploadResource(ResourceController.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.aetheris.rag.config.SecurityConfig$JwtAuthenticationFilter.doFilterInternal(SecurityConfig.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)
Caused by: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593698782_a.md (No such file or directory)
	at java.base/java.io.FileOutputStream.open0(Native Method)
	at java.base/java.io.FileOutputStream.open(FileOutputStream.java:289)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:230)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:179)
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.write(DiskFileItem.java:551)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:117)
	... 149 common frames omitted
2026-01-05 14:15:07.232 [tomcat-handler-11] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:15:07.236 [tomcat-handler-11] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=5, title=a, file=a.md
2026-01-05 14:15:07.238 [tomcat-handler-11] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: a, 文件: a.md
2026-01-05 14:15:07.241 [tomcat-handler-11] ERROR c.a.r.e.GlobalExceptionHandler - 未处理的异常: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593707238_a.md (No such file or directory)
java.io.IOException: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593707238_a.md (No such file or directory)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:119)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.transferTo(StandardMultipartHttpServletRequest.java:269)
	at com.aetheris.rag.service.impl.ResourceServiceImpl.saveUploadedFile(ResourceServiceImpl.java:93)
	at com.aetheris.rag.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:107)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.aetheris.rag.service.impl.ResourceServiceImpl$$SpringCGLIB$$0.uploadResource(<generated>)
	at com.aetheris.rag.controller.ResourceController.uploadResource(ResourceController.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.aetheris.rag.config.SecurityConfig$JwtAuthenticationFilter.doFilterInternal(SecurityConfig.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)
Caused by: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593707238_a.md (No such file or directory)
	at java.base/java.io.FileOutputStream.open0(Native Method)
	at java.base/java.io.FileOutputStream.open(FileOutputStream.java:289)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:230)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:179)
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.write(DiskFileItem.java:551)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:117)
	... 149 common frames omitted
2026-01-05 14:15:15.380 [tomcat-handler-12] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:15:15.384 [tomcat-handler-12] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=5, title=a, file=a.md
2026-01-05 14:15:15.386 [tomcat-handler-12] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: a, 文件: a.md
2026-01-05 14:15:15.388 [tomcat-handler-12] ERROR c.a.r.e.GlobalExceptionHandler - 未处理的异常: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593715386_a.md (No such file or directory)
java.io.IOException: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593715386_a.md (No such file or directory)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:119)
	at org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.transferTo(StandardMultipartHttpServletRequest.java:269)
	at com.aetheris.rag.service.impl.ResourceServiceImpl.saveUploadedFile(ResourceServiceImpl.java:93)
	at com.aetheris.rag.service.impl.ResourceServiceImpl.uploadResource(ResourceServiceImpl.java:107)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.aetheris.rag.service.impl.ResourceServiceImpl$$SpringCGLIB$$0.uploadResource(<generated>)
	at com.aetheris.rag.controller.ResourceController.uploadResource(ResourceController.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:490)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:351)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:83)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:129)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:125)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at com.aetheris.rag.config.SecurityConfig$JwtAuthenticationFilter.doFilterInternal(SecurityConfig.java:116)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)
Caused by: java.io.FileNotFoundException: /private/var/folders/g9/rb225zjn2f72685z0b_s77sjx71c88/T/tomcat.8080.10252907628993498126/work/Tomcat/localhost/ROOT/uploads/1767593715386_a.md (No such file or directory)
	at java.base/java.io.FileOutputStream.open0(Native Method)
	at java.base/java.io.FileOutputStream.open(FileOutputStream.java:289)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:230)
	at java.base/java.io.FileOutputStream.<init>(FileOutputStream.java:179)
	at org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.write(DiskFileItem.java:551)
	at org.apache.catalina.core.ApplicationPart.write(ApplicationPart.java:117)
	... 149 common frames omitted
2026-01-05 14:17:29.380 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 56311 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 14:17:29.381 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 14:17:29.382 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 14:17:30.016 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 14:17:30.017 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 14:17:30.203 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 14:17:30.206 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 14:17:30.241 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2026-01-05 14:17:30.352 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 14:17:30.353 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 14:17:30.353 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 14:17:30.353 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 14:17:30.354 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 14:17:30.355 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 14:17:30.356 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 14:17:30.356 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 14:17:30.992 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 14:17:31.008 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 14:17:31.008 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 14:17:31.064 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 14:17:31.064 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1652 ms
2026-01-05 14:17:31.239 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2026-01-05 14:17:31.400 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 14:17:31.564 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@779b4f9c
2026-01-05 14:17:31.566 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 14:17:31.606 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 14:17:31.951 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.024s)
2026-01-05 14:17:31.964 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 14:17:31.967 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 14:17:32.141 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 14:17:32.150 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 14:17:32.159 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 14:17:32.167 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 14:17:32.352 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 14:17:32.527 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 14:17:32.527 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 14:17:32.597 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 14:17:32.758 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:17:32.763 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:17:32.800 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 14:17:32.818 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 14:17:33.102 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 14:17:33.132 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 70dce2cb-4d71-4904-b894-c8c5af21dce3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 14:17:33.139 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 14:17:33.326 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 14:17:33.532 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 14:17:33.546 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.709 seconds (process running for 5.002)
2026-01-05 14:17:52.557 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 14:17:52.558 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 14:17:52.559 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 14:18:57.905 [tomcat-handler-1] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 180905 milliseconds ago at 2026-01-05T06:15:57.000Z. Current time: 2026-01-05T06:18:57.905Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:19:10.057 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2026-01-05 14:19:10.057 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2026-01-05 14:19:10.062 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:10.066 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7c3b62] was not registered for synchronization because synchronization is not active
2026-01-05 14:19:10.075 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1580254564 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:19:10.076 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:19:10.088 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2026-01-05 14:19:10.102 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:19:10.103 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7b7c3b62]
2026-01-05 14:19:10.189 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:10.189 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a8c9d4] was not registered for synchronization because synchronization is not active
2026-01-05 14:19:10.189 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1306733793 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:19:10.189 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:19:10.191 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:19:10.188903(Timestamp), 7(Long)
2026-01-05 14:19:10.198 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:19:10.198 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@78a8c9d4]
2026-01-05 14:19:10.199 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2026-01-05 14:19:10.804 [tomcat-handler-3] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:19:10.806 [tomcat-handler-3] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 14:19:10.817 [tomcat-handler-3] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 14:19:10.818 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:10.820 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a9ead0]
2026-01-05 14:19:10.821 [tomcat-handler-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@834912349 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will be managed by Spring
2026-01-05 14:19:10.822 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:19:10.822 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 14:19:10.824 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:19:10.824 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a9ead0]
2026-01-05 14:19:10.825 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a9ead0]
2026-01-05 14:19:10.825 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a9ead0]
2026-01-05 14:19:10.825 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10a9ead0]
2026-01-05 14:19:11.016 [tomcat-handler-4] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:19:11.018 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 14:19:11.020 [tomcat-handler-4] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 14:19:11.020 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:11.020 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dd3373]
2026-01-05 14:19:11.021 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1260818608 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will be managed by Spring
2026-01-05 14:19:11.021 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:19:11.021 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 14:19:11.023 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:19:11.023 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dd3373]
2026-01-05 14:19:11.023 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dd3373]
2026-01-05 14:19:11.023 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dd3373]
2026-01-05 14:19:11.023 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@39dd3373]
2026-01-05 14:19:17.635 [tomcat-handler-5] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:19:17.660 [tomcat-handler-5] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=7, title=a, file=a.md
2026-01-05 14:19:17.662 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: a, 文件: a.md
2026-01-05 14:19:17.670 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 文件已保存: /Users/hubin5/app/Aetheris/backend/uploads/1767593957663_a.md
2026-01-05 14:19:17.674 [tomcat-handler-5] DEBUG c.a.r.s.impl.ResourceServiceImpl - 文件内容哈希: 3d9c21b11a39dcfae504280b8a1745fd58aa55d82a623e903cb1723b8c018a82
2026-01-05 14:19:17.674 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:17.674 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.675 [tomcat-handler-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@429346952 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will be managed by Spring
2026-01-05 14:19:17.675 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE content_hash = ?
2026-01-05 14:19:17.675 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - ==> Parameters: 3d9c21b11a39dcfae504280b8a1745fd58aa55d82a623e903cb1723b8c018a82(String)
2026-01-05 14:19:17.677 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - <==      Total: 0
2026-01-05 14:19:17.678 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.696 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50] from current transaction
2026-01-05 14:19:17.697 [tomcat-handler-5] DEBUG c.a.rag.mapper.ResourceMapper.insert - ==>  Preparing: INSERT INTO resources ( title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-01-05 14:19:17.699 [tomcat-handler-5] DEBUG c.a.rag.mapper.ResourceMapper.insert - ==> Parameters: a(String), a(String), MARKDOWN(String), /Users/hubin5/app/Aetheris/backend/uploads/1767593957663_a.md(String), 44067(Long), a(String), 3d9c21b11a39dcfae504280b8a1745fd58aa55d82a623e903cb1723b8c018a82(String), 7(Long), 2026-01-05 14:19:17.696058(Timestamp), 0(Integer), false(Boolean)
2026-01-05 14:19:17.704 [tomcat-handler-5] DEBUG c.a.rag.mapper.ResourceMapper.insert - <==    Updates: 1
2026-01-05 14:19:17.705 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.706 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 资源记录已创建: 2
2026-01-05 14:19:17.706 [tomcat-handler-5] INFO  c.a.rag.util.MarkdownProcessor - 开始处理 Markdown 文件: /Users/hubin5/app/Aetheris/backend/uploads/1767593957663_a.md
2026-01-05 14:19:17.707 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - Markdown 文件长度: 43961 字符
2026-01-05 14:19:17.744 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 提取到 17 个文本块
2026-01-05 14:19:17.744 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 0: 章节 , 长度 593
2026-01-05 14:19:17.744 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 1: 章节 , 长度 4524
2026-01-05 14:19:17.744 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 2: 章节 , 长度 971
2026-01-05 14:19:17.744 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 3: 章节 , 长度 4502
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 4: 章节 , 长度 2276
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 5: 章节 , 长度 7510
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 6: 章节 , 长度 503
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 7: 章节 , 长度 1161
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 8: 章节 , 长度 1071
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 9: 章节 , 长度 349
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 10: 章节 , 长度 5590
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 11: 章节 , 长度 5970
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 12: 章节 , 长度 1020
2026-01-05 14:19:17.745 [tomcat-handler-5] DEBUG c.a.rag.util.MarkdownProcessor - 创建切片 13: 章节 , 长度 1021
2026-01-05 14:19:17.746 [tomcat-handler-5] INFO  c.a.rag.util.MarkdownProcessor - Markdown 处理完成，共生成 14 个切片
2026-01-05 14:19:17.752 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50] from current transaction
2026-01-05 14:19:17.770 [tomcat-handler-5] DEBUG c.a.r.mapper.ChunkMapper.batchInsert - ==>  Preparing: INSERT INTO resource_chunks ( resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-05 14:19:17.774 [tomcat-handler-5] DEBUG c.a.r.mapper.ChunkMapper.batchInsert - ==> Parameters: 2(Long), 0(Integer), { "r" : 0.1130831225628186, "tsp" : "RES.FAI.PromotionActivityProductController.departsDateAvailability", "agencyId" : "api_params_agencyId", "productId" : "210480567", "activityId" : "175248", "departsDateDegin" : "2026-02-01", "departsDateEnd" : "2026-03-31", "resType" : 27 }{ "r" : 0.5566706, "tsp" : "RES.FAI.PromotionActivityProductController.departsDateAvailability", "agencyId" : 70852, "productId" : "210480567", "activityId" : "175248", "departsDateDegin" : "2026-02-01", "departsDateEnd" : "2026-03-31", "resType" : 27, "nbLogParamUserId" : "68048", "nbLogParamAgencyId" : "70852" }(String), 文档开头(String), null, null, null, 56e2ef632e1e4bf99628be6f54fa31f3cf2dd44c40c891c66fb532891efee88d(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 1(Integer), , "productId" : "210480567", "activityId" : "175248", "departsDateDegin" : "2026-02-01", "departsDateEnd" : "2026-03-31", "resType" : 27, "nbLogParamUserId" : "68048", "nbLogParamAgencyId" : "70852" }{ "success" : true, "msg" : null, "errorCode" : 17000000, "data" : [ { "departsDate" : "2026-02-01", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-02-02", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-02-03", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-02-04", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-02-05", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-02-06", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-07", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-08", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-09", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-10", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-11", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-12", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-13", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-14", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-15", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-16", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-17", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-18", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-19", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-20", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-21", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-22", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-23", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-24", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-25", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-26", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-27", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-02-28", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-01", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-02", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-03", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-04", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-05", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-06", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-07", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-08", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-09", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-10", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-11", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-12", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-13", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-14", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-15", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-16", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-17", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-18", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-19", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-20", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-21", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-22", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-23", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-24", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-25", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-26", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-27", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-28", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-29", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-30", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-31", "unavailableReasonType" : "no_price" } ] }(String), 文档开头(String), null, null, null, cfb763fe52105f44477625f8bdfe051b9244e7925dc403327b73ea541cf2a7ac(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 2(Integer), "2026-03-29", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-30", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-03-31", "unavailableReasonType" : "no_price" } ] }{ "r" : 0.35773964975009587, "tsp" : "RES.FAI.PromotionActivityProductController.departsDateAvailability", "agencyId" : "api_params_agencyId", "productId" : "210480567", "activityId" : "175248", "departsDateDegin" : "2026-03-01", "departsDateEnd" : "2026-04-30", "resType" : 27 }{ "r" : 0.35773966, "tsp" : "RES.FAI.PromotionActivityProductController.departsDateAvailability", "agencyId" : 70852, "productId" : "210480567", "activityId" : "175248", "departsDateDegin" : "2026-03-01", "departsDateEnd" : "2026-04-30", "resType" : 27, "nbLogParamUserId" : "68048", "nbLogParamAgencyId" : "70852" }在/Users/hubin5/Projects/fai/src/main/java/com/tuniu/res/fairy/promotion/rest/PromotionActivityProductController.java中buildResponseData方法判断3-1号不是无报价、不是已应征、不是利率达标，所以给三月份全部设置为null(String), 文档开头(String), null, null, null, 15f87a15906ebf7610f9da816e0bd053247bb6bcf0eebceb6e97c034d0471ee2(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 3(Integer), ramAgencyId" : "70852" }在/Users/hubin5/Projects/fai/src/main/java/com/tuniu/res/fairy/promotion/rest/PromotionActivityProductController.java中buildResponseData方法判断3-1号不是无报价、不是已应征、不是利率达标，所以给三月份全部设置为null{ "success" : true, "msg" : null, "errorCode" : 17000000, "data" : [ { "departsDate" : "2026-03-01", "unavailableReasonType" : null }, { "departsDate" : "2026-03-02", "unavailableReasonType" : null }, { "departsDate" : "2026-03-03", "unavailableReasonType" : null }, { "departsDate" : "2026-03-04", "unavailableReasonType" : null }, { "departsDate" : "2026-03-05", "unavailableReasonType" : null }, { "departsDate" : "2026-03-06", "unavailableReasonType" : null }, { "departsDate" : "2026-03-07", "unavailableReasonType" : null }, { "departsDate" : "2026-03-08", "unavailableReasonType" : null }, { "departsDate" : "2026-03-09", "unavailableReasonType" : null }, { "departsDate" : "2026-03-10", "unavailableReasonType" : null }, { "departsDate" : "2026-03-11", "unavailableReasonType" : null }, { "departsDate" : "2026-03-12", "unavailableReasonType" : null }, { "departsDate" : "2026-03-13", "unavailableReasonType" : null }, { "departsDate" : "2026-03-14", "unavailableReasonType" : null }, { "departsDate" : "2026-03-15", "unavailableReasonType" : null }, { "departsDate" : "2026-03-16", "unavailableReasonType" : null }, { "departsDate" : "2026-03-17", "unavailableReasonType" : null }, { "departsDate" : "2026-03-18", "unavailableReasonType" : null }, { "departsDate" : "2026-03-19", "unavailableReasonType" : null }, { "departsDate" : "2026-03-20", "unavailableReasonType" : null }, { "departsDate" : "2026-03-21", "unavailableReasonType" : null }, { "departsDate" : "2026-03-22", "unavailableReasonType" : null }, { "departsDate" : "2026-03-23", "unavailableReasonType" : null }, { "departsDate" : "2026-03-24", "unavailableReasonType" : null }, { "departsDate" : "2026-03-25", "unavailableReasonType" : null }, { "departsDate" : "2026-03-26", "unavailableReasonType" : null }, { "departsDate" : "2026-03-27", "unavailableReasonType" : null }, { "departsDate" : "2026-03-28", "unavailableReasonType" : null }, { "departsDate" : "2026-03-29", "unavailableReasonType" : null }, { "departsDate" : "2026-03-30", "unavailableReasonType" : null }, { "departsDate" : "2026-03-31", "unavailableReasonType" : null }, { "departsDate" : "2026-04-01", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-02", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-03", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-04", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-05", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-06", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-07", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-08", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-09", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-10", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-11", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-12", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-13", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-14", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-15", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-16", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-17", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-18", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-19", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-20", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-21", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-22", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-23", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-24", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-25", "unavailableReasonType" : "has_apply" }, { "departsDate" : "2026-04-26", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-04-27", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-04-28", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-04-29", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-04-30", "unavailableReasonType" : "no_price" } ] }(String), 文档开头(String), null, null, null, f4c156b883e5159895dba647263141a215c99a9d0db15d32f1405b0caf102159(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 4(Integer), "2026-04-28", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-04-29", "unavailableReasonType" : "no_price" }, { "departsDate" : "2026-04-30", "unavailableReasonType" : "no_price" } ] }PMF.PMF.ApplyController.applyAvailable { "sysCode" : "FAI", "supplierApplyActInputBeans" : [ { "activityId" : 175248, "productId" : 210480567, "departsDateBeans" : [ { "departsDate" : "2026-03-19" }, { "departsDate" : "2026-03-25" }, { "departsDate" : "2026-04-18" }, { "departsDate" : "2026-04-22" }, { "departsDate" : "2026-04-03" }, { "departsDate" : "2026-04-12" }, { "departsDate" : "2026-03-08" }, { "departsDate" : "2026-03-11" }, { "departsDate" : "2026-04-11" }, { "departsDate" : "2026-03-18" }, { "departsDate" : "2026-04-17" }, { "departsDate" : "2026-03-05" }, { "departsDate" : "2026-03-21" }, { "departsDate" : "2026-03-09" }, { "departsDate" : "2026-04-15" }, { "departsDate" : "2026-03-06" }, { "departsDate" : "2026-04-20" }, { "departsDate" : "2026-04-02" }, { "departsDate" : "2026-03-14" }, { "departsDate" : "2026-03-31" }, { "departsDate" : "2026-03-28" }, { "departsDate" : "2026-04-01" }, { "departsDate" : "2026-04-08" }, { "departsDate" : "2026-04-23" }, { "departsDate" : "2026-04-19" }, { "departsDate" : "2026-03-02" }, { "departsDate" : "2026-03-23" }, { "departsDate" : "2026-04-21" }, { "departsDate" : "2026-03-15" }, { "departsDate" : "2026-03-30" }, { "departsDate" : "2026-03-17" }, { "departsDate" : "2026-04-13" }, { "departsDate" : "2026-03-13" }, { "departsDate" : "2026-04-24" }, { "departsDate" : "2026-03-03" }, { "departsDate" : "2026-03-07" }, { "departsDate" : "2026-04-07" }, { "departsDate" : "2026-03-29" }, { "departsDate" : "2026-04-14" }, { "departsDate" : "2026-04-04" }, { "departsDate" : "2026-04-06" }, { "departsDate" : "2026-03-01" }, { "departsDate" : "2026-04-09" }, { "departsDate" : "2026-03-04" }, { "departsDate" : "2026-03-26" }, { "departsDate" : "2026-03-20" }, { "departsDate" : "2026-03-22" }, { "departsDate" : "2026-04-05" }, { "departsDate" : "2026-04-10" }, { "departsDate" : "2026-03-10" }, { "departsDate" : "2026-03-12" }, { "departsDate" : "2026-03-16" }, { "departsDate" : "2026-04-16" }, { "departsDate" : "2026-04-25" }, { "departsDate" : "2026-03-24" }, { "departsDate" : "2026-03-27" } ] } ] }(String), 文档开头(String), null, null, null, 0c30e929d0a2adb048b77cabdd65dbf033cc9e8395e1568fc0ab14c2c4f1c8bf(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 5(Integer), Date" : "2026-03-12" }, { "departsDate" : "2026-03-16" }, { "departsDate" : "2026-04-16" }, { "departsDate" : "2026-04-25" }, { "departsDate" : "2026-03-24" }, { "departsDate" : "2026-03-27" } ] } ] }{ "success": true, "msg": null, "errorCode": 0, "data": [ { "activityId": "175248", "profitRatioDetail": [ { "departsDate": "2026-03-19", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-25", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-18", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-22", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-03", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-12", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-08", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-11", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-11", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-18", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-17", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-05", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-21", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-09", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-15", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-06", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-20", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-02", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-14", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-31", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-28", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-01", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-08", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-23", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-19", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-02", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-23", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-21", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-15", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-30", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-17", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-13", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-13", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-24", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-03", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-07", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-07", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-29", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-14", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-04", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-06", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-01", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-09", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-04", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-26", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-20", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-22", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-05", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-10", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-10", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-12", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-16", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-16", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-04-25", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-24", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-27", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null } ], "productId": "210480567", "appliedReductionCount": "1", "appliedReductionCountAvail": true, "appliedDates": [ "2026-04-01", "2026-04-02", "2026-04-03", "2026-04-04", "2026-04-05", "2026-04-06", "2026-04-07", "2026-04-08", "2026-04-09", "2026-04-10", "2026-04-11", "2026-04-12", "2026-04-13", "2026-04-14", "2026-04-15", "2026-04-16", "2026-04-17", "2026-04-18", "2026-04-19", "2026-04-20", "2026-04-21", "2026-04-22", "2026-04-23", "2026-04-24", "2026-04-25" ], "profitRatioResult": 0, "isRangeAvail": true, "isCoverageAvail": true } ] }(String), 文档开头(String), null, null, null, 894b35fbeee99cb5d14adf5bf794268451d3fee5593190ddfa116fab8ff0843e(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 6(Integer), 26-04-17", "2026-04-18", "2026-04-19", "2026-04-20", "2026-04-21", "2026-04-22", "2026-04-23", "2026-04-24", "2026-04-25" ], "profitRatioResult": 0, "isRangeAvail": true, "isCoverageAvail": true } ] }{ "sysCode" : "FAI", "supplierApplyActInputBeans" : [ { "activityId" : 175248, "productId" : 210480567, "departsDateBeans" : [ { "departsDate" : "2026-02-02" }, { "departsDate" : "2026-02-03" }, { "departsDate" : "2026-02-04" }, { "departsDate" : "2026-02-01" }, { "departsDate" : "2026-02-05" } ] } ] }(String), 文档开头(String), null, null, null, c9a05e330bad809955723c9f1baf5ce02b0c487bc06a99da7bf9c3279f3fd279(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 7(Integer),  "departsDateBeans" : [ { "departsDate" : "2026-02-02" }, { "departsDate" : "2026-02-03" }, { "departsDate" : "2026-02-04" }, { "departsDate" : "2026-02-01" }, { "departsDate" : "2026-02-05" } ] } ] }{ "success": true, "msg": null, "errorCode": 0, "data": [ { "activityId": "175248", "profitRatioDetail": [ { "departsDate": "2026-02-02", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-02-03", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-02-04", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-02-01", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-02-05", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null } ], "productId": "210480567", "appliedReductionCount": "1", "appliedReductionCountAvail": true, "appliedDates": [ "2026-02-01", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05" ], "profitRatioResult": 0, "isRangeAvail": true, "isCoverageAvail": true } ] }(String), 文档开头(String), null, null, null, 76d268076021ff970c323e93958c87b10b444585ac80e204fe8c9e9329c474df(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 8(Integer), appliedReductionCountAvail": true, "appliedDates": [ "2026-02-01", "2026-02-02", "2026-02-03", "2026-02-04", "2026-02-05" ], "profitRatioResult": 0, "isRangeAvail": true, "isCoverageAvail": true } ] }{ "success": true, "msg": null, "errorCode": 0, "data": [ { "activityId": "175248", "profitRatioDetail": [ { "departsDate": "2026-03-02", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-03", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-04", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-01", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null }, { "departsDate": "2026-03-05", "cost": null, "tuniuPrice": null, "profitRatioAvail": true, "profitRatioError": null } ], "productId": "210480567", "appliedReductionCount": "1", "appliedReductionCountAvail": true, "profitRatioResult": 0, "isRangeAvail": true, "isCoverageAvail": true } ] }(String), 文档开头(String), null, null, null, e797cf2f57d4446101c765a18cea8b9395b87e18da892f369972144c1b3736db(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 9(Integer), e, "profitRatioError": null } ], "productId": "210480567", "appliedReductionCount": "1", "appliedReductionCountAvail": true, "profitRatioResult": 0, "isRangeAvail": true, "isCoverageAvail": true } ] }MCS.NM.ProductTourController.queryProdPriceCalender { "productId" : 210480567, "beginDate" : "2026-02-01", "endDate" : "2026-03-31", "resId" : null }(String), 文档开头(String), null, null, null, 03c3c4beb7f0b39271a0b8cd135b018ded79b3d4e1ede1681e3aaa9a2361fefc(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 10(Integer), "isRangeAvail": true, "isCoverageAvail": true } ] }MCS.NM.ProductTourController.queryProdPriceCalender { "productId" : 210480567, "beginDate" : "2026-02-01", "endDate" : "2026-03-31", "resId" : null }{ "success" : true, "msg" : "成功", "errorCode" : 1090000, "data" : [ { "depertureDate" : "2026-02-01", "resId" : null, "closeType" : 0, "priceValue" : 2075.0 }, { "depertureDate" : "2026-02-02", "resId" : null, "closeType" : 0, "priceValue" : 2075.0 }, { "depertureDate" : "2026-02-03", "resId" : null, "closeType" : 0, "priceValue" : 2075.0 }, { "depertureDate" : "2026-02-04", "resId" : null, "closeType" : 0, "priceValue" : 2075.0 }, { "depertureDate" : "2026-02-05", "resId" : null, "closeType" : 0, "priceValue" : 2075.0 }, { "depertureDate" : "2026-02-06", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-07", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-08", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-09", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-10", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-11", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-12", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-13", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-14", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-15", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-16", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-17", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-18", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-19", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-20", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-21", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-22", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-23", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-24", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-25", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-26", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-27", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-02-28", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-01", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-02", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-03", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-04", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-05", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-06", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-07", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-08", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-09", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-10", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-11", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-12", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-13", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-14", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-15", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-16", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-17", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-18", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-19", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-20", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-21", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-22", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-23", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-24", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-25", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-26", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-27", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-28", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-29", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-30", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-31", "resId" : null, "closeType" : 0, "priceValue" : null } ] }(String), 文档开头(String), null, null, null, 49a7d4461528be521aaae62eeceaa9b749fdfb873aae28cfac666c5d07ace65b(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 11(Integer), eValue" : null }, { "depertureDate" : "2026-03-30", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-03-31", "resId" : null, "closeType" : 0, "priceValue" : null } ] }{ "productId" : 210480567, "beginDate" : "2026-03-01", "endDate" : "2026-04-30", "resId" : null } { "success" : true, "msg" : "成功", "errorCode" : 1090000, "data" : [ { "depertureDate" : "2026-03-01", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-03-02", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-03-03", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-04", "resId" : null, "closeType" : 0, "priceValue" : 2765.0 }, { "depertureDate" : "2026-03-05", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-06", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-03-07", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-03-08", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-03-09", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-03-10", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-11", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-03-12", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-13", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-03-14", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-03-15", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-03-16", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-03-17", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-18", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-03-19", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-20", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-03-21", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-03-22", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-03-23", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-03-24", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-25", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-03-26", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-03-27", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-03-28", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-03-29", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-03-30", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-03-31", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-01", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-04-02", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-03", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-04-04", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-04-05", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-04-06", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-04-07", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-08", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-04-09", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-10", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-04-11", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-04-12", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-04-13", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-04-14", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-15", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-04-16", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-17", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-04-18", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-04-19", "resId" : null, "closeType" : 0, "priceValue" : 3119.0 }, { "depertureDate" : "2026-04-20", "resId" : null, "closeType" : 0, "priceValue" : 2869.0 }, { "depertureDate" : "2026-04-21", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-22", "resId" : null, "closeType" : 0, "priceValue" : 2745.0 }, { "depertureDate" : "2026-04-23", "resId" : null, "closeType" : 0, "priceValue" : 2901.0 }, { "depertureDate" : "2026-04-24", "resId" : null, "closeType" : 0, "priceValue" : 3140.0 }, { "depertureDate" : "2026-04-25", "resId" : null, "closeType" : 0, "priceValue" : 2880.0 }, { "depertureDate" : "2026-04-26", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-04-27", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-04-28", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-04-29", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-04-30", "resId" : null, "closeType" : 0, "priceValue" : null } ] }(String), 文档开头(String), null, null, null, c7f2b9ad17c2c54fd64f9315f29c3d0f1a600f0c73384ca2ee4f655b814d5a64(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 12(Integer), eValue" : null }, { "depertureDate" : "2026-04-29", "resId" : null, "closeType" : 0, "priceValue" : null }, { "depertureDate" : "2026-04-30", "resId" : null, "closeType" : 0, "priceValue" : null } ] }"id": 0, "delFlag": 0, "opTime": null, "opUid": 0, "opName": "", "productId": 0, "planDate": null, "roomGrapFlag": 0, "aheadDate": 0, "deadlineDate": 1, "deadlineHour": 18, "deadlineTime": "2026-03-15 18:00:00", "setGroupFlag": 0, "depertureDate": "2026-03-16", "priceValue": null, "priceChildValue": null, "priceBasePrice": null, "priceBaseChildPrice": null, "isClose": 0, "priceDesc": "", "bookCity": 415, "bookCityName": "漳州", "startCityName": "漳州", "backCityName": "漳州", "planId": 271329494, "journeyId": 0, "currentJourneyId": 0, "journeyName": null, "isRealTimePrice": null, "closeType": 0, "closeReason": "", "closeOpUid": 0, "closeOpName": "", "closeTime": "2025-10-29 15:33:03", "priceAdultCompetitiveValue": null, "priceChildCompetitiveValue": null, "configWindowNum": 2, "noPriceReason": 1, "signPeopleNum": 0(String), 文档开头(String), null, null, null, e2f99878eaea104a67db6492e316ea8dc42404c52e06b551630bfc0e2dfc23e0(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp), 2(Long), 13(Integer), seOpUid": 0, "closeOpName": "", "closeTime": "2025-10-29 15:33:03", "priceAdultCompetitiveValue": null, "priceChildCompetitiveValue": null, "configWindowNum": 2, "noPriceReason": 1, "signPeopleNum": 0{ "id": 0, "delFlag": 0, "opTime": null, "opUid": 0, "opName": "", "productId": 0, "planDate": null, "roomGrapFlag": 0, "aheadDate": 0, "deadlineDate": 1, "deadlineHour": 18, "deadlineTime": "2026-03-05 18:00:00", "setGroupFlag": 0, "depertureDate": "2026-03-06", "priceValue": 3140.0, "priceChildValue": 1617.0, "priceBasePrice": null, "priceBaseChildPrice": null, "isClose": 0, "priceDesc": "", "bookCity": 1622, "bookCityName": "扬州", "startCityName": "扬州", "backCityName": "扬州", "planId": 271329206, "journeyId": 0, "currentJourneyId": 0, "journeyName": null, "isRealTimePrice": 0, "closeType": 0, "closeReason": "", "closeOpUid": 0, "closeOpName": "", "closeTime": "2025-10-29 15:33:03", "priceAdultCompetitiveValue": 0, "priceChildCompetitiveValue": 0, "configWindowNum": 1, "noPriceReason": 0, "signPeopleNum": 0 },(String), 文档开头(String), null, null, null, f7826e030aa47aaf66da97dc11089e0ee759875110d97559db83fc925da74e0e(String), false(Boolean), 2026-01-05 14:19:17.746257(Timestamp)
2026-01-05 14:19:17.790 [tomcat-handler-5] DEBUG c.a.r.mapper.ChunkMapper.batchInsert - <==    Updates: 14
2026-01-05 14:19:17.791 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.791 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 已插入 14 个切片
2026-01-05 14:19:17.792 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50] from current transaction
2026-01-05 14:19:17.792 [tomcat-handler-5] DEBUG c.a.r.m.R.updateChunkStatus - ==>  Preparing: UPDATE resources SET chunk_count = ?, vectorized = ? WHERE id = ?
2026-01-05 14:19:17.792 [tomcat-handler-5] DEBUG c.a.r.m.R.updateChunkStatus - ==> Parameters: 14(Integer), false(Boolean), 2(Long)
2026-01-05 14:19:17.793 [tomcat-handler-5] DEBUG c.a.r.m.R.updateChunkStatus - <==    Updates: 1
2026-01-05 14:19:17.793 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.794 [tomcat-handler-5] INFO  c.a.r.service.impl.VectorServiceImpl - 开始向量化资源切片: resourceId=2
2026-01-05 14:19:17.794 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50] from current transaction
2026-01-05 14:19:17.794 [tomcat-handler-5] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - ==>  Preparing: SELECT id, resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at FROM resource_chunks WHERE resource_id = ? AND vectorized = FALSE ORDER BY chunk_index ASC
2026-01-05 14:19:17.795 [tomcat-handler-5] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - ==> Parameters: 2(Long)
2026-01-05 14:19:17.803 [tomcat-handler-5] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - <==      Total: 14
2026-01-05 14:19:17.803 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.803 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 批量向量化 14 个切片
2026-01-05 14:19:17.803 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.803 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.823 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=2
2026-01-05 14:19:17.823 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=2
2026-01-05 14:19:17.823 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.823 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.825 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=3
2026-01-05 14:19:17.825 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=3
2026-01-05 14:19:17.825 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.825 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.827 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=4
2026-01-05 14:19:17.828 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=4
2026-01-05 14:19:17.828 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.828 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.830 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=5
2026-01-05 14:19:17.830 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=5
2026-01-05 14:19:17.830 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.830 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.833 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=6
2026-01-05 14:19:17.833 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=6
2026-01-05 14:19:17.833 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.833 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.835 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=7
2026-01-05 14:19:17.835 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=7
2026-01-05 14:19:17.835 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.835 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.837 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=8
2026-01-05 14:19:17.837 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=8
2026-01-05 14:19:17.837 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.837 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.839 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=9
2026-01-05 14:19:17.839 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=9
2026-01-05 14:19:17.839 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.839 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.841 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=10
2026-01-05 14:19:17.842 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=10
2026-01-05 14:19:17.842 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.842 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.843 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=11
2026-01-05 14:19:17.844 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=11
2026-01-05 14:19:17.844 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.844 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.846 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=12
2026-01-05 14:19:17.846 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=12
2026-01-05 14:19:17.846 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.846 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.849 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=13
2026-01-05 14:19:17.849 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=13
2026-01-05 14:19:17.849 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.849 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.851 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=14
2026-01-05 14:19:17.851 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=14
2026-01-05 14:19:17.851 [tomcat-handler-5] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:19:17.851 [tomcat-handler-5] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:19:17.853 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=15
2026-01-05 14:19:17.853 [tomcat-handler-5] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=15
2026-01-05 14:19:17.853 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50] from current transaction
2026-01-05 14:19:17.854 [tomcat-handler-5] DEBUG c.a.r.m.C.batchUpdateVectorized - ==>  Preparing: UPDATE resource_chunks SET vectorized = ? WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? )
2026-01-05 14:19:17.854 [tomcat-handler-5] DEBUG c.a.r.m.C.batchUpdateVectorized - ==> Parameters: true(Boolean), 2(Long), 3(Long), 4(Long), 5(Long), 6(Long), 7(Long), 8(Long), 9(Long), 10(Long), 11(Long), 12(Long), 13(Long), 14(Long), 15(Long)
2026-01-05 14:19:17.856 [tomcat-handler-5] DEBUG c.a.r.m.C.batchUpdateVectorized - <==    Updates: 14
2026-01-05 14:19:17.856 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.856 [tomcat-handler-5] INFO  c.a.r.service.impl.VectorServiceImpl - 批量更新向量化状态: 14 个切片
2026-01-05 14:19:17.856 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 向量化任务已触发: 资源ID=2
2026-01-05 14:19:17.865 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.865 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:17.866 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6a3df50]
2026-01-05 14:19:33.342 [tomcat-handler-7] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 829342 milliseconds ago at 2026-01-05T06:05:44.000Z. Current time: 2026-01-05T06:19:33.342Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:19:38.480 [tomcat-handler-8] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 14:19:38.480 [tomcat-handler-8] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 14:19:38.480 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:38.480 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e209ee7] was not registered for synchronization because synchronization is not active
2026-01-05 14:19:38.481 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2065831751 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:19:38.481 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:19:38.482 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 14:19:38.483 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:19:38.483 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e209ee7]
2026-01-05 14:19:38.565 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:38.565 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a13297c] was not registered for synchronization because synchronization is not active
2026-01-05 14:19:38.565 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1895711103 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:19:38.565 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:19:38.566 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:19:38.565469(Timestamp), 5(Long)
2026-01-05 14:19:38.569 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:19:38.569 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a13297c]
2026-01-05 14:19:38.569 [tomcat-handler-8] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 14:19:47.704 [tomcat-handler-9] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:19:47.706 [tomcat-handler-9] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 14:19:47.706 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:47.706 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10701406] was not registered for synchronization because synchronization is not active
2026-01-05 14:19:47.707 [tomcat-handler-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@751640788 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:19:47.707 [tomcat-handler-9] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 14:19:47.707 [tomcat-handler-9] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 14:19:47.709 [tomcat-handler-9] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 2
2026-01-05 14:19:47.709 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@10701406]
2026-01-05 14:19:47.709 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:19:47.710 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cae374] was not registered for synchronization because synchronization is not active
2026-01-05 14:19:47.710 [tomcat-handler-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1183452559 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:19:47.710 [tomcat-handler-9] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 14:19:47.710 [tomcat-handler-9] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 14:19:47.712 [tomcat-handler-9] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 14:19:47.713 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@56cae374]
2026-01-05 14:20:45.768 [tomcat-handler-10] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 9768 milliseconds ago at 2026-01-05T06:20:36.000Z. Current time: 2026-01-05T06:20:45.768Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:20:58.229 [tomcat-handler-12] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 22229 milliseconds ago at 2026-01-05T06:20:36.000Z. Current time: 2026-01-05T06:20:58.229Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:21:00.310 [tomcat-handler-13] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 24310 milliseconds ago at 2026-01-05T06:20:36.000Z. Current time: 2026-01-05T06:21:00.310Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:21:08.617 [tomcat-handler-14] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2026-01-05 14:21:08.618 [tomcat-handler-14] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2026-01-05 14:21:08.618 [tomcat-handler-14] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:08.618 [tomcat-handler-14] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542dad7a] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:08.619 [tomcat-handler-14] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@244874155 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:08.619 [tomcat-handler-14] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:21:08.620 [tomcat-handler-14] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2026-01-05 14:21:08.627 [tomcat-handler-14] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:21:08.628 [tomcat-handler-14] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@542dad7a]
2026-01-05 14:21:08.718 [tomcat-handler-14] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:08.718 [tomcat-handler-14] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b94155] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:08.718 [tomcat-handler-14] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2135319173 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:08.718 [tomcat-handler-14] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:21:08.718 [tomcat-handler-14] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:21:08.717967(Timestamp), 7(Long)
2026-01-05 14:21:08.723 [tomcat-handler-14] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:21:08.723 [tomcat-handler-14] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@46b94155]
2026-01-05 14:21:08.723 [tomcat-handler-14] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2026-01-05 14:21:09.310 [tomcat-handler-15] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:21:09.311 [tomcat-handler-15] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 14:21:09.315 [tomcat-handler-15] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 14:21:09.315 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:09.315 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db295e9]
2026-01-05 14:21:09.315 [tomcat-handler-15] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@804511828 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will be managed by Spring
2026-01-05 14:21:09.315 [tomcat-handler-15] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:21:09.315 [tomcat-handler-15] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 14:21:09.318 [tomcat-handler-15] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:21:09.318 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db295e9]
2026-01-05 14:21:09.318 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db295e9]
2026-01-05 14:21:09.318 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db295e9]
2026-01-05 14:21:09.318 [tomcat-handler-15] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1db295e9]
2026-01-05 14:21:09.501 [tomcat-handler-16] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:21:09.502 [tomcat-handler-16] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 14:21:09.505 [tomcat-handler-16] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 14:21:09.505 [tomcat-handler-16] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:09.505 [tomcat-handler-16] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71261abf]
2026-01-05 14:21:09.505 [tomcat-handler-16] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@415521470 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will be managed by Spring
2026-01-05 14:21:09.505 [tomcat-handler-16] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:21:09.505 [tomcat-handler-16] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 14:21:09.507 [tomcat-handler-16] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:21:09.508 [tomcat-handler-16] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71261abf]
2026-01-05 14:21:09.508 [tomcat-handler-16] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71261abf]
2026-01-05 14:21:09.508 [tomcat-handler-16] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71261abf]
2026-01-05 14:21:09.508 [tomcat-handler-16] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@71261abf]
2026-01-05 14:21:20.318 [tomcat-handler-17] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:21:20.382 [tomcat-handler-17] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=7, title=Java学习路线（2025最新版，暗色）, file=Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:21:20.384 [tomcat-handler-17] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: Java学习路线（2025最新版，暗色）, 文件: Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:21:20.388 [tomcat-handler-17] INFO  c.a.r.s.impl.ResourceServiceImpl - 文件已保存: /Users/hubin5/app/Aetheris/backend/uploads/1767594080384_Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:21:20.447 [tomcat-handler-17] DEBUG c.a.r.s.impl.ResourceServiceImpl - 文件内容哈希: 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3
2026-01-05 14:21:20.447 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:20.447 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:20.447 [tomcat-handler-17] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@222712730 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will be managed by Spring
2026-01-05 14:21:20.447 [tomcat-handler-17] DEBUG c.a.r.m.R.findByContentHash - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE content_hash = ?
2026-01-05 14:21:20.448 [tomcat-handler-17] DEBUG c.a.r.m.R.findByContentHash - ==> Parameters: 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3(String)
2026-01-05 14:21:20.449 [tomcat-handler-17] DEBUG c.a.r.m.R.findByContentHash - <==      Total: 0
2026-01-05 14:21:20.449 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:20.451 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f] from current transaction
2026-01-05 14:21:20.451 [tomcat-handler-17] DEBUG c.a.rag.mapper.ResourceMapper.insert - ==>  Preparing: INSERT INTO resources ( title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? )
2026-01-05 14:21:20.452 [tomcat-handler-17] DEBUG c.a.rag.mapper.ResourceMapper.insert - ==> Parameters: Java学习路线（2025最新版，暗色）(String), Java学习路线(String), PDF(String), /Users/hubin5/app/Aetheris/backend/uploads/1767594080384_Java学习路线（2025最新版，暗色）.pdf(String), 5763978(Long), Java学习路线(String), 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3(String), 7(Long), 2026-01-05 14:21:20.451407(Timestamp), 0(Integer), false(Boolean)
2026-01-05 14:21:20.453 [tomcat-handler-17] DEBUG c.a.rag.mapper.ResourceMapper.insert - <==    Updates: 1
2026-01-05 14:21:20.453 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:20.453 [tomcat-handler-17] INFO  c.a.r.s.impl.ResourceServiceImpl - 资源记录已创建: 3
2026-01-05 14:21:20.454 [tomcat-handler-17] INFO  com.aetheris.rag.util.PdfProcessor - 开始处理 PDF 文件: /Users/hubin5/app/Aetheris/backend/uploads/1767594080384_Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:21:20.572 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - PDF 总页数: 55
2026-01-05 14:21:20.851 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 0: 页 0-1, 长度 711
2026-01-05 14:21:20.851 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 1: 页 2-2, 长度 748
2026-01-05 14:21:20.851 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 2: 页 3-3, 长度 1081
2026-01-05 14:21:20.851 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 3: 页 4-5, 长度 824
2026-01-05 14:21:20.851 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 4: 页 6-6, 长度 590
2026-01-05 14:21:20.851 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 5: 页 7-7, 长度 712
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 6: 页 8-8, 长度 725
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 7: 页 9-9, 长度 620
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 8: 页 10-11, 长度 988
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 9: 页 12-14, 长度 953
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 10: 页 15-16, 长度 874
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 11: 页 17-17, 长度 1015
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 12: 页 18-18, 长度 454
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 13: 页 19-19, 长度 975
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 14: 页 20-22, 长度 929
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 15: 页 23-24, 长度 468
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 16: 页 25-25, 长度 746
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 17: 页 26-27, 长度 980
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 18: 页 28-28, 长度 862
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 19: 页 29-30, 长度 782
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 20: 页 31-31, 长度 1080
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 21: 页 32-32, 长度 460
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 22: 页 33-33, 长度 946
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 23: 页 34-34, 长度 654
2026-01-05 14:21:20.852 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 24: 页 35-35, 长度 1116
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 25: 页 36-37, 长度 983
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 26: 页 38-38, 长度 851
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 27: 页 39-39, 长度 838
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 28: 页 40-41, 长度 797
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 29: 页 42-42, 长度 604
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 30: 页 43-43, 长度 1027
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 31: 页 44-44, 长度 1149
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 32: 页 45-45, 长度 614
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 33: 页 46-46, 长度 881
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 34: 页 47-47, 长度 643
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 35: 页 48-48, 长度 915
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 36: 页 49-49, 长度 1050
2026-01-05 14:21:20.853 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 37: 页 50-50, 长度 936
2026-01-05 14:21:20.854 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 38: 页 51-51, 长度 1136
2026-01-05 14:21:20.854 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 39: 页 52-52, 长度 1279
2026-01-05 14:21:20.854 [tomcat-handler-17] DEBUG com.aetheris.rag.util.PdfProcessor - 创建切片 40: 页 53-53, 长度 416
2026-01-05 14:21:20.854 [tomcat-handler-17] INFO  com.aetheris.rag.util.PdfProcessor - PDF 处理完成，共生成 41 个切片
2026-01-05 14:21:20.858 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f] from current transaction
2026-01-05 14:21:20.863 [tomcat-handler-17] DEBUG c.a.r.mapper.ChunkMapper.batchInsert - ==>  Preparing: INSERT INTO resource_chunks ( resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?) , (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-01-05 14:21:20.868 [tomcat-handler-17] DEBUG c.a.r.mapper.ChunkMapper.batchInsert - ==> Parameters: 3(Long), 0(Integer), 这是 Java 学习路线的 2025 最新版，每年都会根据当下 Java 后端求职和招聘的最新要求进⾏全⾯
的优化和改进。
这篇⽂章可能是你所⻅过的最⽤⼼、最全⾯的 Java 后端学习路线，共 4w+ 字。不过，也不⽤担⼼
内容太多学不完，我会按照学习难度给出找⼀份⼩⼚⼯作必学的内容以及适合循序渐进提⾼ Java 
后端开发能⼒的学习路线。
对于初学者，你可以按照这篇⽂章推荐的学习路线和资料进⾏系统性的学习；对于有经验的开发
者，你可以根据这篇⽂章更⼀步地深⼊学习 Java 后端开发，提升个⼈竞争⼒。
为了保证内容的不⾄于太杂，这篇⽂章不会涉及到学习⽅法以及学习⽹站的推荐，可以看我之前写
的下⾯这⼏篇⽂章：
我是怎么学习编程的？
我常⽤的 20+个学习编程的⽹站！芜湖起⻜！
程序员如何快速学习新技术？
这篇⽂章也不会涉及到计算机基础的内容，关于计算机基础知识的学习可以参考我的⽹站上的分
享，地址：https://javaguide.cn/books/cs-basics.html 。
多说⼀句：对于编程初学者，我不太建议上来通过做项⽬学习。实践确实很重要，如果你没有编程
基础的话，直接上⼿实战，很容易最后学个四不像。建议你在学习编程的初期尽量多看⼀些优质视
频。跟着视频⼀步⼀步⾛，可以让你少踩很多坑，学习编程的信⼼也会增加。
Java 后端学习路线概览  
我画了⼀张图，先简单带⼤家看看 Java 后端学习路线的全貌以及我所推荐的学习顺序。
下图中涉及到的每⼀个知识点都会在下⽂中详细介绍（附带学习资源推荐）。上⾯这张图⽚的原图+PDF 版本，可以在公众号「JavaGuide」后台回复“学习路线”获取。(String), 第0-1页(String), 0(Integer), 1(Integer), null, 23d0a1bda05f399edd4f47d87ff8bd7d45d853a0d3b01bc9c0193478b6bba4f1(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 1(Integer), 四不像。建议你在学习编程的初期尽量多看⼀些优质视
频。跟着视频⼀步⼀步⾛，可以让你少踩很多坑，学习编程的信⼼也会增加。
Java 后端学习路线概览  
我画了⼀张图，先简单带⼤家看看 Java 后端学习路线的全貌以及我所推荐的学习顺序。
下图中涉及到的每⼀个知识点都会在下⽂中详细介绍（附带学习资源推荐）。上⾯这张图⽚的原图+PDF 版本，可以在公众号「JavaGuide」后台回复“学习路线”获取。内容⽐较多？劝退？ 如果你只想找到⼀份⼩⼚的开发⼯作的话，建议你把重⼼放在 Java 基础、数
据库、常⽤框架、常⽤⼯具上。
像 JVM、分布式、⾼并发、⾼可⽤、微服务这些知识点，如果你想进⼤⼚或者说让⾃⼰在求职的时
候更有竞争⼒，那你就也是要多花⼀点时间来学习的。
现在⾯试很卷，想要找到⼀个好⼯作的话，就需要你去多学⼀点，多练习⼀点。虽然，你⽬前学的
很多知识，在你⼯作之后可能⽤不到，但是，⾯试的筛选就需要你会这些。毕竟，很多岗位是很多
⼈⼀起竞争，为了达到筛选效果，⾯试难度通常都会⽐较⼤的。这也就是所谓的：“⾯试造⽕箭，⼊
职拧螺丝”。
已经淘汰的 Java 技术  
已经淘汰的 Java 技术，不要再学了！这篇⽂章提到了在 Java 开发领域中已经被淘汰的技术，⼀定
⼀定⼀定不要再学了！谁推荐你学下⾯这些技术，直接甩他两⽿光⼦。
JSP
原因：JSP 已经过时，⽆法满⾜现代 Web 开发需求；前后端分离成为主流。
替代⽅案：模板引擎（如 Thymeleaf、Freemarker）在传统全栈开发中更流⾏；⽽在前后端分
离架构中，React、Vue、Angular 等现代前端框架已取代 JSP 的⻆⾊。
注意：⼀些国企和央企的⽼项⽬可能仍然在使⽤ JSP，但这种情况越来越少⻅。(String), 第2-2页(String), 2(Integer), 2(Integer), null, c0a7f480d8a95cea5447df2879671915762e6267b9ca4c32e81ee3140df6e5f0(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 2(Integer), 学了！谁推荐你学下⾯这些技术，直接甩他两⽿光⼦。
JSP
原因：JSP 已经过时，⽆法满⾜现代 Web 开发需求；前后端分离成为主流。
替代⽅案：模板引擎（如 Thymeleaf、Freemarker）在传统全栈开发中更流⾏；⽽在前后端分
离架构中，React、Vue、Angular 等现代前端框架已取代 JSP 的⻆⾊。
注意：⼀些国企和央企的⽼项⽬可能仍然在使⽤ JSP，但这种情况越来越少⻅。Struts（尤其是 1.x）
原因：配置繁琐、开发效率低，且存在严重的安全漏洞（如世界著名的 Apache Struts 2 漏
洞）。此外，社区维护不⾜，⽣态逐渐萎缩。
替代⽅案：Spring MVC 和 Spring WebFlux 提供了更简洁的开发体验、更强⼤的功能以及完善
的社区⽀持，完全取代了 Struts。
EJB (Enterprise JavaBeans)
原因：EJB 过于复杂，开发成本⾼，学习曲线陡峭，在实际项⽬中逐步被更轻量化的框架取
代。
替代⽅案：Spring/Spring Boot 提供了更加简洁且功能强⼤的企业级开发解决⽅案，⼏乎已经
成为 Java 企业开发的事实标准。此外，国产的 Solon 和云原⽣友好的 Quarkus 等框架也⾮常
不错。
Java Applets
原因：现代浏览器（如 Chrome、Firefox、Edge）早已全⾯移除对 Java Applets 的⽀持，同时 
Applets 存在严重的安全性问题。
替代⽅案：HTML5、WebAssembly 以及现代 JavaScript 框架（如 React、Vue）可以实现更
加安全、⾼效的交互体验，⽆需插件⽀持。
SOAP / JAX-WS
原因：SOAP 和 JAX-WS 过于复杂，数据格式冗⻓（XML），对开发效率和性能不友好。
替代⽅案：RESTful API 和 RPC 更轻量、⾼效，是现代微服务架构的⾸选。
RMI（Remote Method Invocation）
原因：RMI 是⼀种早期的 Java 远程调⽤技术，但兼容性差、配置繁琐，且性能较差。
替代⽅案：RESTful API 和 PRC 提供了更简单、⾼效的远程调⽤解决⽅案，完全取代了 
RMI。
Swing / JavaFX
原因：桌⾯应⽤在开发领域的份额⼤幅减少，Web 和移动端成为主流。Swing 和 JavaFX 的⽣
态不如现代跨平台框架丰富。
替代⽅案：跨平台桌⾯开发框架（如 Flutter Desktop、Electron）更具现代化体验。(String), 第3-3页(String), 3(Integer), 3(Integer), null, 50da1bb1d35143db0bdc5fcc30a5123ce0f67702b25c01e3dade689c3d30b4ba(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 3(Integer), 容性差、配置繁琐，且性能较差。
替代⽅案：RESTful API 和 PRC 提供了更简单、⾼效的远程调⽤解决⽅案，完全取代了 
RMI。
Swing / JavaFX
原因：桌⾯应⽤在开发领域的份额⼤幅减少，Web 和移动端成为主流。Swing 和 JavaFX 的⽣
态不如现代跨平台框架丰富。
替代⽅案：跨平台桌⾯开发框架（如 Flutter Desktop、Electron）更具现代化体验。注意：⼀些国企和央企的⽼项⽬可能仍然在使⽤ Swing / JavaFX，但这种情况越来越少⻅。
Ant
原因：Ant 是⼀种基于 XML 配置的构建⼯具，缺乏易⽤性，配置繁琐。
替代⽅案：Maven 和 Gradle 提供了更⾼效的项⽬依赖管理和构建功能，成为现代构建⼯具的
⾸选。
⾯试题⾃测  
纸上学来终觉浅，躬⾏此事要知难。为了帮助你更好地将知识内化，我特别准备了⼀份与该学习路
线完全匹配的⾼频⾯试题集：https://t.zsxq.com/0eM78gbAr （JavaGuide 知识星球专属）。
这份资源可以帮你：
⾃我检测： 系统性地检验⾃⼰对各个知识点的掌握情况。
查漏补缺： 及时发现⾃⼰的薄弱环节，进⾏针对性巩固。
模拟⾯试： 提前熟悉⾯试节奏和⾼频考点。
强烈推荐⼤家通过⾃测的⽅式，把学习推向更深的层次。
Java 核⼼  
Java 基础  
如果你之前没有学习过编程的话，我建议你可以看看视频教程。像尚硅⾕的 《Java 基础教程系
列》和韩顺平⽼师的《零基础 30 天学会 Java》就很不错。!
我整理了尚硅⾕最新的 Java 后端学习系列完整的视频教程&资料，喜欢看视频的朋友可以点此
链接下载： 【最新整理】尚硅⾕ Java 后端全套教程 & 实战项⽬（推荐）。
看视频的同时，配套⼀本好书也是⾮常有作⽤的。
优秀的 Java 基础书籍⾮常多，我这⾥只推荐 3 本。
1、《Head First Java》(String), 第4-5页(String), 4(Integer), 5(Integer), null, e43a0c98ee2e5bc13904fcbf8bb4a90f37b089b148594e1999c2a4d6745eafbe(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 4(Integer), ava 基础教程系
列》和韩顺平⽼师的《零基础 30 天学会 Java》就很不错。!
我整理了尚硅⾕最新的 Java 后端学习系列完整的视频教程&资料，喜欢看视频的朋友可以点此
链接下载： 【最新整理】尚硅⾕ Java 后端全套教程 & 实战项⽬（推荐）。
看视频的同时，配套⼀本好书也是⾮常有作⽤的。
优秀的 Java 基础书籍⾮常多，我这⾥只推荐 3 本。
1、《Head First Java》《Head First Java》这本书的内容很轻松有趣，可以说是我学习编程初期最喜欢的⼏本书之⼀了。
同时，这本书也是我的 Java 启蒙书籍。我在学习 Java 的初期多亏了这本书的帮助，⾃⼰才算是跨
进 Java 语⾔的⼤⻔。我在 Java 这块能够坚持下来，这本书有很⼤的功劳。我身边的的很多朋友学
习 Java 初期都是看的这本书。
有很多⼩伙伴就会问了：这本书适不适合编程新⼿阅读呢？
我个⼈觉得这本书还是挺适合编程新⼿阅读的，毕竟是 “Head First” 系列。
2、《Java 核⼼技术卷 1+卷 2》
《Java 核⼼技术卷 1+卷 2》这两本书的内容很多，全看的话⽐较费时间，⽐较适合当⼯作书。我
当时在⼤学的时候就买了两本放在寝室，没事的时候就翻翻。个⼈建议有点 Java 基础之后再读这
两本，介绍的还是⽐较深⼊和全⾯的。
3、《Java 编程的逻辑》(String), 第6-6页(String), 6(Integer), 6(Integer), null, 545a8d3b1cd659d5d7f92de827144c054131dac31be95d87b49a88cbfdb9fef2(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 5(Integer), 编程新⼿阅读呢？
我个⼈觉得这本书还是挺适合编程新⼿阅读的，毕竟是 “Head First” 系列。
2、《Java 核⼼技术卷 1+卷 2》
《Java 核⼼技术卷 1+卷 2》这两本书的内容很多，全看的话⽐较费时间，⽐较适合当⼯作书。我
当时在⼤学的时候就买了两本放在寝室，没事的时候就翻翻。个⼈建议有点 Java 基础之后再读这
两本，介绍的还是⽐较深⼊和全⾯的。
3、《Java 编程的逻辑》《Java 编程的逻辑》是⼀本⾮常低调的好书，相⽐于⼊⻔书来说，内容更有深度。适合初学者，同
时也适合⼤家拿来复习 Java 基础知识。这篇⽂章中有这本书的阅读建议：⼋股⽂骚套路之 Java 基
础 。
学完 Java 基础之后，你可以⽤⾃⼰学的东⻄实现⼀个简单的 Java 程序，也可以尝试⽤ Java 解决
⼀些编程问题，以此来将⾃⼰学到的东⻄付诸于实践。
不太建议学习 Java 基础的之后通过做游戏来巩固。为什么培训班喜欢通过这种⽅式呢？说⽩点就
是为了找到你的 G 点。新⼿学习完 Java 基础后做游戏⼀般是不太现实的，还不如找⼀些简单的程
序问题解决⼀下⽐如简单的算法题。
记得多总结！打好基础！把⾃⼰重要的东⻄都记录下来。 API ⽂档放在⾃⼰可以看到的地⽅，以备
⾃⼰可以随时查阅。为了能让⾃⼰写出更优秀的代码，《Effective Java》、《重构》 这两本书没事
也可以看。
学完这部分内容之后，务必确保⾃⼰掌握下⾯知识点：
基本语法、基本数据类型
对象、类、接⼝
继承、泛型
⽅法
异常、断⾔
集合
……
学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点（顺便还能准备⼀下⾯试常⻅问
题）：(String), 第7-7页(String), 7(Integer), 7(Integer), null, 064e30c3f62aae87707833ea3f9539e67ad7d6dd9357f3c40bf4dcea18aa53cb(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 6(Integer), ⻄都记录下来。 API ⽂档放在⾃⼰可以看到的地⽅，以备
⾃⼰可以随时查阅。为了能让⾃⼰写出更优秀的代码，《Effective Java》、《重构》 这两本书没事
也可以看。
学完这部分内容之后，务必确保⾃⼰掌握下⾯知识点：
基本语法、基本数据类型
对象、类、接⼝
继承、泛型
⽅法
异常、断⾔
集合
……
学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点（顺便还能准备⼀下⾯试常⻅问
题）：Java 基础：
Java 基础常⻅⾯试题总结(上)（Java 语⾔的基本概念、语法、数据类型、变量、⽅法等）
Java 基础常⻅⾯试题总结(中)（⾯向对象基础、字符串、对象的⽐较与拷⻉等）
Java 基础常⻅⾯试题总结（下）（异常、泛型、反射、SPI、序列化、注解等）
Java 集合：
Java 集合常⻅⾯试题总结（上）（Java 集合基础、 ArrayList 、 LinkedList 、 HashSet 、
ArrayDeque 、 PriorityQueue 、 BlockingQueue  等）
Java 集合常⻅⾯试题总结（下）（ HashMap 、 ConcurrentHashMap  等）
Java 并发（进阶）  
并发或者说多线程这部分内容稍微会⽐较难以理解和实践。如果你刚学完 Java 基础的话，我建议
你学习并发这部分内容的时候，可以先简单地了解⼀下基础知识⽐如线程和进程的对⽐。到了后
⾯，你对于 Java 了解的更深了之后，再回来仔细看看这部分的内容。
Java 并发书籍的话，挺多写的还不错的，⽐如《实战 Java ⾼并发程序设计》、《Java 并发编程之
美》、《Java 并发实现原理：JDK 源码剖析》。(String), 第8-8页(String), 8(Integer), 8(Integer), null, bcbc2c538b8da7298194cb3a4b90373741869775bf2f48418c68b6f940959d10(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 7(Integer), 说多线程这部分内容稍微会⽐较难以理解和实践。如果你刚学完 Java 基础的话，我建议
你学习并发这部分内容的时候，可以先简单地了解⼀下基础知识⽐如线程和进程的对⽐。到了后
⾯，你对于 Java 了解的更深了之后，再回来仔细看看这部分的内容。
Java 并发书籍的话，挺多写的还不错的，⽐如《实战 Java ⾼并发程序设计》、《Java 并发编程之
美》、《Java 并发实现原理：JDK 源码剖析》。想要系统学习的话，还是找从⾥⾯找⼀本认真阅读⼀下。当然，你也可以多选⼏本结合起来⼀起
看，遇到不懂的知识点再去看看别的书籍的讲解或者找对应的博客讲解。
视频的话，还是推荐尚硅⾕周阳⽼师讲的：https://www.bilibili.com/video/BV1ar4y1x727/ 。
!
我整理了尚硅⾕最新的 Java 后端学习系列完整的视频教程&资料，喜欢看视频的朋友可以点此
链接下载： 【最新整理】尚硅⾕ Java 后端全套教程 & 实战项⽬（推荐）。
学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点：
Java并发常⻅⾯试题总结（上）（多线程基础知识，例如线程和进程的概念、死锁）
Java并发常⻅⾯试题总结（中）（各种锁，例如乐观锁和悲观锁、 synchronized 关键字、
ReentrantLock ）
Java并发常⻅⾯试题总结（下）( ThreadLocal 、线程池、 Future 、AQS、虚拟线程等)(String), 第9-9页(String), 9(Integer), 9(Integer), null, 73e908a826e5ea1c560faedbf8d85c62f7ab157ebb9fed2459af2061f105bce1(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 8(Integer), 实战项⽬（推荐）。
学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点：
Java并发常⻅⾯试题总结（上）（多线程基础知识，例如线程和进程的概念、死锁）
Java并发常⻅⾯试题总结（中）（各种锁，例如乐观锁和悲观锁、 synchronized 关键字、
ReentrantLock ）
Java并发常⻅⾯试题总结（下）( ThreadLocal 、线程池、 Future 、AQS、虚拟线程等)JVM（进阶）  
JVM 属于是⽐并发更⾼阶⼀些的内容，学习顺序可以适当延后，⽐如你可以在框架知识学完之后再
回过头来看 JVM。并且，JVM 相关的知识点，⼀般是⼤⼚（例如美团、阿⾥）和⼀些不错的中⼚
（例如携程、顺丰、招银⽹络）⾯试才会问到，⾯试国企、差⼀点的中⼚和⼩⼚就没必要准备了。
不过，我个⼈建议如果你学有余⼒的话，还是抽时间学习⼀下，还是有⽤的。正所谓只有搞懂了 
JVM 才有可能真正把 Java 语⾔“吃透”。
实际⼯作中，中⼩⼚⼀般不会做 JVM 调优，但万⼀遇到类似 OOM 的问题，你如果知道如何去排查
和解决，岂不是更好？
学习 JVM 这部分的内容，⼀定要注意要实战和理论结合。
书籍的话，《深⼊理解 Java 虚拟机》 这本书是⾸先要推荐的。
这本书就⼀句话形容：国产书籍中的战⽃机，实实在在的优秀！ （真⼼希望国内能有更多这样的优
质书籍出现！加油！
"
）
这本书的第三版已经出来挺久了，新增了很多不错的内容⽐如 ZGC 等新⼀代 GC 的原理剖析。
不论是你⾯试还是你想要在 Java 领域学习的更深，你都离不开这本书籍。这本书不光要看，你还
要多看⼏遍，⾥⾯都是⼲货。这本书⾥⾯还有⼀些需要⾃⼰实践的东⻄，我建议你也跟着实践⼀
下。
类似的书籍还有 《实战 Java 虚拟机》、《虚拟机设计与实现:以 JVM 为例》，这两本都是⾮常不
错的！如果你对实战⽐较感兴趣，想要⾃⼰动⼿写⼀个简易的 JVM 的话，可以看看 《⾃⼰动⼿写 Java 虚
拟机》 这本书。
书中的代码是基于 Go 语⾔实现的，搞懂了原理之后，你可以使⽤ Java 语⾔模仿着写⼀个，也算
是练练⼿！ 如果你当前没有能⼒独⽴使⽤ Java 语⾔模仿着写⼀个的话，你也可以在⽹上找到很多
基于 Java 语⾔版本的实现，⽐如《zachaxy 的⼿写 JVM 系列》 。(String), 第10-11页(String), 10(Integer), 11(Integer), null, 1cfa49d32b9de39a7328b8c680ac79bddfed41d3375ad91b3bcadf66765494c0(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 9(Integer), 错的！如果你对实战⽐较感兴趣，想要⾃⼰动⼿写⼀个简易的 JVM 的话，可以看看 《⾃⼰动⼿写 Java 虚
拟机》 这本书。
书中的代码是基于 Go 语⾔实现的，搞懂了原理之后，你可以使⽤ Java 语⾔模仿着写⼀个，也算
是练练⼿！ 如果你当前没有能⼒独⽴使⽤ Java 语⾔模仿着写⼀个的话，你也可以在⽹上找到很多
基于 Java 语⾔版本的实现，⽐如《zachaxy 的⼿写 JVM 系列》 。另外，R ⼤在⾖瓣发的《从表到⾥学习 JVM 实现》这篇⽂章中也推荐了很多不错的 JVM 相关的书
籍，推荐⼩伙伴们去看看。
视频的话，尚硅⾕的宋红康⽼师讲的《JVM 全套教程》内容⾮常硬，⼀共有接近 400 ⼩节（对应的
浓缩精华版：《尚硅⾕ JVM 精讲与 GC 调优教程》）。
课程的内容分为 3 部分：
1. 《内存与垃圾回收篇》
2. 《字节码与类的加载篇》
3. 《性能监控与调优篇》
!
我整理了尚硅⾕最新的 Java 后端学习系列完整的视频教程&资料，喜欢看视频的朋友可以点此
链接下载： 【最新整理】尚硅⾕ Java 后端全套教程 & 实战项⽬（推荐）。学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点：
Java 内存区域详解（重点）
JVM 垃圾回收详解（重点）
类⽂件结构详解
类加载过程详解
类加载器详解（重点）
数据库  
基础（可选）  
数据库基础知识点的话，其实是可选择性学习的。对于计算机专业的同学来说，⼤学的时候应该也
学习过。不过，绝⼤部分学了之后也相当于没学，没学过的也不⽤担⼼哈！
这⾥还是提供⼀些学习资料给想要学习数据库基础知识的同学把！
书籍的话，强烈推荐《数据库系统概念》，这本书涵盖了数据库系统的全套概念，知识体系清晰，
是学习数据库系统⾮常经典的教材！不是参考书！如果你觉得书籍⽐较枯燥，⾃⼰坚持不下来的话，我推荐你可以先看看⼀些不错的视频。就⽐如北
京师范⼤学的《数据库系统原理》这个就很不错。
这个课程的⽼师讲的⾮常详细，⽽且每⼀⼩节的作业设计的也与所讲知识很贴合，后⾯还有很多配
套实验。
如果你⽐较喜欢动⼿，对于理论知识⽐较抵触的话，我推荐你看看《如何开发⼀个简单的数据库》 
，这个 project 会⼿把⼿教你编写⼀个简单的数据库。(String), 第12-14页(String), 12(Integer), 14(Integer), null, aedbd84440190234cf247579d047e3098afb0bc63f67d151600434cf779284b5(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 10(Integer), 的教材！不是参考书！如果你觉得书籍⽐较枯燥，⾃⼰坚持不下来的话，我推荐你可以先看看⼀些不错的视频。就⽐如北
京师范⼤学的《数据库系统原理》这个就很不错。
这个课程的⽼师讲的⾮常详细，⽽且每⼀⼩节的作业设计的也与所讲知识很贴合，后⾯还有很多配
套实验。
如果你⽐较喜欢动⼿，对于理论知识⽐较抵触的话，我推荐你看看《如何开发⼀个简单的数据库》 
，这个 project 会⼿把⼿教你编写⼀个简单的数据库。纸上学来终觉浅 绝知此事要躬⾏！强烈推荐 CS 专业的⼩伙伴⼀定要多多实践！！！
MySQL  
对于 Java 开发来说，虽然 PostgreSQL 也挺⽕，但 MySQL 是主流，国内的绝⼤部分企业还是⽤的 
MySQL。
MySQL ⼊⻔可以找⼀些视频看看，⽐如⿊⻢的《MySQL 数据库⼊⻔到精通》。看视频的过程中，
可以配套⼀本 MySQL ⼊⻔类的书籍⽐如《MySQL 必知必会》。
初期不需要学太深了，搞清楚下⾯这些知识点即可：
1. MySQL 常⽤命令 ：
安全：登录、增加/删除⽤户、备份数据和还原数据
数据库操作： 建库建表/删库删表、⽤户权限分配
……
2. MySQL 中常⽤的数据类型、字符集编码
3. MySQL 简单查询、条件查询、模糊查询、多表查询以及如何对查询结果排序、过滤、分
组……
4. MySQL 中使⽤索引、视图、存储过程、游标、触发器5. ……
更进⼀步的话，可以找⼀些优秀的书籍来学习底层原理和性能优化，⽐如《⾼性能 MySQL》和
《MySQL 技术内幕》。
另外，强推⼀波 《MySQL 是怎样运⾏的》 这本书，内容很适合拿来准备⾯试。讲的很细节，但⼜
不枯燥，内容⾮常良⼼！
如果你想让⾃⼰更加了解 MySQL ，同时也是为了准备⾯试的话，下⾯这些知识点要格外注意：
1. 索引：索引优缺点、B 树和 B+树、聚集索引与⾮聚集索引、覆盖索引
2. 事务：事务、数据库事务、ACID、并发事务、事务隔离级别
3. 存储引擎（MyISAM 和 InnoDB）
4. 锁机制与 InnoDB 锁算法(String), 第15-16页(String), 15(Integer), 16(Integer), null, 962214d8b6568fa49709589b9b233fc60c43ae105f03a8de8d35cc27e66782db(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 11(Integer), 运⾏的》 这本书，内容很适合拿来准备⾯试。讲的很细节，但⼜
不枯燥，内容⾮常良⼼！
如果你想让⾃⼰更加了解 MySQL ，同时也是为了准备⾯试的话，下⾯这些知识点要格外注意：
1. 索引：索引优缺点、B 树和 B+树、聚集索引与⾮聚集索引、覆盖索引
2. 事务：事务、数据库事务、ACID、并发事务、事务隔离级别
3. 存储引擎（MyISAM 和 InnoDB）
4. 锁机制与 InnoDB 锁算法学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点：
MySQL 常⻅⾯试题总结（MySQL 基础、存储引擎、事务、索引、锁、性能优化等）
MySQL 索引详解
MySQL 三⼤⽇志(binlog、redo log 和 undo log)详解
MySQL 事务隔离级别详解
InnoDB 存储引擎对 MVCC 的实现
SQL 语句在 MySQL 中的执⾏过程
PostgreSQL（可选）  
和 MySQL ⼀样，PostgreSQL 也是开源免费且功能强⼤的关系型数据库。PostgreSQL 的 Slogan 
是“世界上最先进的开源关系型数据库” 。
客观来说，PostgreSQL 确实⽐ MySQL 优秀。不过，⽬前国内 MySQL 还是主流，PostgreSQL 是
可选择性学习的。
PostgreSQL 中⽂⽂档建议看看：http://www.postgres.cn/docs/14/index.html 。另外， PostgreSQL 
书籍的话，看这⾥的推荐即可：https://javaguide.cn/books/database.html#postgresql 。
Redis  
后端项⽬如果⽤到分布式缓存的话，⼀般⽤的都是 Redis。不过，Redis 不仅仅能做缓存，还能⽤
作分布式锁、延时队列、消息队列等等。
免费的视频教程的话，推荐 GeekHour 的 ⼀⼩时Redis教程（⾮常推荐，通俗易懂，简单介绍了 
Redis 中涉及到的绝⼤部分知识点） 和尚硅⾕的 《Redis 7 系列最新视频》（阳哥出品，内容更全
⾯，Redis 版本更新，强烈推荐）。
书籍的话，强烈推荐 《Redis 设计与实现》和 《Redis 核⼼原理与实践》 这两本书。《Redis 核⼼
原理与实践》这本书出版⽇期相对近⼀些，主要是结合源码来分析 Redis 的重要知识点⽐如各种数
据结构和⾼级特性。(String), 第17-17页(String), 17(Integer), 17(Integer), null, c7abd781eb7272915d9eeb9c9b2f6534f4d62a4f2722a9c98ae8eae55f75c44f(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 12(Integer), 荐，通俗易懂，简单介绍了 
Redis 中涉及到的绝⼤部分知识点） 和尚硅⾕的 《Redis 7 系列最新视频》（阳哥出品，内容更全
⾯，Redis 版本更新，强烈推荐）。
书籍的话，强烈推荐 《Redis 设计与实现》和 《Redis 核⼼原理与实践》 这两本书。《Redis 核⼼
原理与实践》这本书出版⽇期相对近⼀些，主要是结合源码来分析 Redis 的重要知识点⽐如各种数
据结构和⾼级特性。付费专栏的话，推荐⼀个极客时间的《Redis 核⼼技术与实战》，虽然未涉及到太多新版 Redis 的
内容，但胜在内容全⾯且清晰易懂。我当时看这个专栏确实学了不少东⻄，尤其是评论区有很多⼤
佬的精彩的评论。
学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点：
缓存基础常⻅⾯试题总结
Redis 常⻅⾯试题总结（上）
Redis 常⻅⾯试题总结（下）
Redis 5 种基本数据类型详解
Redis 3 种特殊数据类型详解
Redis 持久化机制详解
Redis 内存碎⽚详解
MongoDB（可选）(String), 第18-18页(String), 18(Integer), 18(Integer), null, 2f4bfc81ad34210e33a866b6bc3b11b927eb0e1907adf44bca5673ae5750d32c(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 13(Integer), 但胜在内容全⾯且清晰易懂。我当时看这个专栏确实学了不少东⻄，尤其是评论区有很多⼤
佬的精彩的评论。
学习的过程中，强烈建议配合上我总结的常⻅问题和重要知识点：
缓存基础常⻅⾯试题总结
Redis 常⻅⾯试题总结（上）
Redis 常⻅⾯试题总结（下）
Redis 5 种基本数据类型详解
Redis 3 种特殊数据类型详解
Redis 持久化机制详解
Redis 内存碎⽚详解
MongoDB（可选）MongoDB 作为 Java 后端开发来说，是可选择性学习的，⽤的不多，⾯试⼀般也不会问，除⾮你的
项⽬⽤到了 MongoDB 。
这⾥就不推荐视频或者书籍了，推荐两篇我写的⽂章：
MongoDB 常⻅⾯试题总结（上）
MongoDB 常⻅⾯试题总结（下）
常⽤开发⼯具  
⾮常重要！⾮常重要！特别是 Git 和 Docker。
除了下⾯这些⼯具之外，我强烈建议你⼀定要搞懂 Github 的使⽤。⼀些使⽤ Github 的⼩技巧，你
可以看Github ⼩技巧这篇⽂章。
IDEA  
俗话说：“⼯欲善其事，必先利其器 !”。选择⼀款好的开发⼯具对于我们⾼效率编码⾮常有帮助！
常⽤的 Java 开发⼯具就 Eclipse 和 IDEA。就我个⼈⽽⾔ IDEA 是最适合 Java 开发者的 IDE ，没
有之⼀（勿杠，你喜欢的就是最好的）。
除了 IDEA ⾃身对编码优秀的⽀持（⽐如智能上下⽂提示）之外，IDEA 中还有丰富的插件来帮助我
们⾼效开发。
近⼏年，像 Cursor 这样的 AI 编程 IDE 兴起，确实对 IDEA 有了⼀定冲击。但整体来看，IDEA 依
然难以被取代。⽆论是开发体验还是代码重构能⼒，IDEA 都有着⽆与伦⽐的优势。当然，在 AI 辅
助编程这⼀块，IDEA 的表现的确有些落后。要知道，过去代码智能提示可是它的拿⼿好戏。
IntelliJ IDEA 官⽅中⽂⽂档今年正式上线了，强烈推荐以这个为第⼀⼿资料。
IDEA 官⽅中⽂⽂档⼊⼝： https://www.jetbrains.com/zh-cn/help/idea/getting-started.html
另外，「IDEA ⾼效使⽤指南」是我创建的⼀个⽹站，上⾯包含了下⾯这些内容：
IDEA 使⽤技巧
IDEA 必备插件
IDEA 插件开发⼊⻔(String), 第19-19页(String), 19(Integer), 19(Integer), null, 8ab27f1b7492d34019e34d81b5308df43eb52beb9de709d9704aba3f9acd4bd3(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 14(Integer), 是它的拿⼿好戏。
IntelliJ IDEA 官⽅中⽂⽂档今年正式上线了，强烈推荐以这个为第⼀⼿资料。
IDEA 官⽅中⽂⽂档⼊⼝： https://www.jetbrains.com/zh-cn/help/idea/getting-started.html
另外，「IDEA ⾼效使⽤指南」是我创建的⼀个⽹站，上⾯包含了下⾯这些内容：
IDEA 使⽤技巧
IDEA 必备插件
IDEA 插件开发⼊⻔使⽤ IDEA 进⾏重构的⼩技巧
使⽤ IDEA 进⾏源码阅读的技巧
Maven  
Maven 其实使⽤起来挺简单的，⼀两天时间就能⼊⻔基本使⽤了。不过，想要⽤好还是挺难的，初
期的时候会基本使⽤就好了。
多提⼀句：学习常⽤框架之前可以提前花时间学习⼀下 Maven 的使⽤，千万不要 到处找 Jar 包，
下载 Jar 包（如果你做的项⽬没⽤上包管理⼯具，那请你尽快换⼀个新点的教程看）。
Maven 这⾥不⽤推荐什么视频或者书籍了，直接看下⾯这篇⽂章即可：
Maven 核⼼概念总结
Maven 最佳实践
四⼗五图，⼀万五千字！⼀⽂让你⾛出迷雾玩转 Maven！
学完之后，务必要搞懂下⾯这些问题（初学者搞懂前两个问题即可）：
1. Maven 项⽬如何创建？如何引⼊依赖？2. Maven 依赖冲突如何解决？
3. Maven 多模块项⽬的构建、运⾏、打包如何做？
4. Maven 私服如何搭建？
Git  
Git 技能对于程序员来说也是必备的！试着在学习的过程中将⾃⼰的代码托管在 Github 上，有⼀个
漂亮的 Github 主⻚在求职⾯试中是⼗分加分的。并且，现在的企业都是基于 Git 在 GitHub 或 
GitLab 平台上做版本控制。
学习 Git 的话，强烈推荐给⼤家⼀个可以交互式学习 Git 的⽹站 Learn Git Branching。效果真的⾮
常⾮常棒，通过游戏的⽅式让你学习 Git 的常⻅操作。
整个教程分为很多关，每⼀关都有⾮常详细的指导，还会有详细的动图展示结果。并且，你做错了
之后还可以使⽤ reset  命令从头开始。如果你是在不知道答案的话，还可以使⽤ show solution  命令查看答案。(String), 第20-22页(String), 20(Integer), 22(Integer), null, a160479fcbaa1cfebef4081eb8ccaddada5b5f0a4ef1d2d48c272a536f6d4078(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 15(Integer), 控制。
学习 Git 的话，强烈推荐给⼤家⼀个可以交互式学习 Git 的⽹站 Learn Git Branching。效果真的⾮
常⾮常棒，通过游戏的⽅式让你学习 Git 的常⻅操作。
整个教程分为很多关，每⼀关都有⾮常详细的指导，还会有详细的动图展示结果。并且，你做错了
之后还可以使⽤ reset  命令从头开始。如果你是在不知道答案的话，还可以使⽤ show solution  命令查看答案。这种即时反馈的学习让过程变得有趣！真⼼感谢这个⽹站的作者，太爱了！
另外，你可以看看这篇 Git 极简⼊⻔ ，像版本控制和 Git 的相关概念、Git 常⻅操作这篇⽂章都有介
绍到。
如果想要详细了解 Git 的话，可以看看《Pro Git》这本书，介绍的⾮常全⾯，免费，⽀持阅读，并
且有中⽂版！这是这本书的另外⼀个在线阅读地址：https://git-scm.com/book/zh/v2。
如果你⽐较喜欢看视频教程的话，可以看看极客时间的《玩转 Git 三剑客》，课程的作者是携程代
码平台负责⼈苏玲，讲的挺不错的！
Docker(String), 第23-24页(String), 23(Integer), 24(Integer), null, 3d493adb349ed072a7d4a1d41291f1c7e50fcd0b180c960b8f8414bb779031d0(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 16(Integer), 关概念、Git 常⻅操作这篇⽂章都有介
绍到。
如果想要详细了解 Git 的话，可以看看《Pro Git》这本书，介绍的⾮常全⾯，免费，⽀持阅读，并
且有中⽂版！这是这本书的另外⼀个在线阅读地址：https://git-scm.com/book/zh/v2。
如果你⽐较喜欢看视频教程的话，可以看看极客时间的《玩转 Git 三剑客》，课程的作者是携程代
码平台负责⼈苏玲，讲的挺不错的！
Docker传统的开发流程中，我们的项⽬通常需要使⽤ MySQL、Redis、FastDFS 等等环境，这些环境都是
需要我们⼿动去进⾏下载并配置的，安装配置流程极其复杂，⽽且不同系统下的操作也不⼀样。
Docker 的出现完美地解决了这⼀问题，我们可以在容器中安装 MySQL、Redis 等软件环境，使得
应⽤和环境架构分开，它的优势在于：
1. ⼀致的运⾏环境，能够更轻松地迁移
2. 对进程进⾏封装隔离，容器与容器之间互不影响，更⾼效地利⽤系统资源
3. 可以通过镜像复制多个⼀致的容器
Docker 常⻅概念解读，可以看这篇 JavaGuide 的这篇Docker 基本概念解读 ，从零到上⼿实战可以
看Docker 从⼊⻔到上⼿⼲事这篇⽂章，内容⾮常详细！
另外，再给⼤家推荐⼀本质量⾮常⾼的开源书籍《Docker 从⼊⻔到实践》 ，这本书的内容⾮常
新，毕竟书籍的内容是开源的，可以随时改进。
如果想看视频的话，推荐这个：https://www.bilibili.com/video/BV11L411g7U1/ ，没啥废话，⼲货挺
多。⽽且，课件也是直接免费分享出来的：https://docker.easydoc.net/doc/81170005/cCewZWoN/l
TKfePfP 。(String), 第25-25页(String), 25(Integer), 25(Integer), null, 0c5d2ed002aac0eb7d0253c60261e7cb4360fae7ce38dd8d85e59931c4eb8d11(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 17(Integer), 开源书籍《Docker 从⼊⻔到实践》 ，这本书的内容⾮常
新，毕竟书籍的内容是开源的，可以随时改进。
如果想看视频的话，推荐这个：https://www.bilibili.com/video/BV11L411g7U1/ ，没啥废话，⼲货挺
多。⽽且，课件也是直接免费分享出来的：https://docker.easydoc.net/doc/81170005/cCewZWoN/l
TKfePfP 。最后，在学习完 Docker 的常⻅操作之后，建议⼤家以⼀个前后端分离的项⽬为例，去实践部署⼀
下。⽐如，你可以选择部署⾃⼰的简历项⽬，这样的话，项⽬经历部分贴上在线体验地址，也算是
⼀个加分项了！
设计模式  
软件开发中有⼀个概念叫做“软件复⽤”。简单来说，软件复⽤就是我们在构建⼀个新的软件的时
候，不需要从零开始，通过复⽤已有的⼀些轮⼦（框架、第三⽅库等）、设计模式、设计原则等等
现成的物料，我们可以更快地构建出⼀个满⾜要求的软件。
软件复⽤需要设计模式的帮助。因为，在软件开发中，设计模式可以通过封装变化来提⾼代码的可
扩展性和可维护性！
在我们平时⼯作的业务开发中，如果你不会设计模式，你或许也可以完成项⽬的功能需求。但是！
单纯 CRUD 多没意思啊！我们要思考如何写出质量更⾼的业务代码。另外，各种框架⽐如 
Spring、MyBatis 中都⼤量使⽤了设计模式。如果，你想要搞懂他们的原理，设计模式也是你的必
备利器。
设计模式不光需要我们在学习，最重要的还是要不断去实践体会。但是！设计模式不是银弹，不要
为了⽤设计模式⽽⽤设计模式。想要看书学习设计模式的话，⾸推 《重学 Java 设计模式》 。有趣的例⼦，配合形象的图⽚，通过
实战案例讲解设计模式的⽅式秒极了！⽂中的每⼀个细节⽆不透露着作者的⽤⼼！每⼀种设计模式
实际都不难理解，⼤部分读者最需要的还是设计模式的实战经验。如果你能细⼼思考实践《重学 
Java 设计模式》 中的每⼀个案例，我相信，你对设计模式的理解⼀定会更上⼀层楼！
想要看视频学习的话，⾸推 《尚硅⾕ Java 设计模式（图解+框架源码剖析）》 这个视频。
这个视频通过图解+框架源码分析的⽅式全⾯地讲解了设计模式相关的内容，包括设计模式七⼤原
则、UML 类图-类的六⼤关系、23 种设计模式及其分类等知识点。(String), 第26-27页(String), 26(Integer), 27(Integer), null, 9f98952013e9351deca4bbb35f18330b22d86aa1e964e0a18af925f3484a5ae9(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 18(Integer), 部分读者最需要的还是设计模式的实战经验。如果你能细⼼思考实践《重学 
Java 设计模式》 中的每⼀个案例，我相信，你对设计模式的理解⼀定会更上⼀层楼！
想要看视频学习的话，⾸推 《尚硅⾕ Java 设计模式（图解+框架源码剖析）》 这个视频。
这个视频通过图解+框架源码分析的⽅式全⾯地讲解了设计模式相关的内容，包括设计模式七⼤原
则、UML 类图-类的六⼤关系、23 种设计模式及其分类等知识点。Linux  
对于 Java 程序员来说， 我们需要掌握 Linux 基本的使⽤，尤其是是各种常⽤的命令⽐如：⽬录切
换命令、⽬录操作命令、⽂件的操作命令、压缩或者解压⽂件的命令等等。像 Linux 内核架构、底
层原理这些底层内容，不是必需的，可以根据⾃身情况来决定是否学习。
对于想要快速⼊⻔ Linux 的同学来说，建议阅读我写的 Linux 基础知识总结这篇⽂章，⾥⾯介绍了 
Java 程序员必知的 Linux 的⼀些概念以及常⻅命令。
视频的话，我推荐 GeekHour 的 30 分钟 Linux ⼊⻔教程，通俗易懂，实战讲解！不过，相对偏基
础⼀些，适合想要快速⼊⻔的同学。
对于想要系统学习的同学来说，还是建议看书籍，像《⻦哥的 Linux 私房菜》系列就挺不错的。不
过，内容有点太多了，个⼈还是更建议作为⼯具书参考或者选择⾃⼰感兴趣的内容章节进⾏学习。
不要忘记学习⼀下 Shell 编程了，这个也是必须要掌握的，快速⼊⻔可以阅读我写的 Shell 编程基
础知识总结这篇⽂章，总结了 Shell 变量、基本运算符、流程控制、函数这些重要的知识点。
前端基础  
笔者主要从事 Java 后端开发的，对于前端的了解属于⽪⽑，刚刚⼊⻔的状态（当过⼀年全栈），
这⾥只是简单聊聊⾃⼰的看法。
前端框架更新换代的很快，⽬前⽐较流⾏的是 Vue 和 React 。对于国内的同学，Vue 更适合投⼊精
⼒学习，因为国内⽤ Vue 的公司更多⼀些。不过，前端框架并不是必学的，可以根据⾃身情况来决
定是否学习。(String), 第28-28页(String), 28(Integer), 28(Integer), null, e270363f41c915d3579bcdcf4a8ab6fc885d997989a6abba1052b4bf3167c625(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 19(Integer), 量、基本运算符、流程控制、函数这些重要的知识点。
前端基础  
笔者主要从事 Java 后端开发的，对于前端的了解属于⽪⽑，刚刚⼊⻔的状态（当过⼀年全栈），
这⾥只是简单聊聊⾃⼰的看法。
前端框架更新换代的很快，⽬前⽐较流⾏的是 Vue 和 React 。对于国内的同学，Vue 更适合投⼊精
⼒学习，因为国内⽤ Vue 的公司更多⼀些。不过，前端框架并不是必学的，可以根据⾃身情况来决
定是否学习。不过，不管前端这些技术怎么变，前端三剑客（HTML、CSS、JavaScript ）是不会变的，也是必
学的。
HTML 和 CSS 相对 JS 来说就⽐较简单了。你可以在 W3school 上学习⼀些关于 HTML、CSS、JS 
的基础知识。然后，通过⼀个简单的前端项⽬来实战⼀下。⽐如你可以做⼀个个⼈简历或者模仿某
某官⽹写个类似的⽹⻚。
JavaScript 的⽔更深，也是前端⾯试中的重⼼。
学习 JS 的话，MDN 上的 JS 相关的内容是必须要看的！上⾯的内容很全⾯，质量⾮常⾼！
除此之外，开源的 JS 教程《The Modern JavaScript Tutorial》⾮常赞！⽬前的话，这个系列的教
程还被翻译成了多国的语⾔。这个教程的内容分为 3 部分
1. JavaScript 编程语⾔ ： JavaScript ⼊⻔，还会介绍 OOP 等相关⾼级概念。
2. 浏览器（⽂档，事件，接⼝） ： 学习如何管理浏览器⻚⾯
3. 其他⽂章 ： 按需学习其他 JavaScript ⾼级知识。
另外，除了⼀些⽼项⽬之外，现在⼀般都是前后端分离开发，也就是前端和后端可以独⽴开发、测
试和部署，两者之间通过 API 进⾏通信。因此，后端程序员还需要掌握：
HTTP 协议（计算机⽹络部分的内容，这⾥再多提⼀下）
RESTful API 的设计和使⽤(String), 第29-30页(String), 29(Integer), 30(Integer), null, 5de88aa7e01072c49a8546c5eee002e6e292c79838e846e91734734252e0b166(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 20(Integer), 等相关⾼级概念。
2. 浏览器（⽂档，事件，接⼝） ： 学习如何管理浏览器⻚⾯
3. 其他⽂章 ： 按需学习其他 JavaScript ⾼级知识。
另外，除了⼀些⽼项⽬之外，现在⼀般都是前后端分离开发，也就是前端和后端可以独⽴开发、测
试和部署，两者之间通过 API 进⾏通信。因此，后端程序员还需要掌握：
HTTP 协议（计算机⽹络部分的内容，这⾥再多提⼀下）
RESTful API 的设计和使⽤前后端通信的常⻅⽅式：⽐如 Ajax（短连接）、WebSocket（⻓连接，双向的）
J2EE 基础  
Servlet  
Servlet  属于⽐较古⽼的技术了，现在你⼏乎不会直接使⽤到 Servlet  相关的 API。不过，学习 
Servlet  有助于我们搞清各种封装的⽐较好的 Web 框架的原理，⽐如 Spring MVC  不过就是对 
Servlet  的封装，它的底层还是依赖于 Servlet 。
在 Java Web 程序中， Servlet  主要负责接收⽤户请求 HttpServletRequest ,在 doGet() , doPost() 中
做相应的处理，并将回应 HttpServletResponse 反馈给⽤户。
你可以通过书籍《Head First Servlets & JSP（中⽂版）》或者《Servlet 和 JSP 学习指南》来学习 
Servlet 基础知识。
注意：JSP 就不要学了，过时的技术，已经被淘汰了！
Web 服务器  
Tomcat 是 Apache 基⾦会下的⼀个项⽬，主要⽤作 Web 服务器。
如果你直接学习 Spring Boot 的话，不学习 Tomcat 也没什么影响（建议还是学⼀学）。因为 
Spring Boot （ spring-boot-starter-web ）使⽤ Tomcat 作为默认的嵌⼊式 Servlet  容器, 你使⽤起来是
⽆感知的。
简单来说，Tomcat 主要实现了 2 个核⼼功能：
1. 处理 Socket  连接，负责⽹络字节流与 Request  和 Response  对象的转化。
2. 加载和管理 Servlet ，以及具体处理 Request  请求。
如果你要深⼊研究 Tomcat 的话，⾸选极客时间的 《深⼊拆解 Tomcat & Jetty》 这个专栏。这是我
看过讲解 Tomcat 底层原理最好的资料，强烈推荐！
这个专栏不光可以加深⾃⼰对于 Tomcat 的理解，还能提⾼⾃⼰对于系统架构、性能优化等领域的
思考。(String), 第31-31页(String), 31(Integer), 31(Integer), null, 322b43097892ae8eec5f8991358ac54c87cb3ff84080175697e223281ffefe2f(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 21(Integer), uest  和 Response  对象的转化。
2. 加载和管理 Servlet ，以及具体处理 Request  请求。
如果你要深⼊研究 Tomcat 的话，⾸选极客时间的 《深⼊拆解 Tomcat & Jetty》 这个专栏。这是我
看过讲解 Tomcat 底层原理最好的资料，强烈推荐！
这个专栏不光可以加深⾃⼰对于 Tomcat 的理解，还能提⾼⾃⼰对于系统架构、性能优化等领域的
思考。除了 Tomcat 之外，Nginx 也是必须要学习的！
Nginx 是⼀个⾼性能的 HTTP 和反向代理服务服务器，经常被拿来做反向代理和负载均衡。
如果你要学习 Nginx 的话，可以看看《Nginx 核⼼知识 150 讲》 。内容很全⾯，从概念、代码再到
实战，从 HTTP 到 OpenResty 。
常⽤框架  
实际⾯试中，框架类知识问的不多，学习常⽤框架更多地是为了满⾜项⽬开发需要以及⼯作要求。
Spring/SpringBoot  
没有学习 Spring 可以直接上⼿学习 SpringBoot 吗？(String), 第32-32页(String), 32(Integer), 32(Integer), null, 29723260bf25074172edbdc79456ebb28b8c3d80986a1c3de3a19266fc599f9d(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 22(Integer), 常被拿来做反向代理和负载均衡。
如果你要学习 Nginx 的话，可以看看《Nginx 核⼼知识 150 讲》 。内容很全⾯，从概念、代码再到
实战，从 HTTP 到 OpenResty 。
常⽤框架  
实际⾯试中，框架类知识问的不多，学习常⽤框架更多地是为了满⾜项⽬开发需要以及⼯作要求。
Spring/SpringBoot  
没有学习 Spring 可以直接上⼿学习 SpringBoot 吗？明确的说，必须可以！⽬前绝⼤部分企业都是⽤的 SpringBoot ，Spring 也并不是学习 Spring Boot 
的前置基础，相⽐于 Spring 来说，Spring Boot 要更容易上⼿⼀些！如果你只是想使⽤ Spring Boot 
来做项⽬的话，直接学 Spring Boot 就可以了。
不过，个⼈还是建议提前搞懂 Spring AOP 和 IoC 这俩⽐较重要的概念之后再去学习 SpringBoot。
除此之外，准备⾯试的话，Spring 中 bean 的作⽤域与⽣命周期、SpringMVC ⼯作原理详解等等知
识点都是⾮常重要的，⼀定要搞懂。推荐阅读这篇⽂章：Spring 常⻅⾯试题总结。
学习 Spring Boot 的话，还是建议可以多看看 《Spring Boot 的官⽅⽂档》，写的很详细。
像 SpringBoot 和⼀些常⻅技术的整合你也要知道怎么做，⽐如 SpringBoot 整合 MyBatis、 
ElasticSearch、SpringSecurity、Redis 等等。尽量还是实践⼀下，写⼀些 Demo。到了后期，甚⾄
可以独⽴做⼀些⼩项⽬把这些知识都应⽤上。
书籍的话，个⼈其实并没有什么特别好的推荐，毕竟是框架类知识，更新换代的⽐较快，很多书籍
的内容都已经过时了。
考虑到很多同学⽐较喜欢阅读书籍，我这⾥还是简单推荐⼏本吧！
对于想要实战的同学，我强烈不推荐看书，直接看尚硅⾕的实战项⽬即可。这篇⽂章可以获取到最
新的视频且对尚硅⾕的实战项⽬做了介绍：【最新整理】尚硅⾕ Java 后端全套教程 & 实战项⽬
（推荐）。
对于专研 Spring Boot 底层原理同学，可以看看 《Spring Boot 编程思想（核⼼篇）》 。(String), 第33-33页(String), 33(Integer), 33(Integer), null, 552c4ca49ef9a41bdeacffa1457cdfae82d71c3d64d43d2f79304f80e801a133(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 23(Integer), 快，很多书籍
的内容都已经过时了。
考虑到很多同学⽐较喜欢阅读书籍，我这⾥还是简单推荐⼏本吧！
对于想要实战的同学，我强烈不推荐看书，直接看尚硅⾕的实战项⽬即可。这篇⽂章可以获取到最
新的视频且对尚硅⾕的实战项⽬做了介绍：【最新整理】尚硅⾕ Java 后端全套教程 & 实战项⽬
（推荐）。
对于专研 Spring Boot 底层原理同学，可以看看 《Spring Boot 编程思想（核⼼篇）》 。这本书稍微有点啰嗦，不过，原理介绍的⽐较清楚（不适合初学者）。
如果你⽐较喜欢看视频的话，推荐尚硅⾕雷神的《2023 版 Spring Boot3 零基础⼊⻔》 。这可能
是全⽹质量最⾼并且免费的 Spring Boot 教程了，好评爆炸！
另外，Spring Boot 这块还有很多优质的开源教程，我已经整理好放到 Java 优质开源技术教程 中
了。
MyBatis  
MyBatis 是国内使⽤最多的 ORM 框架。在学习 Spring/Spring Boot 的时候，你就要顺带去学习 
MyBatis，这个我在上⾯也提到过。
另外，建议你还要掌握⾄少⼀个 MyBatis 增强框架，这⾥推荐两个国产的：
1. MyBatis-Plus：简称 MP，在 MyBatis 的基础上只做增强不做改变，为简化开发、提⾼效率⽽
⽣。
2. MyBatis-Flex：⾮常轻量、同时拥有极⾼的性能与灵活性的  MyBatis 增强框架。
对于做项⽬的同学，也可以直接选择学习使⽤  MyBatis 增强框架。(String), 第34-34页(String), 34(Integer), 34(Integer), null, a496a59548b953b062ae7008c87d312049a378124947a1951ac6af54e8e3bab5(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 24(Integer), is，这个我在上⾯也提到过。
另外，建议你还要掌握⾄少⼀个 MyBatis 增强框架，这⾥推荐两个国产的：
1. MyBatis-Plus：简称 MP，在 MyBatis 的基础上只做增强不做改变，为简化开发、提⾼效率⽽
⽣。
2. MyBatis-Flex：⾮常轻量、同时拥有极⾼的性能与灵活性的  MyBatis 增强框架。
对于做项⽬的同学，也可以直接选择学习使⽤  MyBatis 增强框架。单元测试  
对于单测来说，⽬前常⽤的单测框架有：JUnit、Mockito、Spock、PowerMock、JMockit、
TestableMock 等等。
JUnit ⼏乎是默认选择，但是其不⽀持 Mock，因此我们还需要选择⼀个 Mock ⼯具。Mockito 和 
Spock 是最主流的两款 Mock ⼯具，⼀般都是在这两者中选择。
究竟是选择 Mockito 还是 Spock 呢？我这⾥做了⼀些简单的对⽐分析：
1. Spock 没办法 Mock 静态⽅法和私有⽅法 ，Mockito 3.4.0 以后，⽀持静态⽅法的 Mock，具体
可以看这个 issue：https://github.com/mockito/mockito/issues/1013，具体教程可以看这篇⽂
章：https://www.baeldung.com/mockito-mock-static-methods。
2. Spock 基于 Groovy，写出来的测试代码更清晰易读，⽐较规范(⾃带 given-when-then 的常⽤
测试结构规范)。Mockito 没有具体的结构规范，需要项⽬组⾃⼰约定⼀个或者遵守⽐较好的测
试代码实践。通常来说，同样的测试⽤例，Spock 的代码要更简洁。
3. Mockito 使⽤的⼈群更⼴泛，稳定可靠。并且，Mockito 是 SpringBoot Test 默认集成的 Mock 
⼯具。
Mockito 和 Spock 都是⾮常不错的 Mock ⼯具，相对来说，Mockito 的适⽤性更强⼀些。
这⾥顺带推荐⼀些测试相关的学习资料：
1. 阿⾥内部单元测试培训教程
2. 单元测试到底是什么？应该怎么做？
3. Integration Testing in Spring
4. Testing the Web Layer
5. 可能是全⽹最好的 Spock 单测⼊⻔⽂章:
6. 单元测试框架 Mockito 落地实践分享
7. 如何写出有效的单元测试
Netty（可选）  
Netty 是 Java ⽹络编程最热⻔的框架，⼤家可以根据个⼈需要决定是否进⾏学习，实际企业开发中
⽤的不多。(String), 第35-35页(String), 35(Integer), 35(Integer), null, 932b13e1099d3f16198b18e71b68446303ba079d72e88871711b8653bf6dcbea(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 25(Integer), ？应该怎么做？
3. Integration Testing in Spring
4. Testing the Web Layer
5. 可能是全⽹最好的 Spock 单测⼊⻔⽂章:
6. 单元测试框架 Mockito 落地实践分享
7. 如何写出有效的单元测试
Netty（可选）  
Netty 是 Java ⽹络编程最热⻔的框架，⼤家可以根据个⼈需要决定是否进⾏学习，实际企业开发中
⽤的不多。不过，个⼈建议学有余⼒的同学还是抽时间认真学习⼀下，对个⼈开发能⼒的提升还是很有帮助
的。
1. Netty 基于 NIO （NIO 是⼀种同步⾮阻塞的 I/O 模型，在 Java 1.4 中引⼊了 NIO ）。使⽤ 
Netty 可以极⼤地简化并简化了 TCP 和 UDP 套接字服务器等⽹络编程,并且性能以及安全性等
很多⽅⾯都⾮常优秀。
2. 我们平常经常接触的 Dubbo、RocketMQ、Elasticsearch、gRPC、Spark、Elasticsearch 等等
热⻔开源项⽬都⽤到了 Netty。
3. ⼤部分微服务框架底层涉及到⽹络通信的部分都是基于 Netty 来做的，⽐如说 Spring Cloud ⽣
态系统中的⽹关 Spring Cloud Gateway 。
下⾯是⼀些⽐较推荐的书籍/专栏。
《Netty 实战》
这本书可以⽤来⼊⻔ Netty ，内容从 BIO 聊到了 NIO、之后才详细介绍为什么有 Netty 、Netty 为
什么好⽤以及 Netty 重要的知识点讲解。
这本书基本把 Netty ⼀些重要的知识点都介绍到了，⽽且基本都是通过实战的形式讲解。
《Netty 进阶之路：跟着案例学 Netty》内容都是关于使⽤ Netty 的实践案例⽐如内存泄露这些东⻄。如果你觉得你的 Netty 已经完全⼊⻔
了，并且你想要对 Netty 掌握的更深的话，推荐你看⼀下这本书。
《跟闪电侠学 Netty：Netty 即时聊天实战与底层原理》
这本书分为上下两篇，上篇通过⼀个即时聊天系统的实战案例带你⼊⻔ Netty，下篇通过 Netty 源码
分析带你搞清 Netty ⽐较重要的底层原理。
视频的话，⿊⻢的 ⿊⻢程序员 Netty 全套教程 就挺不错的，从 Netty 的基础知识  NIO 讲起，⽐较
容易接受。(String), 第36-37页(String), 36(Integer), 37(Integer), null, b0b3f96a4d9b056e01c7041741154e245c81e9fe2d3ba11e46d47d252ceb966f(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 26(Integer), 你想要对 Netty 掌握的更深的话，推荐你看⼀下这本书。
《跟闪电侠学 Netty：Netty 即时聊天实战与底层原理》
这本书分为上下两篇，上篇通过⼀个即时聊天系统的实战案例带你⼊⻔ Netty，下篇通过 Netty 源码
分析带你搞清 Netty ⽐较重要的底层原理。
视频的话，⿊⻢的 ⿊⻢程序员 Netty 全套教程 就挺不错的，从 Netty 的基础知识  NIO 讲起，⽐较
容易接受。⼯作流（可选）  
国内⽤的⽐较多的开源⼯作流引擎是 Flowable 和 Activiti 这两个，参考资料也蛮多的。Camunda 
也不错，更轻量，功能也很完善，性能和稳定性也很不错。关于开源流程引擎的选择，可以参考这
篇⽂章：https://zhuanlan.zhihu.com/p/369761832 。
ps：Flowable 和 Camunda 都是 Activiti5 的⼀个分⽀发展⽽来， 三者的理念有所差别。
国内⽐较⽕的⼯作流引擎 LiteFlow（ https://liteflow.cc/ ） 只做基于逻辑的流转，⽽不做基于⻆⾊任
务的流转。如果你想做基于⻆⾊任务的流转，推荐使⽤ Flowable 和 Activiti 这两个框架。也就是
说，像审批流（A 审批完应该是 B 审批，然后再流转到 C ⻆⾊）这种 LiteFlow 就不适合了。
LiteFlow 适⽤于拥有复杂逻辑的业务，⽐如说价格引擎，下单流程等，这些业务往往都拥有很多步
骤，这些步骤完全可以按照业务粒度拆分成⼀个个独⽴的组件，进⾏装配复⽤变更。
这⾥就不推荐学习资料了，感兴趣的同学可以⾃⼰去找⼀下。
搜索引擎  
搜索引擎⽤于提⾼搜索效率，功能和浏览器搜索引擎类似。⽐较常⻅的搜索引擎是 Elasticsearch
（推荐） 和 Solr。
如果你要学习 Elasticsearch 的话，Elastic 中⽂社区 以及 Elastic 官⽅博客 都是⾮常不错的资源，
上⾯会分享很多具体的实践案例。(String), 第38-38页(String), 38(Integer), 38(Integer), null, e363caf5d53d8703dd9e694ea4b6505b4baeb4eddccb48a3092905203ec1b941(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 27(Integer), 拆分成⼀个个独⽴的组件，进⾏装配复⽤变更。
这⾥就不推荐学习资料了，感兴趣的同学可以⾃⼰去找⼀下。
搜索引擎  
搜索引擎⽤于提⾼搜索效率，功能和浏览器搜索引擎类似。⽐较常⻅的搜索引擎是 Elasticsearch
（推荐） 和 Solr。
如果你要学习 Elasticsearch 的话，Elastic 中⽂社区 以及 Elastic 官⽅博客 都是⾮常不错的资源，
上⾯会分享很多具体的实践案例。视频教程可以看看尚硅⾕的 《ElasticSearch ⼊⻔到精通》，前⾯基于 ElasticSearch 7.x 讲解，后
⾯加更了 Elasticsearch8.x 新特性。
书籍可以看看《⼀本书讲透Elasticsearch：原理、进阶与⼯程实践》。这本书基于 8.x 版本编写，
⽬前全⽹最新的 Elasticsearch 讲解书籍。内容覆盖 Elastic 官⽅认证的核⼼知识点，源⾃真实项⽬
案例和企业级问题解答。
最后，再推荐⼀些 ElasticSearch 相关的优秀⽂章和专辑来帮助你学习和更好的使⽤ 
ElasticSearch：
Elasticsearch 常⻅⾯试题总结 - JavaGuide
Elasticsearch 基础⼊⻔详⽂ - 腾讯技术⼯程
在⼯作中 ElasticSearch 的⼀些使⽤规范
《滴滴技术的 ES 系列》
《死磕 Elasticsearch 系列》（上百篇 ES 的理论+实战⽂章，全⽹最全⾯的 ES 教程。部分内
容对应的视频教程：https://space.bilibili.com/471049389 ）
分布式&微服务（进阶）  
这部⻔内容涉及到的知识点⽐较多，我这⾥只列举⽐较重要的部分⽐如分布式算法和协议、配置中
⼼、分布式事务。
学习分布式知识，个⼈⽐较建议阅读书籍和博客。当然了，如果⽐较喜欢看视频的话，也可以找⼀
些不错的教程视频或者公开课来看，⽤适合⾃⼰的学习⽅式去学习即可！
书籍推荐（理论向）：(String), 第39-39页(String), 39(Integer), 39(Integer), null, 23b72a9face7897f19514f29af313f8e206c9e3d508a12899546fdb79b5f841c(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 28(Integer), 应的视频教程：https://space.bilibili.com/471049389 ）
分布式&微服务（进阶）  
这部⻔内容涉及到的知识点⽐较多，我这⾥只列举⽐较重要的部分⽐如分布式算法和协议、配置中
⼼、分布式事务。
学习分布式知识，个⼈⽐较建议阅读书籍和博客。当然了，如果⽐较喜欢看视频的话，也可以找⼀
些不错的教程视频或者公开课来看，⽤适合⾃⼰的学习⽅式去学习即可！
书籍推荐（理论向）：《深⼊理解分布式系统》这本书⾮常不错。这本书的作者⽤了⼤量篇幅来介绍分布式领域中⾮常重
要的共识算法，并且还会基于 Go 语⾔带着你从零实现了⼀个共识算法的⿐祖 Paxos 算法。
《从零开始学架构》这本书的内容⽐较全⾯，分布式、微服务、⾼并发、⾼可⽤这些都有涉及到。
这本书对应的是极客时间的专栏—《从零开始学架构》，⾥⾯的很多内容都是这个专栏⾥⾯的，两
者选⼀个阅读就⾏了。
余⽼师的 《软件架构设计：⼤型⽹站技术架构与业务架构融合之道》这本书类似于《从零开始学架
构》，内容同样⽐较全⾯，也很不错。公开课推荐（理论向）：
MIT6.824: Distributed System 这⻔公开课挺经典的。这⻔课每节课都会精读⼀篇分布式系统领域的
经典论⽂，并由此传授分布式系统设计与实现的重要原则和关键技术。
如何的才能更好地学习 MIT6.824 分布式系统课程？
MIT6.824: Distributed System（中⽂翻译 wiki）
MIT6.824: Distributed System - CS ⾃学指南
视频推荐（实战向）：
视频可以直接学习尚硅⾕的 2024 最新版 Spring Cloud 教程，这⻔课程介绍了 SpringCloud 和 
SpringCloud Alibaba 中⽬前最主流的组件。学完了这⻔课程之后，就可以直接上⼿为微服务项⽬的
开发实战了。(String), 第40-41页(String), 40(Integer), 41(Integer), null, 8eaa5e4c0229251f7b5976ad48f0867f3efbcec99204eddb98437862cf4d8e7f(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 29(Integer), stributed System（中⽂翻译 wiki）
MIT6.824: Distributed System - CS ⾃学指南
视频推荐（实战向）：
视频可以直接学习尚硅⾕的 2024 最新版 Spring Cloud 教程，这⻔课程介绍了 SpringCloud 和 
SpringCloud Alibaba 中⽬前最主流的组件。学完了这⻔课程之后，就可以直接上⼿为微服务项⽬的
开发实战了。理论&算法&协议  
⽐较重要的分布式理论&算法&协议有：CAP 理论、BASE 理论、Paxos 算法、Gossip 协议、Raft 
算法等等。
⽂章推荐：
CAP & BASE 理论详解
Paxos 算法详解
Raft 算法详解
Gossip 协议详解
远程调⽤  
不同服务之间的调⽤⼀般有两种⽅法：
RPC：RPC（Remote Procedure Call） 即远程过程调⽤，通过 RPC 可以帮助我们调⽤远程
计算机上某个服务的⽅法，这个过程就像调⽤本地⽅法⼀样简单。Dubbo 是⼀款国产的 RPC 
框架，由阿⾥开源，国内⽤的最多。
HTTP 客户端 ：通过 HTTP 协议调⽤其他服务的 RESTful API。Feign 和 OpenFeign（Spring 
Cloud 官⽅基于 Feign 开发的，⽤于替代已经进⼊停更维护状态的 Feign） 是⽬前最常⽤的 
HTTP 客户端。(String), 第42-42页(String), 42(Integer), 42(Integer), null, 84368833f91af27c68c2e6227b8f8c3abd2a3ec7ddf5a19b33089b18e0834a84(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 30(Integer), 助我们调⽤远程
计算机上某个服务的⽅法，这个过程就像调⽤本地⽅法⼀样简单。Dubbo 是⼀款国产的 RPC 
框架，由阿⾥开源，国内⽤的最多。
HTTP 客户端 ：通过 HTTP 协议调⽤其他服务的 RESTful API。Feign 和 OpenFeign（Spring 
Cloud 官⽅基于 Feign 开发的，⽤于替代已经进⼊停更维护状态的 Feign） 是⽬前最常⽤的 
HTTP 客户端。OpenFeign 和 Dubbo 都是⽬前⼴泛应⽤于微服务架构的远程调⽤框架，但两者实现⽅式不同
（OpenFeign 基于 HTTP 协议，Dubbo ⽀持多种协议，还可以⾃定义协议），适合的场景也略有
区别。Spring Cloud 微服务项⽬现在⽤的⽐较多的是基于 Rest ⻛格的调⽤⽅式的 OpenFeign，个
⼈⽐较建议学习这个。
不过，如果你跟着教程做的项⽬⽤的是 Dubbo 或者⼯作需要⽤到 Dubbo 的话，那你可以主要学习 
Dubbo。推荐⼀下我写的总结：
RPC 基础知识总结
Dubbo 常⻅问题总结
另外，Dubbo 官⽅⽂档是⼀定要看的，地址：https://cn.dubbo.apache.org/zh-cn/overview/hom
e/。
服务注册与发现  
Eureka、Zookeeper、Consul、Nacos 都可以提供服务注册与发现的功能。
个⼈⽐较建议学习 Nacos，国内⽤的⽐较多，功能也更强⼤！除了提供服务注册与发现⼯功能之
外，还可以作为配置中⼼使⽤。
学习 Nacos 的话，官⽅⽂档是⼀定要看的：https://nacos.io/zh-cn/docs/v2/quickstart/quick-start.ht
ml 。
另外，再推荐⼀些我觉得还不错的学习资料：
Nacos 架构&原理 - 阿⾥藏经阁（推荐，像 Nacos 内核设计、底层原理、最佳实践）
55 张图吃透 Nacos - 不才陈某
图⽂解析 Nacos 配置中⼼的实现 - 掘⾦（没有过多代码粘贴，原理讲的很清楚）
Nacos 帮我们解决什么问题？—— 配置管理篇 - 阿⾥巴巴中间件
API ⽹关  
⽹关可以为我们提供请求转发、安全认证（身份/权限认证）、流量控制、负载均衡、降级熔断、⽇
志、监控、参数校验、协议转换等功能。
关于 API ⽹关的基础知识和技术选型推荐阅读我写的 API ⽹关基础知识总结这篇⽂章。(String), 第43-43页(String), 43(Integer), 43(Integer), null, edcc2a870cdd0af83c991ec985664916217c9a947ee6df378af0964c939efae7(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 31(Integer),  不才陈某
图⽂解析 Nacos 配置中⼼的实现 - 掘⾦（没有过多代码粘贴，原理讲的很清楚）
Nacos 帮我们解决什么问题？—— 配置管理篇 - 阿⾥巴巴中间件
API ⽹关  
⽹关可以为我们提供请求转发、安全认证（身份/权限认证）、流量控制、负载均衡、降级熔断、⽇
志、监控、参数校验、协议转换等功能。
关于 API ⽹关的基础知识和技术选型推荐阅读我写的 API ⽹关基础知识总结这篇⽂章。Spring Cloud 微服务项⽬⽐较推荐实⽤ SpringCloud Gateway  作为 API ⽹关，这是 Spring Cloud 
的⼀个全新项⽬，为了取代 Netflix Zuul。为了提升⽹关的性能，SpringCloud Gateway 是基于 
WebFlux 实现。Spring Cloud Gateway 的⽬标是不仅提供统⼀的路由⽅式，并且基于 Filter 链的⽅
式提供了⽹关基本的功能，例如：安全，监控/指标，和限流。
下⾯这些是我觉得还不错的学习资料：
Spring Cloud Gateway 常⻅问题总结 - JavaGuide
6000 字 | 16 图 | 深⼊理解 Spring Cloud Gateway 的原理 - 悟空聊架构
Spring Cloud Gateway 夺命连环 10 问？ - 不才陈某
Spring Cloud Gateway 整合阿⾥ Sentinel ⽹关限流实战！ - 不才陈某
实战 Spring Cloud Gateway 之限流篇 - aneasystone（对于常⻅的限流算法和组件都有介绍
到）
配置中⼼  
微服务下，业务的发展⼀般会导致服务数量的增加，进⽽导致程序配置（服务地址、数据库参数等
等）增多。
传统的配置⽂件的⽅式已经⽆法满⾜当前需求，主要有两点原因：⼀是安全性得不到保障（配置放
在代码库中容易泄露）；⼆是时效性不⾏ （修改配置需要重启服务才能⽣效）。
Spring Cloud Config、Nacos 、Apollo、K8s ConfigMap 都可以⽤来做配置中⼼。
Apollo 和  Nacos 我个⼈更喜欢。Nacos 使⽤起来更加顺⼿，还能顺便作为注册中⼼使⽤，Apollo 
在配置管理⽅⾯做的更加全⾯。
个⼈还是更建议学习 Nacos ,学习资料在上⾯的服务注册与发现已经推荐过了。
分布式 ID  
ID 是数据的唯⼀标识，分布式 ID 是分布式系统下的 ID。
分布式 ID 的解决⽅案有很多，⽐如 ：
算法 ：UUID、Snowflake(雪花算法)
开源框架 ： UidGenerator(百度)、Leaf(美团)、Tinyid(滴滴)、IdGenerator(个⼈)(String), 第44-44页(String), 44(Integer), 44(Integer), null, a700de60350a9bf19a7f03c07c22403c2ec3e0245a90d4b25518a2170d9dc2ae(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 32(Integer), 配置管理⽅⾯做的更加全⾯。
个⼈还是更建议学习 Nacos ,学习资料在上⾯的服务注册与发现已经推荐过了。
分布式 ID  
ID 是数据的唯⼀标识，分布式 ID 是分布式系统下的 ID。
分布式 ID 的解决⽅案有很多，⽐如 ：
算法 ：UUID、Snowflake(雪花算法)
开源框架 ： UidGenerator(百度)、Leaf(美团)、Tinyid(滴滴)、IdGenerator(个⼈)这块内容⽐较简单，推荐阅读下⾯这两篇⽂章进⾏学习：
分布式 ID 介绍&实现⽅案总结
分布式 ID 设计指南
分布式事务  
微服务架构下，⼀个系统被拆分为多个⼩的微服务。
每个微服务都可能存在不同的机器上，并且每个微服务可能都有⼀个单独的数据库供⾃⼰使⽤。这
种情况下，⼀组操作可能会涉及到多个微服务以及多个数据库。
举个例⼦：电商系统中，你创建⼀个订单往往会涉及到订单服务（订单数加⼀）、库存服务（库存
减⼀）等等服务，这些服务会有供⾃⼰单独使⽤的数据库。
那么如何保证这⼀组操作要么都执⾏成功，要么都执⾏失败呢？
这个时候单单依靠数据库事务就不⾏了！我们就需要引⼊ 分布式事务 这个概念了！
常⽤分布式事务解决⽅案有 Seata 和 Hmily。
1. Seata :Seata 是⼀款开源的分布式事务解决⽅案，致⼒于在微服务架构下提供⾼性能和简单易
⽤的分布式事务服务。
2. Hmily : ⾦融级分布式事务解决⽅案。(String), 第45-45页(String), 45(Integer), 45(Integer), null, 10bc32f2ea69be701229ad7db6921d0978debee36dea5836fa905e573be34684(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 33(Integer), 服务会有供⾃⼰单独使⽤的数据库。
那么如何保证这⼀组操作要么都执⾏成功，要么都执⾏失败呢？
这个时候单单依靠数据库事务就不⾏了！我们就需要引⼊ 分布式事务 这个概念了！
常⽤分布式事务解决⽅案有 Seata 和 Hmily。
1. Seata :Seata 是⼀款开源的分布式事务解决⽅案，致⼒于在微服务架构下提供⾼性能和简单易
⽤的分布式事务服务。
2. Hmily : ⾦融级分布式事务解决⽅案。⽬前国内⽤的⽐较多的是 Seata，建议学习这个。
分布式链路追踪  
不同于单体架构，在分布式架构下，请求需要在多个服务之间调⽤，排查问题会⾮常麻烦。我们需
要分布式链路追踪系统来解决这个痛点。
⽬前分布式链路追踪系统基本都是根据⾕歌的《Dapper ⼤规模分布式系统的跟踪系统》这篇论⽂
发展⽽来，主流的有 Pinpoint，Skywalking ，CAT（当然也有其他的例如 Zipkin，Jaeger 等产品，
不过总体来说不如前⾯选取的 3 个完成度⾼）等。
Zipkin 是 Twitter 公司开源的⼀个分布式链路追踪⼯具，Spring Cloud Sleuth 实际是基于 Zipkin 
的。
SkyWalking 是国⼈吴晟（华为）开源的⼀款分布式追踪，分析，告警的⼯具，现在是 Apache 旗下
开源项⽬。
⽬前国内⽤的⽐较多的是 SkyWalking，建议学习这个。
⾼性能（进阶）  
CDN（掌握概念和原理即可）  
CDN 就是将静态资源分发到多个不同的地⽅以实现就近访问，进⽽加快静态资源的访问速度，减轻
服务器以及带宽的负担。
我们只需要掌握 CDN 的基本概念和原理以及会⽤云⼚商提供的现成 CDN 服务即可，花费不了太多
时间。推荐阅读我写的CDN 常⻅问题总结这篇⽂章。
消息队列  
消息队列在分布式系统中主要是为了异步、解耦和削峰。
常⽤的消息队列如下：
1. RocketMQ ：阿⾥巴巴开源的⼀款⾼性能、⾼吞吐量的分布式消息中间件。
2. Kafka: Kafka 是⼀种分布式的，基于发布 / 订阅的消息系统。(String), 第46-46页(String), 46(Integer), 46(Integer), null, 9076eb6a60b226fa023367db59c47d696434aa3377a27389434a79d0fc230ba7(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 34(Integer), 
我们只需要掌握 CDN 的基本概念和原理以及会⽤云⼚商提供的现成 CDN 服务即可，花费不了太多
时间。推荐阅读我写的CDN 常⻅问题总结这篇⽂章。
消息队列  
消息队列在分布式系统中主要是为了异步、解耦和削峰。
常⽤的消息队列如下：
1. RocketMQ ：阿⾥巴巴开源的⼀款⾼性能、⾼吞吐量的分布式消息中间件。
2. Kafka: Kafka 是⼀种分布式的，基于发布 / 订阅的消息系统。3. RabbitMQ :基于 erlang 开发的基于 AMQP（Advanced Message Queue ⾼级消息队列协议）
协议实现的消息队列。
4. Pulsar：下⼀代云原⽣分布式消息流平台。
建议选择 RocketMQ 和 Kafka 其中的⼀个进⾏深⼊学习，其他消息队列了解即可。
关于消息队列基础概念、技术选型⽅⾯的介绍，建议阅读我写的消息队列基础知识总结这篇⽂章。
Kafka、RocketMQ、RabbitMQ 学习资源推荐请看知识星球的这篇帖⼦：https://t.zsxq.com/0bEDF
wgon 。
读写分离&分库分表（掌握概念和原理即可）  
读写分离主要是为了将数据库的读和写操作分不到不同的数据库节点上。主服务器负责写，从服务
器负责读。另外，⼀主⼀从或者⼀主多从都可以。
读写分离可以⼤幅提⾼读性能，⼩幅提⾼写的性能。因此，读写分离更适合单机并发读请求⽐较多
的场景。
分库分表是为了解决由于库、表数据量过⼤，⽽导致数据库性能持续下降的问题。(String), 第47-47页(String), 47(Integer), 47(Integer), null, 5e12ee2da46f9002284f0e1b64f43b6f14a57bbcd8924b925eee6063534867a0(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 35(Integer), /t.zsxq.com/0bEDF
wgon 。
读写分离&分库分表（掌握概念和原理即可）  
读写分离主要是为了将数据库的读和写操作分不到不同的数据库节点上。主服务器负责写，从服务
器负责读。另外，⼀主⼀从或者⼀主多从都可以。
读写分离可以⼤幅提⾼读性能，⼩幅提⾼写的性能。因此，读写分离更适合单机并发读请求⽐较多
的场景。
分库分表是为了解决由于库、表数据量过⼤，⽽导致数据库性能持续下降的问题。常⻅的分库分表⼯具有：sharding-jdbc（当当）、TSharding（蘑菇街）、MyCAT（基于 
Cobar）、Cobar（阿⾥巴巴）...。 推荐使⽤ sharding-jdbc。 因为，sharding-jdbc 是⼀款轻量级 
Java 框架，以 jar 包形式提供服务，不要我们做额外的运维⼯作，并且兼容性也很好。
现在很多公司都是⽤的类似于 TiDB 这种分布式关系型数据库，不需要我们⼿动进⾏分库分表，因
此我们只需要掌握读写分离&分库分表的常⻅概念和原理即可，不需要花费太多时间去实践，推荐
阅读我写的 读写分离&分库分表常⻅问题总结这篇⽂章。
负载均衡  
负载均衡系统通常⽤于将任务⽐如⽤户请求处理分配到多个服务器处理以提⾼⽹站、应⽤或者数据
库的性能和可靠性。
开发过程中，我们接触到的负载均衡可以简单分为 服务端负载均衡 和 客户端负载均衡 这两种。服
务端负载均衡可以通过硬件（⽐如 F5、A10、Array ）或者软件（⽐如 LVS、Nginx、HAproxy ）
实现。Java 领域主流的微服务框架 Dubbo、Spring Cloud 等都内置了开箱即⽤的客户端负载均衡
实现。Dubbo 属于是默认⾃带了负载均衡功能，Spring Cloud 是通过组件的形式实现的负载均衡，
属于可选项，⽐较常⽤的是 Spring Cloud Load Balancer（官⽅，推荐） 和 Ribbon（Netflix，已被
启⽤）。
个⼈建议学习⼀下 Nginx 和 Spring Cloud Load Balancer。
负载均衡的常⻅概念、算法和技术⽅案可以看看这篇⽂章：负载均衡常⻅问题总结。(String), 第48-48页(String), 48(Integer), 48(Integer), null, bd0bc4090251f5bcc0dc4654ff26fb7f9bec6b49d186b872f679a83c6d29ea76(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 36(Integer),  属于是默认⾃带了负载均衡功能，Spring Cloud 是通过组件的形式实现的负载均衡，
属于可选项，⽐较常⽤的是 Spring Cloud Load Balancer（官⽅，推荐） 和 Ribbon（Netflix，已被
启⽤）。
个⼈建议学习⼀下 Nginx 和 Spring Cloud Load Balancer。
负载均衡的常⻅概念、算法和技术⽅案可以看看这篇⽂章：负载均衡常⻅问题总结。⾼可⽤（进阶）  
⾼可⽤描述的是⼀个系统在⼤部分时间都是可⽤的，可以为我们提供服务的。⾼可⽤代表系统即使
在发⽣硬件故障或者系统升级的时候，服务仍然是可⽤的 。
限流&降级&熔断  
限流是从⽤户访问压⼒的⻆度来考虑如何应对系统故障。限流为了对服务端的接⼝接受请求的频率
进⾏限制，防⽌服务挂掉。⽐如某⼀接⼝的请求限制为 100 个每秒, 对超过限制的请求放弃处理或
者放到队列中等待处理。限流可以有效应对突发请求过多。
关于服务限流的介绍推荐阅读我写的服务限流详解这篇⽂章，⾥⾯有介绍常⻅的限流算法以及单机
限流和分布式限流的技术⽅案。
降级是从系统功能优先级的⻆度考虑如何应对系统故障。服务降级指的是当服务器压⼒剧增的情况
下，根据当前业务情况及流量对⼀些服务和⻚⾯有策略的降级，以此释放服务器资源以保证核⼼任
务的正常运⾏。
熔断和降级是两个⽐较容易混淆的概念，两者的含义并不相同。降级的⽬的在于应对系统⾃身的故
障，⽽熔断的⽬的在于应对当前系统依赖的外部系统或者第三⽅系统的故障。
Netflix 开源的Hystrix 和阿⾥开源的 Sentinel 都能实现限流、降级、熔断。不过，Hystrix 已经停⽌
维护了，更建议使⽤功能更为强⼤的 Sentinel。另外，Sentinel 的 Wiki 中对⽐了常⽤限流降级组
件，感兴趣的可以看看，传送⻔：常⽤限流降级组件对⽐。
Sentinel 的 wiki 中已经详细描述了其与 Hystrix 的区别，你可以看看。
学习 Sentinel 的话，官⽅⽂档是⼀定要看的：https://sentinelguard.io/zh-cn/docs/introduction.html 
。
另外，再推荐⼀些我觉得还不错的学习资料：
阿⾥限流神器 Sentinel 夺命连环 17 问？ - 不才陈某
Sentinel 为什么这么强，我扒了扒背后的实现原理 - 三友的 java ⽇志
Sentinel 流控滑动窗⼝算法设计 - ⽼周聊架构
排队(String), 第49-49页(String), 49(Integer), 49(Integer), null, 1af6b15cca647d4a21d67915754f0ffe249c401a0a0637497f13009551cf25ed(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 37(Integer), l 的话，官⽅⽂档是⼀定要看的：https://sentinelguard.io/zh-cn/docs/introduction.html 
。
另外，再推荐⼀些我觉得还不错的学习资料：
阿⾥限流神器 Sentinel 夺命连环 17 问？ - 不才陈某
Sentinel 为什么这么强，我扒了扒背后的实现原理 - 三友的 java ⽇志
Sentinel 流控滑动窗⼝算法设计 - ⽼周聊架构
排队另类的⼀种限流，类⽐于现实世界的排队。玩过英雄联盟的⼩伙伴应该有体会，每次⼀有活动，就
要经历⼀波排队才能进⼊游戏。
实现排队的⽅法有很多种，⽐如我们可以借助消息队列、JDK 中的各种阻塞队列。
集群  
相同的服务部署多份，避免单点故障。
超时和重试机制  
⼀旦⽤户的请求超过某个时间得不到响应就结束此次请求并抛出异常。 如果不进⾏超时设置可能会
导致请求响应速度慢，甚⾄导致请求堆积进⽽让系统⽆法在处理请求。
另外，重试的次数⼀般设为 3 次，再多次的重试没有好处，反⽽会加重服务器压⼒（部分场景使⽤
失败重试机制会不太适合）。
云原⽣（可选）  
提示：云原⽣开发对能⼒要求很⾼，Java 后端岗位通常也不会要求云原⽣开发技能。因此，
这部分内容不推荐对云原⽣开发不感兴趣或者不了解的同学学习，可以选择跳过。
云原⽣就是在云中构建、运⾏应⽤程序的⼀套完整的技术体系和⽅法论。这⾥的技术体系和⽅法论
就⽬前来说指的是 微服务+DevOps+持续交付+容器化。
越来越多的编程语⾔、框架开始拥抱云原⽣，例如 Spring 推出了⾯向云原⽣的技术 Spring 
Native、RedHat 开源了 Java 云原⽣服务框架 Quarkus。
如果你对云原⽣领域⽐较感兴趣的话，建议你重点关注下⾯这些技术：
1. 微服务：SpringCloud 或者 SpringCloud Alibaba 其实是不⽤学习的，云原⽣下⼀般基于后⾯提
到的 Kubernetes 来构建微服务。
2. ⽹关：⽹关是整个微服务架构的流量⼊⼝，负责认证授权、请求分发、认证授权、限流、API 
管理、负载均衡等⼯作，是微服务架构中⾮常重要的⼀个组件。因此，我这⾥专⻔单独将⽹关
拿出来提⼀嘴。(String), 第50-50页(String), 50(Integer), 50(Integer), null, d7957cb776c96587ec2bc3a6f67cc0462690a87dca02cac016edfd722e61484e(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 38(Integer), 趣的话，建议你重点关注下⾯这些技术：
1. 微服务：SpringCloud 或者 SpringCloud Alibaba 其实是不⽤学习的，云原⽣下⼀般基于后⾯提
到的 Kubernetes 来构建微服务。
2. ⽹关：⽹关是整个微服务架构的流量⼊⼝，负责认证授权、请求分发、认证授权、限流、API 
管理、负载均衡等⼯作，是微服务架构中⾮常重要的⼀个组件。因此，我这⾥专⻔单独将⽹关
拿出来提⼀嘴。3. ⽇志和监控告警：Metrics（借助它我们可以在 Grafana 中绘制出各种直观的⾯板，可以更加全
⾯的了解我们系统的运⾏状态）、Trace（借助它我们可以构建出系统调⽤的全貌）、Logs
（⼀些必要的⽇志记录）。
4. 容器：容器技术是云原⽣发展的基⽯，以 Docker 为⾸的容器⼯具提出了“⼀次构建，到处运⾏”
的⼝号。
5. Kubernetes：K8s 被称为云原⽣时代的操作系统，云原⽣应⽤的优势与其提供的功能息息相
关。
6. DevOps：DevOps 关注的是如何实现应⽤程序的全⽣命周期（开发，测试，运维）⾃动化管
理，从⽽实现更快速、更⾼质量、更频繁、更稳定的软件交付。DevOps 团队通常会使⽤微服
务架构来构建应⽤程序，借助于持续集成和持续部署（CI/CD）来实施 DevOps。
7. ServiceMesh：你可以将 Service Mesh 看作是为了简化开发⼯作专⻔抽象出来的⼀层，通常作
为透明的⼀层接⼊到现有的分布式应⽤程序⾥。
8. ……
其中，⽐较重要的是 Kubernetes。如果你做项⽬的话，建议优先考虑 Kubernetes 相关的项⽬。
我之前写过⼀篇⽂章来介绍云原⽣，可以看看： 云原⽣时代，程序员应该掌握哪些能⼒？ 。
另外，还推荐看看这篇：2024年的云原⽣架构需要哪些技术栈。
AI（拓展补充）  
我把 Java 程序员需要重点掌握的 AI 相关技能，分为两⼤⽅向：AI 赋能开发（提升个⼈效率） 和 
AI 应⽤集成（创造业务价值）。
AI 赋能开发  
AI 编程助⼿：GitHub Copilot、Tabnine 等 AI 编程插件以及Augment Code、Cursor、
Windsurf 等 AI 编程 IDE，还有像  Claude Code 这种命令⾏编程助⼿。需要熟练使⽤⾄少⼀款 
AI 编程助⼿，将其融⼊⽇常编码流程。
通⽤⼤语⾔模型 ：如 ChatGPT (OpenAI)、Google Gemini 、Claude。 需要掌握提问的艺术
（Prompt Engineering），能够通过清晰、具体的指令，让 AI ⾼效地为你解决编程和学习中遇
到的问题。
AI 应⽤集成(String), 第51-51页(String), 51(Integer), 51(Integer), null, 9e1373fb9af805e9cb2b79351f701bcd19ae4b6eeedd540663027fe846ba4b13(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 39(Integer),  等 AI 编程 IDE，还有像  Claude Code 这种命令⾏编程助⼿。需要熟练使⽤⾄少⼀款 
AI 编程助⼿，将其融⼊⽇常编码流程。
通⽤⼤语⾔模型 ：如 ChatGPT (OpenAI)、Google Gemini 、Claude。 需要掌握提问的艺术
（Prompt Engineering），能够通过清晰、具体的指令，让 AI ⾼效地为你解决编程和学习中遇
到的问题。
AI 应⽤集成AI 应⽤开发框架：Spring AI、LangChain4j。强烈推荐 Spring AI。作为 Spring 官⽅推出的 AI 
框架，它不仅能与庞⼤的 Spring ⽣态（如 Spring Boot, Spring Data）⽆缝对接，⽽且未来的
维护更新和社区⽀持也更有保障，是 Java 开发者进⼊ AI 应⽤领域的⾸选。
向量数据库：对于⼤多数 Java 项⽬，我个⼈推荐直接使⽤ PostgreSQL 的 pgvector 插件来实
现向量数据库功能。这种⽅式的优势在于能够复⽤现有的 PostgreSQL 基础设施，极⼤地降低
了技术栈的复杂度和运维成本，⾮常适合项⽬起步和中⼩型应⽤。当然，对于⼤规模、⾼性能
的向量搜索场景，了解并使⽤专业的向量数据库（如 Milvus, Pinecone）也是必要的。
在 Java 中运⾏本地模型 ： 出于数据隐私、成本控制或需要离线运⾏等需求，将 AI 模型直接
部署在本地服务器并通过 Java 应⽤调⽤。 Ollama 极⼤地简化了在本地环境运⾏开源 LLM
（如 Qwen3、Llama 3, Mistral）的流程。Spring AI 和 LangChain4j 都提供了与 Ollama 的原
⽣对接⽀持，使得在 Java 中调⽤本地模型变得异常简单。
更详细的 Java 向 AI ⼤模型应⽤开发学习路线可以参考这篇帖⼦：https://t.zsxq.com/reesk 
（JavaGuide 知识星球专属），介绍了⼤模型应⽤开发基础、Java ⽣态的 AI 开发框架、AI 实战项
⽬推荐以及学习建议，包含具体的学习资料。
总结  
这是⼀份⾮常详细的学习路线，把上⾯的内容学完之后，找到⼀份⽐较好的⼯作已经⽐较容易。
另外，我在上⾯也说了，如果你觉得内容⽐较多⾃⼰学不完或者如果你只想找到⼀份⼩⼚的开发⼯
作的话，建议你把重⼼放在 Java 基础、数据库、常⽤框架、常⽤⼯具上。
像 JVM、分布式、⾼并发、⾼可⽤、微服务这些知识点，如果你想进⼤⼚或者说让⾃⼰在求职的时
候更有竞争⼒，那你就也是要多花⼀点时间来学习的。
现在⾯试很卷，想要找到⼀个好⼯作的话，就需要你去多学⼀点，多练习⼀点。虽然，你⽬前学的
很多知识，在你⼯作之后可能⽤不到，但是，⾯试的筛选就需要你会这些。毕竟，很多岗位是很多
⼈⼀起竞争，为了达到筛选效果，⾯试难度通常都会⽐较⼤的。这也就是所谓的：“⾯试造⽕箭，⼊
职拧螺丝”。
公众号(推荐)  
学习路线的最新更新会第⼀时间同步在公众号，推荐⼤家关注⼀波！(String), 第52-52页(String), 52(Integer), 52(Integer), null, 17ef1dcb5160caee205911456a12a3851af4371a20fa35a893e2e55b814d4bfb(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp), 3(Long), 40(Integer), ⼒，那你就也是要多花⼀点时间来学习的。
现在⾯试很卷，想要找到⼀个好⼯作的话，就需要你去多学⼀点，多练习⼀点。虽然，你⽬前学的
很多知识，在你⼯作之后可能⽤不到，但是，⾯试的筛选就需要你会这些。毕竟，很多岗位是很多
⼈⼀起竞争，为了达到筛选效果，⾯试难度通常都会⽐较⼤的。这也就是所谓的：“⾯试造⽕箭，⼊
职拧螺丝”。
公众号(推荐)  
学习路线的最新更新会第⼀时间同步在公众号，推荐⼤家关注⼀波！知识星球  
为了帮助更多同学准备 Java ⾯试以及学习 Java ，我创建了⼀个纯粹的Java ⾯试知识星球。虽然
收费只有培训班/训练营的百分之⼀，但是知识星球⾥的内容质量更⾼，提供的服务也更全⾯，⾮常
适合准备 Java ⾯试和学习 Java 的同学。
欢迎准备 Java ⾯试以及学习 Java 的同学加⼊我的 知识星球，⼲货⾮常多，学习氛围也很不错！
收费虽然是⽩菜价，但星球⾥的内容或许⽐你参加上万的培训班质量还要⾼。(String), 第53-53页(String), 53(Integer), 53(Integer), null, df4acb63eb904ab672a2c07027bc7cec32bf81c2cd09db7ff5b1fb258f20185a(String), false(Boolean), 2026-01-05 14:21:20.854796(Timestamp)
2026-01-05 14:21:20.886 [tomcat-handler-17] DEBUG c.a.r.mapper.ChunkMapper.batchInsert - <==    Updates: 41
2026-01-05 14:21:20.887 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:20.887 [tomcat-handler-17] INFO  c.a.r.s.impl.ResourceServiceImpl - 已插入 41 个切片
2026-01-05 14:21:20.887 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f] from current transaction
2026-01-05 14:21:20.887 [tomcat-handler-17] DEBUG c.a.r.m.R.updateChunkStatus - ==>  Preparing: UPDATE resources SET chunk_count = ?, vectorized = ? WHERE id = ?
2026-01-05 14:21:20.887 [tomcat-handler-17] DEBUG c.a.r.m.R.updateChunkStatus - ==> Parameters: 41(Integer), false(Boolean), 3(Long)
2026-01-05 14:21:20.889 [tomcat-handler-17] DEBUG c.a.r.m.R.updateChunkStatus - <==    Updates: 1
2026-01-05 14:21:20.889 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:20.889 [tomcat-handler-17] INFO  c.a.r.service.impl.VectorServiceImpl - 开始向量化资源切片: resourceId=3
2026-01-05 14:21:20.889 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f] from current transaction
2026-01-05 14:21:20.889 [tomcat-handler-17] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - ==>  Preparing: SELECT id, resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at FROM resource_chunks WHERE resource_id = ? AND vectorized = FALSE ORDER BY chunk_index ASC
2026-01-05 14:21:20.889 [tomcat-handler-17] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - ==> Parameters: 3(Long)
2026-01-05 14:21:20.901 [tomcat-handler-17] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - <==      Total: 41
2026-01-05 14:21:20.901 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:20.901 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 批量向量化 41 个切片
2026-01-05 14:21:20.901 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.901 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.905 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=16
2026-01-05 14:21:20.905 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=16
2026-01-05 14:21:20.905 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.905 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.908 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=17
2026-01-05 14:21:20.908 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=17
2026-01-05 14:21:20.908 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.908 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.912 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=18
2026-01-05 14:21:20.912 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=18
2026-01-05 14:21:20.912 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.912 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.915 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=19
2026-01-05 14:21:20.915 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=19
2026-01-05 14:21:20.915 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.915 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.917 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=20
2026-01-05 14:21:20.917 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=20
2026-01-05 14:21:20.917 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.917 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.919 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=21
2026-01-05 14:21:20.919 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=21
2026-01-05 14:21:20.919 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.919 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.921 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=22
2026-01-05 14:21:20.921 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=22
2026-01-05 14:21:20.921 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.921 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.923 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=23
2026-01-05 14:21:20.923 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=23
2026-01-05 14:21:20.923 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.923 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.925 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=24
2026-01-05 14:21:20.925 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=24
2026-01-05 14:21:20.925 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.925 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.927 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=25
2026-01-05 14:21:20.927 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=25
2026-01-05 14:21:20.927 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.927 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.929 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=26
2026-01-05 14:21:20.929 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=26
2026-01-05 14:21:20.929 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.929 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.932 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=27
2026-01-05 14:21:20.932 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=27
2026-01-05 14:21:20.932 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.932 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.934 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=28
2026-01-05 14:21:20.934 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=28
2026-01-05 14:21:20.934 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.934 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.936 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=29
2026-01-05 14:21:20.936 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=29
2026-01-05 14:21:20.936 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.936 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.937 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=30
2026-01-05 14:21:20.937 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=30
2026-01-05 14:21:20.937 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.937 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.939 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=31
2026-01-05 14:21:20.939 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=31
2026-01-05 14:21:20.939 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.939 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.941 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=32
2026-01-05 14:21:20.942 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=32
2026-01-05 14:21:20.942 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.942 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.943 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=33
2026-01-05 14:21:20.943 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=33
2026-01-05 14:21:20.943 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.944 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.945 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=34
2026-01-05 14:21:20.945 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=34
2026-01-05 14:21:20.945 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.945 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.948 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=35
2026-01-05 14:21:20.948 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=35
2026-01-05 14:21:20.948 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.948 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.949 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=36
2026-01-05 14:21:20.949 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=36
2026-01-05 14:21:20.949 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.950 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.951 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=37
2026-01-05 14:21:20.951 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=37
2026-01-05 14:21:20.951 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.951 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.953 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=38
2026-01-05 14:21:20.953 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=38
2026-01-05 14:21:20.953 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.953 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.955 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=39
2026-01-05 14:21:20.955 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=39
2026-01-05 14:21:20.955 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.955 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.957 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=40
2026-01-05 14:21:20.957 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=40
2026-01-05 14:21:20.957 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.957 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.960 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=41
2026-01-05 14:21:20.961 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=41
2026-01-05 14:21:20.961 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.961 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.963 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=42
2026-01-05 14:21:20.963 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=42
2026-01-05 14:21:20.963 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.963 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.965 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=43
2026-01-05 14:21:20.965 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=43
2026-01-05 14:21:20.965 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.965 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.967 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=44
2026-01-05 14:21:20.967 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=44
2026-01-05 14:21:20.967 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.967 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.969 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=45
2026-01-05 14:21:20.969 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=45
2026-01-05 14:21:20.969 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.969 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.975 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=46
2026-01-05 14:21:20.975 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=46
2026-01-05 14:21:20.975 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.975 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.977 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=47
2026-01-05 14:21:20.977 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=47
2026-01-05 14:21:20.978 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.978 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.980 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=48
2026-01-05 14:21:20.980 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=48
2026-01-05 14:21:20.980 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.980 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.982 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=49
2026-01-05 14:21:20.982 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=49
2026-01-05 14:21:20.982 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.982 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.984 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=50
2026-01-05 14:21:20.984 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=50
2026-01-05 14:21:20.984 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.984 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.986 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=51
2026-01-05 14:21:20.986 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=51
2026-01-05 14:21:20.986 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.986 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.988 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=52
2026-01-05 14:21:20.988 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=52
2026-01-05 14:21:20.988 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.988 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.990 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=53
2026-01-05 14:21:20.990 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=53
2026-01-05 14:21:20.990 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.990 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.992 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=54
2026-01-05 14:21:20.992 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=54
2026-01-05 14:21:20.992 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.992 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.994 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=55
2026-01-05 14:21:20.994 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=55
2026-01-05 14:21:20.994 [tomcat-handler-17] DEBUG c.a.rag.gateway.ModelGatewayImpl - 委托给 EmbeddingGateway 生成嵌入向量
2026-01-05 14:21:20.994 [tomcat-handler-17] WARN  c.a.rag.gateway.EmbeddingGateway - EmbeddingGateway.embed() not yet implemented - returning dummy embedding
2026-01-05 14:21:20.996 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 向量已写入 Redis: chunkId=56
2026-01-05 14:21:20.996 [tomcat-handler-17] DEBUG c.a.r.service.impl.VectorServiceImpl - 切片向量化成功: chunkId=56
2026-01-05 14:21:20.996 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f] from current transaction
2026-01-05 14:21:20.996 [tomcat-handler-17] DEBUG c.a.r.m.C.batchUpdateVectorized - ==>  Preparing: UPDATE resource_chunks SET vectorized = ? WHERE id IN ( ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? )
2026-01-05 14:21:20.997 [tomcat-handler-17] DEBUG c.a.r.m.C.batchUpdateVectorized - ==> Parameters: true(Boolean), 16(Long), 17(Long), 18(Long), 19(Long), 20(Long), 21(Long), 22(Long), 23(Long), 24(Long), 25(Long), 26(Long), 27(Long), 28(Long), 29(Long), 30(Long), 31(Long), 32(Long), 33(Long), 34(Long), 35(Long), 36(Long), 37(Long), 38(Long), 39(Long), 40(Long), 41(Long), 42(Long), 43(Long), 44(Long), 45(Long), 46(Long), 47(Long), 48(Long), 49(Long), 50(Long), 51(Long), 52(Long), 53(Long), 54(Long), 55(Long), 56(Long)
2026-01-05 14:21:21.000 [tomcat-handler-17] DEBUG c.a.r.m.C.batchUpdateVectorized - <==    Updates: 41
2026-01-05 14:21:21.000 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:21.000 [tomcat-handler-17] INFO  c.a.r.service.impl.VectorServiceImpl - 批量更新向量化状态: 41 个切片
2026-01-05 14:21:21.000 [tomcat-handler-17] INFO  c.a.r.s.impl.ResourceServiceImpl - 向量化任务已触发: 资源ID=3
2026-01-05 14:21:21.002 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:21.002 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:21.002 [tomcat-handler-17] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5728121f]
2026-01-05 14:21:24.416 [tomcat-handler-19] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 20416 milliseconds ago at 2026-01-05T06:21:04.000Z. Current time: 2026-01-05T06:21:24.416Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:21:28.023 [tomcat-handler-20] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 14:21:28.023 [tomcat-handler-20] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 14:21:28.023 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:28.023 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593fb876] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:28.024 [tomcat-handler-20] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1560291209 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:28.024 [tomcat-handler-20] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:21:28.025 [tomcat-handler-20] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 14:21:28.026 [tomcat-handler-20] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:21:28.026 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593fb876]
2026-01-05 14:21:28.103 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:28.103 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d08ba30] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:28.103 [tomcat-handler-20] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@701517807 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:28.103 [tomcat-handler-20] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:21:28.103 [tomcat-handler-20] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:21:28.103076(Timestamp), 5(Long)
2026-01-05 14:21:28.107 [tomcat-handler-20] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:21:28.107 [tomcat-handler-20] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d08ba30]
2026-01-05 14:21:28.107 [tomcat-handler-20] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 14:21:36.919 [tomcat-handler-21] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:21:36.920 [tomcat-handler-21] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 14:21:36.920 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:36.920 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd08357] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:36.922 [tomcat-handler-21] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1089056259 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:36.922 [tomcat-handler-21] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 14:21:36.923 [tomcat-handler-21] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 3
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1cd08357]
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7052757d] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2110145730 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 14:21:36.925 [tomcat-handler-21] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 14:21:36.927 [tomcat-handler-21] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 14:21:36.927 [tomcat-handler-21] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7052757d]
2026-01-05 14:21:47.063 [tomcat-handler-22] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:21:47.065 [tomcat-handler-22] INFO  c.a.r.controller.ResourceController - GET /api/resources/1
2026-01-05 14:21:47.065 [tomcat-handler-22] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:47.065 [tomcat-handler-22] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79d0806d] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:47.066 [tomcat-handler-22] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@903281238 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:47.066 [tomcat-handler-22] DEBUG c.a.r.mapper.ResourceMapper.findById - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE id = ?
2026-01-05 14:21:47.066 [tomcat-handler-22] DEBUG c.a.r.mapper.ResourceMapper.findById - ==> Parameters: 1(Long)
2026-01-05 14:21:47.067 [tomcat-handler-22] DEBUG c.a.r.mapper.ResourceMapper.findById - <==      Total: 1
2026-01-05 14:21:47.067 [tomcat-handler-22] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@79d0806d]
2026-01-05 14:21:51.791 [tomcat-handler-23] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:21:51.792 [tomcat-handler-23] INFO  c.a.r.controller.ResourceController - GET /api/resources/3
2026-01-05 14:21:51.792 [tomcat-handler-23] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:21:51.792 [tomcat-handler-23] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a13547] was not registered for synchronization because synchronization is not active
2026-01-05 14:21:51.793 [tomcat-handler-23] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1871645846 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:21:51.793 [tomcat-handler-23] DEBUG c.a.r.mapper.ResourceMapper.findById - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE id = ?
2026-01-05 14:21:51.794 [tomcat-handler-23] DEBUG c.a.r.mapper.ResourceMapper.findById - ==> Parameters: 3(Long)
2026-01-05 14:21:51.795 [tomcat-handler-23] DEBUG c.a.r.mapper.ResourceMapper.findById - <==      Total: 1
2026-01-05 14:21:51.795 [tomcat-handler-23] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@12a13547]
2026-01-05 14:22:01.239 [tomcat-handler-24] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:22:01.240 [tomcat-handler-24] INFO  c.a.r.controller.ResourceController - GET /api/resources/3/chunks
2026-01-05 14:22:01.241 [tomcat-handler-24] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:22:01.241 [tomcat-handler-24] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e54586a] was not registered for synchronization because synchronization is not active
2026-01-05 14:22:01.242 [tomcat-handler-24] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@690493578 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:22:01.242 [tomcat-handler-24] DEBUG c.a.r.m.ChunkMapper.findByResourceId - ==>  Preparing: SELECT id, resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at FROM resource_chunks WHERE resource_id = ? ORDER BY chunk_index ASC
2026-01-05 14:22:01.242 [tomcat-handler-24] DEBUG c.a.r.m.ChunkMapper.findByResourceId - ==> Parameters: 3(Long)
2026-01-05 14:22:01.249 [tomcat-handler-24] DEBUG c.a.r.m.ChunkMapper.findByResourceId - <==      Total: 41
2026-01-05 14:22:01.250 [tomcat-handler-24] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3e54586a]
2026-01-05 14:22:19.989 [tomcat-handler-25] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:22:19.989 [tomcat-handler-25] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 14:22:19.990 [tomcat-handler-25] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:22:19.990 [tomcat-handler-25] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a408cf9] was not registered for synchronization because synchronization is not active
2026-01-05 14:22:19.991 [tomcat-handler-25] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2077825074 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:22:19.991 [tomcat-handler-25] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 14:22:19.991 [tomcat-handler-25] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 3
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1a408cf9]
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771643ea] was not registered for synchronization because synchronization is not active
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1153289650 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 14:22:19.993 [tomcat-handler-25] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 14:22:19.994 [tomcat-handler-25] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 14:22:19.994 [tomcat-handler-25] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@771643ea]
2026-01-05 14:24:14.066 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 14:24:14.069 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 14:24:14.194 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 14:24:14.199 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 14:24:26.792 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 58206 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 14:24:26.793 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 14:24:26.794 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 14:24:27.420 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 14:24:27.420 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 14:24:27.590 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 14:24:27.592 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 14:24:27.617 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-01-05 14:24:27.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 14:24:27.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 14:24:27.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 14:24:27.704 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 14:24:27.705 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 14:24:27.707 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 14:24:27.707 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 14:24:27.707 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 14:24:28.355 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 14:24:28.369 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 14:24:28.369 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 14:24:28.415 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 14:24:28.415 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1591 ms
2026-01-05 14:24:28.576 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2026-01-05 14:24:28.747 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 14:24:28.903 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@653e7b
2026-01-05 14:24:28.904 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 14:24:28.941 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 14:24:29.260 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.022s)
2026-01-05 14:24:29.275 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 14:24:29.278 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 14:24:29.437 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 14:24:29.447 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 14:24:29.454 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 14:24:29.461 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 14:24:29.664 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 14:24:29.839 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 14:24:29.840 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 14:24:29.914 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 14:24:30.069 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:24:30.074 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:24:30.103 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 14:24:30.119 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 14:24:30.392 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 14:24:30.421 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 9fdecfb7-bdf4-42cd-8083-f0df77e598cc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 14:24:30.428 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 14:24:30.681 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 14:24:30.889 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 14:24:30.902 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.504 seconds (process running for 4.774)
2026-01-05 14:24:53.819 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 14:24:53.820 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 14:24:53.821 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 14:25:11.701 [tomcat-handler-1] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 156700 milliseconds ago at 2026-01-05T06:22:35.000Z. Current time: 2026-01-05T06:25:11.700Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:25:20.238 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2026-01-05 14:25:20.238 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2026-01-05 14:25:20.243 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:20.246 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f321f21] was not registered for synchronization because synchronization is not active
2026-01-05 14:25:20.254 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1980074958 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:25:20.256 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:25:20.268 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2026-01-05 14:25:20.281 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:25:20.281 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7f321f21]
2026-01-05 14:25:20.363 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:20.363 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b3ae9e] was not registered for synchronization because synchronization is not active
2026-01-05 14:25:20.363 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@954016696 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:25:20.363 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:25:20.364 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:25:20.362981(Timestamp), 7(Long)
2026-01-05 14:25:20.372 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:25:20.372 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@21b3ae9e]
2026-01-05 14:25:20.372 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2026-01-05 14:25:20.967 [tomcat-handler-3] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:25:20.969 [tomcat-handler-3] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 14:25:20.981 [tomcat-handler-3] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 14:25:20.982 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:20.984 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499676ed]
2026-01-05 14:25:20.985 [tomcat-handler-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@704737906 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will be managed by Spring
2026-01-05 14:25:20.985 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:25:20.985 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 14:25:20.987 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:25:20.988 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499676ed]
2026-01-05 14:25:20.988 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499676ed]
2026-01-05 14:25:20.989 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499676ed]
2026-01-05 14:25:20.989 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@499676ed]
2026-01-05 14:25:21.176 [tomcat-handler-4] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:25:21.177 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 14:25:21.180 [tomcat-handler-4] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 14:25:21.180 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:21.180 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd3092]
2026-01-05 14:25:21.180 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1878401175 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will be managed by Spring
2026-01-05 14:25:21.180 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 14:25:21.181 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 14:25:21.183 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 14:25:21.183 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd3092]
2026-01-05 14:25:21.184 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd3092]
2026-01-05 14:25:21.184 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd3092]
2026-01-05 14:25:21.184 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65bd3092]
2026-01-05 14:25:32.248 [tomcat-handler-5] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 14:25:32.334 [tomcat-handler-5] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=7, title=Java学习路线（2025最新版，暗色）, file=Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:25:32.336 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: Java学习路线（2025最新版，暗色）, 文件: Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:25:32.346 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 文件已保存: /Users/hubin5/app/Aetheris/backend/uploads/1767594332336_Java学习路线（2025最新版，暗色）.pdf
2026-01-05 14:25:32.417 [tomcat-handler-5] DEBUG c.a.r.s.impl.ResourceServiceImpl - 文件内容哈希: 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3
2026-01-05 14:25:32.417 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:32.417 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe7994]
2026-01-05 14:25:32.417 [tomcat-handler-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1887267232 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will be managed by Spring
2026-01-05 14:25:32.418 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE content_hash = ?
2026-01-05 14:25:32.418 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - ==> Parameters: 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3(String)
2026-01-05 14:25:32.421 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - <==      Total: 1
2026-01-05 14:25:32.421 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe7994]
2026-01-05 14:25:32.421 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 资源已存在（内容哈希重复）: 3
2026-01-05 14:25:32.421 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe7994]
2026-01-05 14:25:32.422 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe7994]
2026-01-05 14:25:32.422 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2ebe7994]
2026-01-05 14:25:43.049 [tomcat-handler-7] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT expired 169049 milliseconds ago at 2026-01-05T06:22:54.000Z. Current time: 2026-01-05T06:25:43.049Z. Allowed clock skew: 0 milliseconds.
2026-01-05 14:25:45.848 [tomcat-handler-8] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 14:25:45.848 [tomcat-handler-8] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 14:25:45.848 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:45.848 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@352d581] was not registered for synchronization because synchronization is not active
2026-01-05 14:25:45.849 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1179671439 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:25:45.849 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 14:25:45.850 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 14:25:45.851 [tomcat-handler-8] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 14:25:45.851 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@352d581]
2026-01-05 14:25:45.928 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:45.929 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775c3a9d] was not registered for synchronization because synchronization is not active
2026-01-05 14:25:45.929 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1647773482 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:25:45.929 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 14:25:45.929 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 14:25:45.928873(Timestamp), 5(Long)
2026-01-05 14:25:45.933 [tomcat-handler-8] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 14:25:45.933 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@775c3a9d]
2026-01-05 14:25:45.933 [tomcat-handler-8] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 14:25:56.233 [tomcat-handler-9] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:25:56.235 [tomcat-handler-9] INFO  c.a.r.controller.ResourceController - GET /api/resources/3
2026-01-05 14:25:56.235 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:25:56.235 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239821aa] was not registered for synchronization because synchronization is not active
2026-01-05 14:25:56.237 [tomcat-handler-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@183544465 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:25:56.237 [tomcat-handler-9] DEBUG c.a.r.mapper.ResourceMapper.findById - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE id = ?
2026-01-05 14:25:56.238 [tomcat-handler-9] DEBUG c.a.r.mapper.ResourceMapper.findById - ==> Parameters: 3(Long)
2026-01-05 14:25:56.239 [tomcat-handler-9] DEBUG c.a.r.mapper.ResourceMapper.findById - <==      Total: 1
2026-01-05 14:25:56.240 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@239821aa]
2026-01-05 14:26:03.023 [tomcat-handler-10] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 14:26:03.024 [tomcat-handler-10] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 14:26:03.025 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:26:03.025 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2c1d18] was not registered for synchronization because synchronization is not active
2026-01-05 14:26:03.026 [tomcat-handler-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1872323532 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:26:03.026 [tomcat-handler-10] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 14:26:03.027 [tomcat-handler-10] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 14:26:03.029 [tomcat-handler-10] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 3
2026-01-05 14:26:03.030 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5b2c1d18]
2026-01-05 14:26:03.030 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 14:26:03.030 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@628a2985] was not registered for synchronization because synchronization is not active
2026-01-05 14:26:03.030 [tomcat-handler-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1611646033 wrapping com.mysql.cj.jdbc.ConnectionImpl@653e7b] will not be managed by Spring
2026-01-05 14:26:03.030 [tomcat-handler-10] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 14:26:03.030 [tomcat-handler-10] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 14:26:03.032 [tomcat-handler-10] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 14:26:03.032 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@628a2985]
2026-01-05 14:59:27.677 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 68255 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 14:59:27.678 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 14:59:27.679 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 14:59:28.458 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 14:59:28.459 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 14:59:28.640 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 14:59:28.643 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 14:59:28.672 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 Redis repository interfaces.
2026-01-05 14:59:28.778 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 14:59:28.779 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 14:59:28.779 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 14:59:28.779 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 14:59:28.781 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 14:59:28.782 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 14:59:28.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 14:59:28.783 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 14:59:29.427 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 14:59:29.442 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 14:59:29.442 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 14:59:29.490 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 14:59:29.490 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1763 ms
2026-01-05 14:59:29.660 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 14:59:29.838 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 14:59:30.012 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@653e7b
2026-01-05 14:59:30.014 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 14:59:30.054 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 14:59:30.387 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.025s)
2026-01-05 14:59:30.402 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 14:59:30.405 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 14:59:30.582 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 14:59:30.592 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 14:59:30.598 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 14:59:30.606 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 14:59:30.791 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 14:59:30.951 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 14:59:30.952 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 14:59:31.027 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 14:59:31.185 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:59:31.191 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 14:59:31.220 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 14:59:31.236 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 14:59:31.515 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 14:59:31.546 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 73886906-9bff-4ff8-9128-f51004d231a6

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 14:59:31.553 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 14:59:31.748 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 14:59:31.965 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 14:59:31.978 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.78 seconds (process running for 5.092)
2026-01-05 15:23:34.618 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 15:23:34.621 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 15:23:34.746 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 15:23:34.747 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 15:24:33.640 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 78448 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 15:24:33.641 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 15:24:33.641 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 15:24:34.331 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 15:24:34.332 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 15:24:34.515 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 15:24:34.517 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 15:24:34.545 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-01-05 15:24:34.647 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 15:24:34.647 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 15:24:34.647 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 15:24:34.647 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 15:24:34.649 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 15:24:34.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 15:24:34.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 15:24:34.650 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 15:24:35.291 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 15:24:35.304 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 15:24:35.304 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 15:24:35.351 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 15:24:35.351 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1675 ms
2026-01-05 15:24:35.512 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 15:24:35.668 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 15:24:35.833 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a
2026-01-05 15:24:35.835 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 15:24:35.874 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 15:24:36.212 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.023s)
2026-01-05 15:24:36.226 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 15:24:36.229 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 15:24:36.402 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 15:24:36.415 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 15:24:36.422 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 15:24:36.429 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 15:24:36.616 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 15:24:36.781 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 15:24:36.782 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 15:24:36.855 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 15:24:37.012 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:24:37.017 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:24:37.051 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 15:24:37.068 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 15:24:37.350 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 15:24:37.381 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 58c951c9-43cb-4066-9984-05c19bdc5d68

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 15:24:37.388 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 15:24:37.580 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 15:24:37.799 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 15:24:37.813 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.665 seconds (process running for 5.059)
2026-01-05 15:25:33.635 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 15:25:33.635 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 15:25:33.636 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 15:25:33.746 [tomcat-handler-0] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: admin@aetheris.com
2026-01-05 15:25:33.746 [tomcat-handler-0] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: admin@aetheris.com
2026-01-05 15:25:33.752 [tomcat-handler-0] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:25:33.757 [tomcat-handler-0] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cba1edf] was not registered for synchronization because synchronization is not active
2026-01-05 15:25:33.768 [tomcat-handler-0] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1412524781 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will not be managed by Spring
2026-01-05 15:25:33.769 [tomcat-handler-0] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 15:25:33.781 [tomcat-handler-0] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: admin@aetheris.com(String)
2026-01-05 15:25:33.795 [tomcat-handler-0] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 15:25:33.796 [tomcat-handler-0] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6cba1edf]
2026-01-05 15:25:33.883 [tomcat-handler-0] WARN  c.a.r.e.GlobalExceptionHandler - 未授权访问: 邮箱或密码错误
2026-01-05 15:28:24.830 [tomcat-handler-1] WARN  c.a.r.e.GlobalExceptionHandler - 参数校验失败: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.common.response.ApiResponse<com.aetheris.rag.dto.response.AuthResponse>> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [test123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] 
2026-01-05 15:28:27.870 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: jwttest
2026-01-05 15:28:27.877 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - 注册新用户: jwttest
2026-01-05 15:28:27.877 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:28:27.877 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:28:27.878 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1508316739 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will be managed by Spring
2026-01-05 15:28:27.878 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2026-01-05 15:28:27.878 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: jwttest@test.com(String)
2026-01-05 15:28:27.881 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2026-01-05 15:28:27.882 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:28:27.883 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef] from current transaction
2026-01-05 15:28:27.884 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.usernameExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE username = ?
2026-01-05 15:28:27.884 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.usernameExists - ==> Parameters: jwttest(String)
2026-01-05 15:28:27.885 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.usernameExists - <==      Total: 1
2026-01-05 15:28:27.886 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:28:27.973 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef] from current transaction
2026-01-05 15:28:27.973 [tomcat-handler-2] DEBUG c.a.rag.mapper.UserMapper.insert - ==>  Preparing: INSERT INTO users (username, email, password_hash, created_at, updated_at, last_active_at) VALUES (?, ?, ?, ?, ?, ?)
2026-01-05 15:28:27.975 [tomcat-handler-2] DEBUG c.a.rag.mapper.UserMapper.insert - ==> Parameters: jwttest(String), jwttest@test.com(String), $2a$10$CJ2TNh316AZIE7QX8EHKvesAK/JHie7sZMXp5tYHF.lcNBg.Y5.xe(String), 2026-01-05 15:28:27.972427(Timestamp), 2026-01-05 15:28:27.972429(Timestamp), 2026-01-05 15:28:27.97243(Timestamp)
2026-01-05 15:28:27.979 [tomcat-handler-2] DEBUG c.a.rag.mapper.UserMapper.insert - <==    Updates: 1
2026-01-05 15:28:27.981 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:28:27.981 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User registered successfully: 11
2026-01-05 15:28:28.041 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:28:28.041 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:28:28.041 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@188148ef]
2026-01-05 15:33:59.505 [tomcat-handler-4] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 11
2026-01-05 15:33:59.507 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 11
2026-01-05 15:33:59.510 [tomcat-handler-4] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=11
2026-01-05 15:33:59.511 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:33:59.511 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec28179]
2026-01-05 15:33:59.511 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1715829723 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will be managed by Spring
2026-01-05 15:33:59.511 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 15:33:59.512 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 11(Long)
2026-01-05 15:33:59.514 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 15:33:59.514 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec28179]
2026-01-05 15:33:59.514 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec28179]
2026-01-05 15:33:59.514 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec28179]
2026-01-05 15:33:59.514 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@1ec28179]
2026-01-05 15:46:47.062 [tomcat-handler-7] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 15:46:47.063 [tomcat-handler-7] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 15:46:47.063 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:46:47.063 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40adf468] was not registered for synchronization because synchronization is not active
2026-01-05 15:46:47.064 [tomcat-handler-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1315574285 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will not be managed by Spring
2026-01-05 15:46:47.064 [tomcat-handler-7] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 15:46:47.064 [tomcat-handler-7] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 15:46:47.066 [tomcat-handler-7] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 15:46:47.066 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@40adf468]
2026-01-05 15:46:47.150 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:46:47.150 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f571836] was not registered for synchronization because synchronization is not active
2026-01-05 15:46:47.150 [tomcat-handler-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@553034496 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will not be managed by Spring
2026-01-05 15:46:47.150 [tomcat-handler-7] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 15:46:47.150 [tomcat-handler-7] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 15:46:47.14987(Timestamp), 5(Long)
2026-01-05 15:46:47.155 [tomcat-handler-7] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 15:46:47.155 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@f571836]
2026-01-05 15:46:47.155 [tomcat-handler-7] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 15:47:03.943 [tomcat-handler-8] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 15:47:03.945 [tomcat-handler-8] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 15:47:03.946 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:47:03.946 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a79779] was not registered for synchronization because synchronization is not active
2026-01-05 15:47:03.947 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1432729495 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will not be managed by Spring
2026-01-05 15:47:03.947 [tomcat-handler-8] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 15:47:03.949 [tomcat-handler-8] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 15:47:03.952 [tomcat-handler-8] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 3
2026-01-05 15:47:03.952 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4a79779]
2026-01-05 15:47:03.952 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:47:03.952 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9bd422f] was not registered for synchronization because synchronization is not active
2026-01-05 15:47:03.952 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@108794973 wrapping com.mysql.cj.jdbc.ConnectionImpl@7fd2a67a] will not be managed by Spring
2026-01-05 15:47:03.952 [tomcat-handler-8] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 15:47:03.953 [tomcat-handler-8] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 15:47:03.955 [tomcat-handler-8] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 15:47:03.955 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@9bd422f]
2026-01-05 15:51:24.687 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 86700 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 15:51:24.689 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 15:51:24.690 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 15:51:25.403 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 15:51:25.403 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 15:51:25.601 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 15:51:25.603 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 15:51:25.630 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2026-01-05 15:51:25.726 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 15:51:25.726 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 15:51:25.726 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 15:51:25.726 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 15:51:25.728 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 15:51:25.729 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 15:51:25.729 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 15:51:25.730 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 15:51:26.350 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 15:51:26.365 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 15:51:26.365 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 15:51:26.421 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 15:51:26.422 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1684 ms
2026-01-05 15:51:26.592 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 15:51:26.763 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 15:51:26.922 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30a62a5b
2026-01-05 15:51:26.923 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 15:51:26.963 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 15:51:27.292 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.024s)
2026-01-05 15:51:27.306 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 15:51:27.308 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 15:51:27.475 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 15:51:27.484 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 15:51:27.493 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 15:51:27.501 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 15:51:27.685 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 15:51:27.849 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 15:51:27.850 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 15:51:27.920 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 15:51:28.084 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:51:28.089 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:51:28.123 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 15:51:28.141 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 15:51:28.419 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 15:51:28.447 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 1317b81f-bafb-4925-8257-229ab1f07422

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 15:51:28.455 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 15:51:28.646 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 15:51:28.974 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'
2026-01-05 15:51:28.990 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 15:51:28.995 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 15:51:29.010 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2026-01-05 15:51:29.026 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2026-01-05 15:53:51.730 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 87607 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 15:53:51.731 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 15:53:51.731 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 15:53:52.352 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 15:53:52.353 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 15:53:52.513 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 15:53:52.515 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 15:53:52.537 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-01-05 15:53:52.619 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 15:53:52.619 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 15:53:52.619 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 15:53:52.619 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 15:53:52.620 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 15:53:52.621 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 15:53:52.621 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 15:53:52.621 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 15:53:53.133 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 15:53:53.145 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 15:53:53.145 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 15:53:53.190 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 15:53:53.190 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1425 ms
2026-01-05 15:53:53.359 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 15:53:53.547 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 15:53:53.718 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3c89b864
2026-01-05 15:53:53.720 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 15:53:53.767 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 15:53:54.143 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.028s)
2026-01-05 15:53:54.163 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 15:53:54.167 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 15:53:54.347 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 15:53:54.359 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 15:53:54.367 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 15:53:54.377 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 15:53:54.551 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 15:53:54.781 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 15:53:54.782 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 15:53:54.852 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 15:53:55.008 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:53:55.013 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:53:55.037 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 15:53:55.055 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 15:53:55.360 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 15:53:55.393 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 293b511c-4ace-45f2-94be-7845ce5c5dbf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 15:53:55.400 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 15:53:55.582 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 15:53:55.801 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 15:53:55.815 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.487 seconds (process running for 4.747)
2026-01-05 15:55:36.029 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 15:55:36.032 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 15:55:36.161 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 15:55:36.166 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 15:56:02.576 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 88531 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 15:56:02.577 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 15:56:02.577 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 15:56:03.132 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 15:56:03.132 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 15:56:03.285 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 15:56:03.287 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 15:56:03.306 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2026-01-05 15:56:03.373 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 15:56:03.373 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 15:56:03.373 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 15:56:03.373 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 15:56:03.374 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 15:56:03.375 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 15:56:03.375 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 15:56:03.375 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 15:56:03.818 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 15:56:03.829 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 15:56:03.829 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 15:56:03.879 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 15:56:03.882 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1271 ms
2026-01-05 15:56:04.017 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 15:56:04.161 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 15:56:04.282 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@45849604
2026-01-05 15:56:04.283 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 15:56:04.315 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 15:56:04.651 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.019s)
2026-01-05 15:56:04.664 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 15:56:04.666 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 15:56:04.799 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 15:56:04.810 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 15:56:04.819 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 15:56:04.827 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 15:56:04.963 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 15:56:05.080 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 15:56:05.081 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 15:56:05.139 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 15:56:05.316 [redisson-netty-4-5] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:56:05.323 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 15:56:05.363 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 15:56:05.385 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 15:56:05.657 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 15:56:05.685 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: af4e513d-0792-4ee7-9378-811ff57f4a56

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 15:56:05.691 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 15:56:05.869 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 15:56:06.082 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 15:56:06.095 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 3.943 seconds (process running for 4.392)
2026-01-05 15:56:25.752 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 15:56:25.752 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 15:56:25.753 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 15:57:04.173 [tomcat-handler-1] ERROR com.aetheris.rag.util.JwtUtil - Token 已过期: JWT expired 5418172 milliseconds ago at 2026-01-05T06:26:46.000Z. Current time: 2026-01-05T07:57:04.172Z. Allowed clock skew: 300000 milliseconds.
2026-01-05 15:57:04.173 [tomcat-handler-1] ERROR c.a.r.c.SecurityConfig$JwtAuthenticationFilter - 验证 Token 时发生未知错误: Token 已过期
java.lang.RuntimeException: Token 已过期
	at com.aetheris.rag.util.JwtUtil.parseToken(JwtUtil.java:155)
	at com.aetheris.rag.config.SecurityConfig$JwtAuthenticationFilter.doFilterInternal(SecurityConfig.java:101)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:228)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:241)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:334)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:225)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:138)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:138)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:165)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:88)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:113)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:83)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:72)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1774)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at java.base/java.lang.VirtualThread.run(VirtualThread.java:329)
Caused by: io.jsonwebtoken.ExpiredJwtException: JWT expired 5418172 milliseconds ago at 2026-01-05T06:26:46.000Z. Current time: 2026-01-05T07:57:04.172Z. Allowed clock skew: 300000 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:688)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:364)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:94)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:36)
	at io.jsonwebtoken.impl.io.AbstractParser.parse(AbstractParser.java:29)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseSignedClaims(DefaultJwtParser.java:827)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:803)
	at com.aetheris.rag.util.JwtUtil.parseToken(JwtUtil.java:151)
	... 82 common frames omitted
2026-01-05 15:57:11.949 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2026-01-05 15:57:11.950 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2026-01-05 15:57:11.955 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:11.958 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65292c5c] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:11.966 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@894961475 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:11.967 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 15:57:11.979 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2026-01-05 15:57:12.014 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 15:57:12.022 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@65292c5c]
2026-01-05 15:57:12.107 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:12.107 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253f8d6e] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:12.108 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@479713627 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:12.108 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 15:57:12.109 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 15:57:12.107224(Timestamp), 7(Long)
2026-01-05 15:57:12.116 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 15:57:12.117 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@253f8d6e]
2026-01-05 15:57:12.117 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2026-01-05 15:57:12.722 [tomcat-handler-3] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 15:57:12.724 [tomcat-handler-3] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 15:57:12.737 [tomcat-handler-3] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 15:57:12.738 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:12.738 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f715bdc]
2026-01-05 15:57:12.741 [tomcat-handler-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@862412795 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will be managed by Spring
2026-01-05 15:57:12.741 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 15:57:12.741 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 15:57:12.743 [tomcat-handler-3] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 15:57:12.744 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f715bdc]
2026-01-05 15:57:12.744 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f715bdc]
2026-01-05 15:57:12.744 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f715bdc]
2026-01-05 15:57:12.745 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5f715bdc]
2026-01-05 15:57:12.957 [tomcat-handler-4] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 15:57:12.958 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - GET /api/auth/me - userId: 7
2026-01-05 15:57:12.961 [tomcat-handler-4] DEBUG c.a.rag.service.impl.AuthServiceImpl - 获取当前用户信息: userId=7
2026-01-05 15:57:12.961 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:12.961 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fad144]
2026-01-05 15:57:12.962 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1737064428 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will be managed by Spring
2026-01-05 15:57:12.962 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE id = ?
2026-01-05 15:57:12.962 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - ==> Parameters: 7(Long)
2026-01-05 15:57:12.964 [tomcat-handler-4] DEBUG c.a.rag.mapper.UserMapper.findById - <==      Total: 1
2026-01-05 15:57:12.964 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fad144]
2026-01-05 15:57:12.965 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fad144]
2026-01-05 15:57:12.965 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fad144]
2026-01-05 15:57:12.965 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23fad144]
2026-01-05 15:57:23.167 [tomcat-handler-5] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 7
2026-01-05 15:57:23.256 [tomcat-handler-5] INFO  c.a.r.controller.ResourceController - POST /api/resources - userId=7, title=Java学习路线（2025最新版，暗色）, file=Java学习路线（2025最新版，暗色）.pdf
2026-01-05 15:57:23.258 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 开始上传资源: Java学习路线（2025最新版，暗色）, 文件: Java学习路线（2025最新版，暗色）.pdf
2026-01-05 15:57:23.268 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 文件已保存: /Users/hubin5/app/Aetheris/uploads/1767599843258_Java学习路线（2025最新版，暗色）.pdf
2026-01-05 15:57:23.345 [tomcat-handler-5] DEBUG c.a.r.s.impl.ResourceServiceImpl - 文件内容哈希: 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3
2026-01-05 15:57:23.345 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:23.345 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f]
2026-01-05 15:57:23.345 [tomcat-handler-5] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1866080449 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will be managed by Spring
2026-01-05 15:57:23.346 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE content_hash = ?
2026-01-05 15:57:23.346 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - ==> Parameters: 037861b4c3e7ef85675846ce47df4c885c53375eba0ad179e9f5da9acaa727d3(String)
2026-01-05 15:57:23.349 [tomcat-handler-5] DEBUG c.a.r.m.R.findByContentHash - <==      Total: 1
2026-01-05 15:57:23.350 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f]
2026-01-05 15:57:23.350 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 资源已存在（内容哈希重复）: 3
2026-01-05 15:57:23.350 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 资源未向量化，触发向量化: 资源ID=3
2026-01-05 15:57:23.350 [tomcat-handler-5] INFO  c.a.r.service.impl.VectorServiceImpl - 开始向量化资源切片: resourceId=3
2026-01-05 15:57:23.351 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f] from current transaction
2026-01-05 15:57:23.351 [tomcat-handler-5] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - ==>  Preparing: SELECT id, resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at FROM resource_chunks WHERE resource_id = ? AND vectorized = FALSE ORDER BY chunk_index ASC
2026-01-05 15:57:23.351 [tomcat-handler-5] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - ==> Parameters: 3(Long)
2026-01-05 15:57:23.353 [tomcat-handler-5] DEBUG c.a.r.m.C.findUnvectorizedByResourceId - <==      Total: 0
2026-01-05 15:57:23.353 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f]
2026-01-05 15:57:23.353 [tomcat-handler-5] INFO  c.a.r.service.impl.VectorServiceImpl - 没有需要向量化的切片: resourceId=3
2026-01-05 15:57:23.353 [tomcat-handler-5] INFO  c.a.r.s.impl.ResourceServiceImpl - 向量化任务已触发: 资源ID=3
2026-01-05 15:57:23.353 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f]
2026-01-05 15:57:23.353 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f]
2026-01-05 15:57:23.353 [tomcat-handler-5] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@54ff828f]
2026-01-05 15:57:32.383 [tomcat-handler-7] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test222@example.com
2026-01-05 15:57:32.383 [tomcat-handler-7] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test222@example.com
2026-01-05 15:57:32.383 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:32.383 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639200dd] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:32.384 [tomcat-handler-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1834349279 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:32.384 [tomcat-handler-7] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 15:57:32.385 [tomcat-handler-7] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test222@example.com(String)
2026-01-05 15:57:32.386 [tomcat-handler-7] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 15:57:32.387 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@639200dd]
2026-01-05 15:57:32.470 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:32.470 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c68f8e4] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:32.470 [tomcat-handler-7] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1594855772 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:32.470 [tomcat-handler-7] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2026-01-05 15:57:32.470 [tomcat-handler-7] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2026-01-05 15:57:32.470014(Timestamp), 5(Long)
2026-01-05 15:57:32.474 [tomcat-handler-7] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2026-01-05 15:57:32.475 [tomcat-handler-7] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2c68f8e4]
2026-01-05 15:57:32.475 [tomcat-handler-7] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 5
2026-01-05 15:57:42.173 [tomcat-handler-8] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 15:57:42.176 [tomcat-handler-8] INFO  c.a.r.controller.ResourceController - GET /api/resources - page=0, size=10
2026-01-05 15:57:42.176 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:42.176 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d16a027] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:42.177 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@667681258 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:42.177 [tomcat-handler-8] DEBUG c.a.r.m.ResourceMapper.findPaged - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources ORDER BY upload_time DESC LIMIT ?, ?
2026-01-05 15:57:42.178 [tomcat-handler-8] DEBUG c.a.r.m.ResourceMapper.findPaged - ==> Parameters: 0(Integer), 10(Integer)
2026-01-05 15:57:42.180 [tomcat-handler-8] DEBUG c.a.r.m.ResourceMapper.findPaged - <==      Total: 3
2026-01-05 15:57:42.180 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@d16a027]
2026-01-05 15:57:42.181 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:42.181 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7b731f] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:42.181 [tomcat-handler-8] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@84772872 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:42.181 [tomcat-handler-8] DEBUG c.a.rag.mapper.ResourceMapper.count - ==>  Preparing: SELECT COUNT(*) FROM resources
2026-01-05 15:57:42.181 [tomcat-handler-8] DEBUG c.a.rag.mapper.ResourceMapper.count - ==> Parameters: 
2026-01-05 15:57:42.183 [tomcat-handler-8] DEBUG c.a.rag.mapper.ResourceMapper.count - <==      Total: 1
2026-01-05 15:57:42.183 [tomcat-handler-8] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5d7b731f]
2026-01-05 15:57:53.594 [tomcat-handler-9] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 15:57:53.595 [tomcat-handler-9] INFO  c.a.r.controller.ResourceController - GET /api/resources/3
2026-01-05 15:57:53.595 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:57:53.595 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23558ab3] was not registered for synchronization because synchronization is not active
2026-01-05 15:57:53.596 [tomcat-handler-9] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1286596504 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:57:53.597 [tomcat-handler-9] DEBUG c.a.r.mapper.ResourceMapper.findById - ==>  Preparing: SELECT id, title, tags, file_type, file_path, file_size, description, content_hash, uploaded_by, upload_time, chunk_count, vectorized FROM resources WHERE id = ?
2026-01-05 15:57:53.597 [tomcat-handler-9] DEBUG c.a.r.mapper.ResourceMapper.findById - ==> Parameters: 3(Long)
2026-01-05 15:57:53.598 [tomcat-handler-9] DEBUG c.a.r.mapper.ResourceMapper.findById - <==      Total: 1
2026-01-05 15:57:53.599 [tomcat-handler-9] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@23558ab3]
2026-01-05 15:58:02.012 [tomcat-handler-10] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 5
2026-01-05 15:58:02.013 [tomcat-handler-10] INFO  c.a.r.controller.ResourceController - GET /api/resources/3/chunks
2026-01-05 15:58:02.014 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 15:58:02.014 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ded7d97] was not registered for synchronization because synchronization is not active
2026-01-05 15:58:02.015 [tomcat-handler-10] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1927442571 wrapping com.mysql.cj.jdbc.ConnectionImpl@45849604] will not be managed by Spring
2026-01-05 15:58:02.015 [tomcat-handler-10] DEBUG c.a.r.m.ChunkMapper.findByResourceId - ==>  Preparing: SELECT id, resource_id, chunk_index, chunk_text, location_info, page_start, page_end, chapter_path, text_hash, vectorized, created_at FROM resource_chunks WHERE resource_id = ? ORDER BY chunk_index ASC
2026-01-05 15:58:02.015 [tomcat-handler-10] DEBUG c.a.r.m.ChunkMapper.findByResourceId - ==> Parameters: 3(Long)
2026-01-05 15:58:02.029 [tomcat-handler-10] DEBUG c.a.r.m.ChunkMapper.findByResourceId - <==      Total: 41
2026-01-05 15:58:02.029 [tomcat-handler-10] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7ded7d97]
2026-01-05 15:59:39.441 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 15:59:39.443 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 15:59:39.567 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 15:59:39.572 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 16:55:08.136 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 5427 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 16:55:08.138 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 16:55:08.138 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 16:55:08.842 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 16:55:08.842 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 16:55:09.015 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 16:55:09.018 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 16:55:09.042 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2026-01-05 16:55:09.133 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 16:55:09.133 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 16:55:09.134 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 16:55:09.134 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 16:55:09.135 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 16:55:09.136 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 16:55:09.137 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 16:55:09.137 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 16:55:09.747 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 16:55:09.760 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 16:55:09.760 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 16:55:09.806 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 16:55:09.806 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1630 ms
2026-01-05 16:55:09.966 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 16:55:10.148 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 16:55:10.311 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@779b4f9c
2026-01-05 16:55:10.313 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 16:55:10.358 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 16:55:10.709 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.030s)
2026-01-05 16:55:10.724 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 16:55:10.727 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 16:55:10.908 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 16:55:10.917 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 16:55:10.925 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 16:55:10.931 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 16:55:11.126 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 16:55:11.289 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 16:55:11.290 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 16:55:11.359 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 16:55:11.521 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 16:55:11.526 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 16:55:11.551 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 16:55:11.567 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 16:55:11.847 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 16:55:11.876 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 7cc346f9-d3ad-4847-a0e6-039222818c25

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 16:55:11.883 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 16:55:12.071 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 16:55:12.293 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 16:55:12.306 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.633 seconds (process running for 4.934)
2026-01-05 16:56:13.283 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2026-01-05 16:56:13.283 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2026-01-05 16:56:13.285 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2026-01-05 16:56:13.394 [tomcat-handler-0] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test@example.com
2026-01-05 16:56:13.394 [tomcat-handler-0] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: test@example.com
2026-01-05 16:56:13.400 [tomcat-handler-0] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2026-01-05 16:56:13.404 [tomcat-handler-0] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f26254] was not registered for synchronization because synchronization is not active
2026-01-05 16:56:13.414 [tomcat-handler-0] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1931468281 wrapping com.mysql.cj.jdbc.ConnectionImpl@779b4f9c] will not be managed by Spring
2026-01-05 16:56:13.415 [tomcat-handler-0] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2026-01-05 16:56:13.427 [tomcat-handler-0] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test@example.com(String)
2026-01-05 16:56:13.447 [tomcat-handler-0] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2026-01-05 16:56:13.448 [tomcat-handler-0] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@8f26254]
2026-01-05 16:56:13.534 [tomcat-handler-0] WARN  c.a.r.e.GlobalExceptionHandler - 未授权访问: 邮箱或密码错误
2026-01-05 16:59:51.017 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 7060 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 16:59:51.018 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 16:59:51.019 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 16:59:51.873 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 16:59:51.873 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 16:59:52.066 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 16:59:52.069 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 16:59:52.109 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2026-01-05 16:59:52.237 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 16:59:52.237 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 16:59:52.238 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 16:59:52.238 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 16:59:52.241 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 16:59:52.243 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 16:59:52.243 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 16:59:52.244 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 16:59:53.088 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 16:59:53.100 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 16:59:53.100 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 16:59:53.140 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 16:59:53.141 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2086 ms
2026-01-05 16:59:53.286 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 604800 ms
2026-01-05 16:59:53.488 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 16:59:53.657 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2ca1e49a
2026-01-05 16:59:53.660 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 16:59:53.702 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 16:59:54.084 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.040s)
2026-01-05 16:59:54.111 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 16:59:54.114 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 16:59:54.286 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 16:59:54.298 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 16:59:54.305 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 16:59:54.315 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 16:59:54.504 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 16:59:54.663 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 16:59:54.664 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 16:59:54.732 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 16:59:54.872 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 16:59:54.879 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 16:59:54.903 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 16:59:54.923 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 16:59:55.224 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 16:59:55.270 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 69b59cc7-b42a-4c88-b12a-265d519396cf

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 16:59:55.283 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 16:59:55.514 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 16:59:55.786 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 16:59:55.799 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 5.215 seconds (process running for 5.496)
2026-01-05 17:05:34.649 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 17:05:34.653 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 17:05:34.779 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 17:05:34.785 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2026-01-05 17:16:42.303 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 12140 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2026-01-05 17:16:42.304 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2026-01-05 17:16:42.305 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2026-01-05 17:16:42.948 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2026-01-05 17:16:42.949 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2026-01-05 17:16:43.122 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2026-01-05 17:16:43.124 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2026-01-05 17:16:43.145 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2026-01-05 17:16:43.216 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ChunkMapper.class]
2026-01-05 17:16:43.217 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/ResourceMapper.class]
2026-01-05 17:16:43.217 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2026-01-05 17:16:43.217 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2026-01-05 17:16:43.218 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'chunkMapper' and 'com.aetheris.rag.mapper.ChunkMapper' mapperInterface
2026-01-05 17:16:43.219 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'resourceMapper' and 'com.aetheris.rag.mapper.ResourceMapper' mapperInterface
2026-01-05 17:16:43.219 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2026-01-05 17:16:43.220 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2026-01-05 17:16:43.737 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2026-01-05 17:16:43.751 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2026-01-05 17:16:43.751 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2026-01-05 17:16:43.803 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2026-01-05 17:16:43.803 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1465 ms
2026-01-05 17:16:43.966 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MAX_FILE_SIZE=***
2026-01-05 17:16:43.966 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: FILE_UPLOAD_PATH=./up***oads
2026-01-05 17:16:43.966 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHUNK_OVERLAP=***
2026-01-05 17:16:43.966 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: DB_IDLE_TIMEOUT=***
2026-01-05 17:16:43.966 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHUNK_SIZE=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_MAX_IDLE=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MYSQL_PORT=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: PROFILE_FAVORITE_WEIGHT=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_DB=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_TIMEOUT=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_MODEL=embe***g-v2
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: DB_MAX_POOL_SIZE=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_RATE_LIMIT=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: PROFILE_ENABLED=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: LOG_MAX_SIZE=***
2026-01-05 17:16:43.967 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: VECTOR_INDEX_NAME=chun***ndex
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: DB_MIN_IDLE=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_MAX_WAIT=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_TEMPERATURE=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_RETRY_BACKOFF=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: VECTOR_DIMENSION=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: LOG_LEVEL_APP=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_MAX_RETRIES=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_MIN_IDLE=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: DB_MAX_LIFETIME=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: FLYWAY_ENABLED=***
2026-01-05 17:16:43.968 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_PORT=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MYSQL_URL=jdbc***true
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: TOMCAT_MIN_THREADS=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_PASSWORD=aeth***s123
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: RETRIEVAL_TOP_K=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_RATE_LIMIT=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_CACHE_ENABLED=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_MAX_ACTIVE=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: RECOMMENDATION_ENABLED=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MAX_REQUEST_SIZE=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_CACHE_TTL_DAYS=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: PROFILE_WINDOW_SIZE=***
2026-01-05 17:16:43.969 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_HOST=loca***host
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: TOMCAT_MAX_THREADS=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: DB_CONNECTION_TIMEOUT=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MYSQL_PASSWORD=aeth***s123
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_MAX_RETRIES=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: SERVER_PORT=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_MAX_TOKENS=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_MAX_TOKENS=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: VECTOR_HNSW_EF_CONSTRUCTION=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: JWT_SECRET=chan***4-32
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MYSQL_ROOT_PASSWORD=***
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_BASE_URL=http***/v4/
2026-01-05 17:16:43.970 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: ZHIPU_API_KEY=e315***hvN9
2026-01-05 17:16:43.971 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_MODEL=glm-***lash
2026-01-05 17:16:43.971 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: VECTOR_DISTANCE_METRIC=***
2026-01-05 17:16:43.971 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: LOG_MAX_HISTORY=***
2026-01-05 17:16:43.971 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: PROFILE_QUERY_WEIGHT=***
2026-01-05 17:16:43.971 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: LOG_LEVEL_SPRING=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: PROFILE_UPDATE_TRIGGER=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_RETRY_BACKOFF=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: JWT_EXPIRATION=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MYSQL_USERNAME=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_TIMEOUT=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: REDIS_TIMEOUT=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: VECTOR_HNSW_M=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: PROFILE_CLICK_WEIGHT=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: FILE_TEMP_PATH=./up***temp
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: MYSQL_DATABASE=aeth***_rag
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: LOG_LEVEL_ROOT=***
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: EMBEDDING_BASE_URL=http***/v4/
2026-01-05 17:16:43.972 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: LOG_LEVEL_MYBATIS=***
2026-01-05 17:16:43.973 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: CHAT_TOP_P=***
2026-01-05 17:16:43.973 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: RECOMMENDATION_TOP_N=***
2026-01-05 17:16:43.973 [main] DEBUG c.aetheris.rag.config.DotenvConfig - 从 .env 加载变量: RETRIEVAL_SCORE_THRESHOLD=***
2026-01-05 17:16:43.973 [main] INFO  c.aetheris.rag.config.DotenvConfig - ✅ .env 文件已加载: /Users/hubin5/app/Aetheris/.env
2026-01-05 17:16:43.983 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2026-01-05 17:16:44.134 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2026-01-05 17:16:44.277 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5814b4fb
2026-01-05 17:16:44.278 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2026-01-05 17:16:44.316 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2026-01-05 17:16:44.666 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.024s)
2026-01-05 17:16:44.681 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2026-01-05 17:16:44.683 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2026-01-05 17:16:44.834 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ChunkMapper.xml]'
2026-01-05 17:16:44.845 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/ResourceMapper.xml]'
2026-01-05 17:16:44.852 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2026-01-05 17:16:44.860 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2026-01-05 17:16:45.004 [main] WARN  i.n.r.d.DnsServerAddressStreamProviders - Can not find io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider in the classpath, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'
2026-01-05 17:16:45.134 [main] INFO  c.a.r.service.impl.VectorServiceImpl - 向量索引将在 Phase 5 完整实现时创建: chunk_vector_index
2026-01-05 17:16:45.135 [main] INFO  c.aetheris.rag.config.RedissonConfig - 初始化 Redisson 客户端: localhost:6379
2026-01-05 17:16:45.198 [main] INFO  org.redisson.Version - Redisson 3.25.0
2026-01-05 17:16:45.349 [redisson-netty-4-6] INFO  o.r.c.p.MasterPubSubConnectionPool - 1 connections initialized for localhost/127.0.0.1:6379
2026-01-05 17:16:45.355 [redisson-netty-4-8] INFO  o.r.c.pool.MasterConnectionPool - 2 connections initialized for localhost/127.0.0.1:6379
2026-01-05 17:16:45.380 [main] INFO  c.aetheris.rag.config.RedissonConfig - Redisson 客户端初始化成功
2026-01-05 17:16:45.398 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2026-01-05 17:16:45.655 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2026-01-05 17:16:45.683 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 8cda5da1-4868-4cbd-bebe-3b448bfb8006

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2026-01-05 17:16:45.689 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2026-01-05 17:16:45.854 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2026-01-05 17:16:46.055 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2026-01-05 17:16:46.068 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.181 seconds (process running for 4.429)
2026-01-05 17:18:28.535 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2026-01-05 17:18:28.538 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2026-01-05 17:18:28.665 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2026-01-05 17:18:28.670 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
