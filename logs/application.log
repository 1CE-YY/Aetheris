2025-12-29 15:24:42.884 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 32087 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris)
2025-12-29 15:24:42.885 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-29 15:24:42.885 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-29 15:24:43.491 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-12-29 15:24:43.492 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2025-12-29 15:24:43.642 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-29 15:24:43.643 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-29 15:24:43.662 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2025-12-29 15:24:43.739 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2025-12-29 15:24:43.740 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2025-12-29 15:24:44.153 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-29 15:24:44.165 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-29 15:24:44.165 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-29 15:24:44.207 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-29 15:24:44.207 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1289 ms
2025-12-29 15:24:44.352 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2025-12-29 15:24:44.507 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-29 15:24:44.633 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@78e387d6
2025-12-29 15:24:44.634 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-29 15:24:44.669 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2025-12-29 15:24:44.999 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.023s)
2025-12-29 15:24:45.013 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2025-12-29 15:24:45.015 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2025-12-29 15:24:45.151 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2025-12-29 15:24:45.368 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2025-12-29 15:24:45.605 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-12-29 15:24:45.638 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: c3fdd923-6f01-4690-aa80-05f60a44312d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29 15:24:45.643 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29 15:24:45.798 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29 15:24:46.009 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-29 15:24:46.022 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 3.567 seconds (process running for 3.88)
2025-12-29 15:25:24.096 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-29 15:25:24.097 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-29 15:25:24.098 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-29 15:34:15.477 [lettuce-eventExecutorLoop-1-2] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/127.0.0.1:6379
2025-12-29 15:34:15.485 [lettuce-nioEventLoop-6-2] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:255)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:356)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-29 15:34:30.676 [lettuce-eventExecutorLoop-1-4] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:34:30.681 [lettuce-nioEventLoop-6-4] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:34:39.576 [lettuce-eventExecutorLoop-1-14] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:34:39.579 [lettuce-nioEventLoop-6-14] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:34:47.872 [lettuce-eventExecutorLoop-1-15] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:34:47.877 [lettuce-nioEventLoop-6-15] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:35:04.274 [lettuce-eventExecutorLoop-1-1] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:35:04.278 [lettuce-nioEventLoop-6-16] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:35:34.373 [lettuce-eventExecutorLoop-1-12] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:35:34.375 [lettuce-nioEventLoop-6-1] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:36:04.474 [lettuce-eventExecutorLoop-1-16] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:36:04.476 [lettuce-nioEventLoop-6-2] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:36:34.680 [lettuce-eventExecutorLoop-1-3] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:36:34.682 [lettuce-nioEventLoop-6-3] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection refused: localhost/127.0.0.1:6379
2025-12-29 15:37:04.779 [lettuce-eventExecutorLoop-1-5] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/<unresolved>:6379
2025-12-29 15:37:04.784 [lettuce-nioEventLoop-6-4] INFO  i.l.c.protocol.ReconnectionHandler - Reconnected to localhost/<unresolved>:6379
2025-12-29 15:37:38.678 [lettuce-eventExecutorLoop-1-7] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/127.0.0.1:6379
2025-12-29 15:37:38.680 [lettuce-nioEventLoop-6-5] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:255)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:356)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-29 15:37:39.779 [lettuce-nioEventLoop-6-6] INFO  i.l.c.protocol.ReconnectionHandler - Reconnected to localhost/<unresolved>:6379
2025-12-29 15:42:37.348 [tomcat-handler-27] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: user2@test.com
2025-12-29 15:42:37.348 [tomcat-handler-27] INFO  c.a.rag.service.impl.AuthServiceImpl - User login attempt: user2@test.com
2025-12-29 15:42:37.355 [tomcat-handler-27] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 15:42:37.358 [tomcat-handler-27] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593532c1] was not registered for synchronization because synchronization is not active
2025-12-29 15:42:37.370 [tomcat-handler-27] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1554510177 wrapping com.mysql.cj.jdbc.ConnectionImpl@78e387d6] will not be managed by Spring
2025-12-29 15:42:37.372 [tomcat-handler-27] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2025-12-29 15:42:37.384 [tomcat-handler-27] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: user2@test.com(String)
2025-12-29 15:42:37.397 [tomcat-handler-27] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2025-12-29 15:42:37.398 [tomcat-handler-27] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@593532c1]
2025-12-29 15:42:37.484 [tomcat-handler-27] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 15:42:37.484 [tomcat-handler-27] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7730cd24] was not registered for synchronization because synchronization is not active
2025-12-29 15:42:37.485 [tomcat-handler-27] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2091289680 wrapping com.mysql.cj.jdbc.ConnectionImpl@78e387d6] will not be managed by Spring
2025-12-29 15:42:37.485 [tomcat-handler-27] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2025-12-29 15:42:37.486 [tomcat-handler-27] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2025-12-29 15:42:37.484534(Timestamp), 3(Long)
2025-12-29 15:42:37.494 [tomcat-handler-27] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2025-12-29 15:42:37.495 [tomcat-handler-27] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@7730cd24]
2025-12-29 15:42:37.495 [tomcat-handler-27] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 3
2025-12-29 15:43:30.726 [tomcat-handler-29] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 3
2025-12-29 15:43:58.373 [tomcat-handler-31] DEBUG c.a.r.c.SecurityConfig$JwtAuthenticationFilter - Authenticated user: 3
2025-12-29 15:48:50.390 [tomcat-handler-34] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-12-29 15:49:03.378 [tomcat-handler-36] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-12-29 15:49:22.011 [tomcat-handler-40] DEBUG com.aetheris.rag.util.JwtUtil - Invalid JWT token: JWT signature does not match locally computed signature. JWT validity cannot be asserted and should not be trusted.
2025-12-29 15:49:44.345 [tomcat-handler-46] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.login(com.aetheris.rag.dto.request.LoginRequest): [Field error in object 'loginRequest' on field 'email': rejected value [null]; codes [NotBlank.loginRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] ]
2025-12-29 15:49:46.029 [tomcat-handler-48] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.login(com.aetheris.rag.dto.request.LoginRequest): [Field error in object 'loginRequest' on field 'email': rejected value [null]; codes [NotBlank.loginRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] ]
2025-12-29 15:49:53.936 [tomcat-handler-50] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.login(com.aetheris.rag.dto.request.LoginRequest): [Field error in object 'loginRequest' on field 'email': rejected value [null]; codes [NotBlank.loginRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] ]
2025-12-29 15:54:37.178 [lettuce-eventExecutorLoop-1-10] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/127.0.0.1:6379
2025-12-29 15:54:37.179 [lettuce-nioEventLoop-6-7] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:255)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:356)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-29 15:54:38.280 [lettuce-nioEventLoop-6-8] INFO  i.l.c.protocol.ReconnectionHandler - Reconnected to localhost/<unresolved>:6379
2025-12-29 15:55:32.276 [lettuce-eventExecutorLoop-1-12] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/127.0.0.1:6379
2025-12-29 15:55:32.278 [lettuce-nioEventLoop-6-9] WARN  i.l.core.protocol.ConnectionWatchdog - Cannot reconnect to [localhost/<unresolved>:6379]: Connection reset
java.net.SocketException: Connection reset
	at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)
	at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)
	at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:255)
	at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)
	at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:356)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-29 15:55:33.382 [lettuce-nioEventLoop-6-10] INFO  i.l.c.protocol.ReconnectionHandler - Reconnected to localhost/<unresolved>:6379
2025-12-29 15:56:04.974 [lettuce-eventExecutorLoop-1-15] INFO  i.l.core.protocol.ConnectionWatchdog - Reconnecting, last destination was localhost/127.0.0.1:6379
2025-12-29 15:56:05.979 [lettuce-nioEventLoop-6-11] INFO  i.l.c.protocol.ReconnectionHandler - Reconnected to localhost/<unresolved>:6379
2025-12-29 15:57:25.076 [tomcat-handler-56] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.login(com.aetheris.rag.dto.request.LoginRequest): [Field error in object 'loginRequest' on field 'email': rejected value [null]; codes [NotBlank.loginRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] ]
2025-12-29 15:57:27.527 [tomcat-handler-58] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.login(com.aetheris.rag.dto.request.LoginRequest): [Field error in object 'loginRequest' on field 'email': rejected value [null]; codes [NotBlank.loginRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] ]
2025-12-29 15:59:58.698 [tomcat-handler-64] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [test123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:00:05.734 [tomcat-handler-66] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [test123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:00:31.595 [tomcat-handler-68] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.login(com.aetheris.rag.dto.request.LoginRequest): [Field error in object 'loginRequest' on field 'email': rejected value [null]; codes [NotBlank.loginRequest.email,NotBlank.email,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [loginRequest.email,email]; arguments []; default message [email]]; default message [Email is required]] ]
2025-12-29 16:00:49.898 [tomcat-handler-72] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: admin@aetheris.com
2025-12-29 16:00:49.898 [tomcat-handler-72] INFO  c.a.rag.service.impl.AuthServiceImpl - User login attempt: admin@aetheris.com
2025-12-29 16:00:49.898 [tomcat-handler-72] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:00:49.898 [tomcat-handler-72] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47482e30] was not registered for synchronization because synchronization is not active
2025-12-29 16:00:49.899 [tomcat-handler-72] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@704349461 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will not be managed by Spring
2025-12-29 16:00:49.899 [tomcat-handler-72] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2025-12-29 16:00:49.899 [tomcat-handler-72] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: admin@aetheris.com(String)
2025-12-29 16:00:49.901 [tomcat-handler-72] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2025-12-29 16:00:49.901 [tomcat-handler-72] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@47482e30]
2025-12-29 16:00:49.981 [tomcat-handler-72] WARN  c.a.rag.controller.AuthController - Login failed: Invalid email or password
2025-12-29 16:00:52.838 [tomcat-handler-74] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: admin@aetheris.com
2025-12-29 16:00:52.838 [tomcat-handler-74] INFO  c.a.rag.service.impl.AuthServiceImpl - User login attempt: admin@aetheris.com
2025-12-29 16:00:52.838 [tomcat-handler-74] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:00:52.838 [tomcat-handler-74] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17944f86] was not registered for synchronization because synchronization is not active
2025-12-29 16:00:52.839 [tomcat-handler-74] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@306057792 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will not be managed by Spring
2025-12-29 16:00:52.839 [tomcat-handler-74] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2025-12-29 16:00:52.840 [tomcat-handler-74] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: admin@aetheris.com(String)
2025-12-29 16:00:52.841 [tomcat-handler-74] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2025-12-29 16:00:52.841 [tomcat-handler-74] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@17944f86]
2025-12-29 16:00:52.917 [tomcat-handler-74] WARN  c.a.rag.controller.AuthController - Login failed: Invalid email or password
2025-12-29 16:01:04.896 [tomcat-handler-76] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [test123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:01:16.508 [tomcat-handler-78] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' is not supported]
2025-12-29 16:03:07.554 [tomcat-handler-94] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [pass123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:03:11.482 [tomcat-handler-96] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [pass123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:03:26.630 [tomcat-handler-98] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [pass123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:05:34.952 [tomcat-handler-100] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.aetheris.rag.dto.response.AuthResponse> com.aetheris.rag.controller.AuthController.register(com.aetheris.rag.dto.request.RegisterRequest): [Field error in object 'registerRequest' on field 'password': rejected value [pass123]; codes [Size.registerRequest.password,Size.password,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [registerRequest.password,password]; arguments []; default message [password],100,8]; default message [Password must be between 8 and 100 characters]] ]
2025-12-29 16:06:52.468 [tomcat-handler-105] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser
2025-12-29 16:06:52.478 [tomcat-handler-105] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser
2025-12-29 16:06:52.478 [tomcat-handler-105] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:06:52.478 [tomcat-handler-105] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2041383b]
2025-12-29 16:06:52.479 [tomcat-handler-105] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@544607757 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will be managed by Spring
2025-12-29 16:06:52.479 [tomcat-handler-105] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:06:52.479 [tomcat-handler-105] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test@example.com(String)
2025-12-29 16:06:52.482 [tomcat-handler-105] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:06:52.482 [tomcat-handler-105] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2041383b]
2025-12-29 16:06:52.483 [tomcat-handler-105] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2041383b]
2025-12-29 16:06:52.483 [tomcat-handler-105] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2041383b]
2025-12-29 16:06:52.485 [tomcat-handler-105] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 16:07:05.240 [tomcat-handler-108] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser
2025-12-29 16:07:05.242 [tomcat-handler-108] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser
2025-12-29 16:07:05.243 [tomcat-handler-108] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:07:05.243 [tomcat-handler-108] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e898934]
2025-12-29 16:07:05.243 [tomcat-handler-108] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1416749636 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will be managed by Spring
2025-12-29 16:07:05.243 [tomcat-handler-108] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:07:05.243 [tomcat-handler-108] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test@example.com(String)
2025-12-29 16:07:05.244 [tomcat-handler-108] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:07:05.245 [tomcat-handler-108] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e898934]
2025-12-29 16:07:05.245 [tomcat-handler-108] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e898934]
2025-12-29 16:07:05.245 [tomcat-handler-108] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@5e898934]
2025-12-29 16:07:05.247 [tomcat-handler-108] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 16:07:08.434 [tomcat-handler-110] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test@example.com
2025-12-29 16:07:08.434 [tomcat-handler-110] INFO  c.a.rag.service.impl.AuthServiceImpl - User login attempt: test@example.com
2025-12-29 16:07:08.435 [tomcat-handler-110] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:07:08.435 [tomcat-handler-110] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3218d9d] was not registered for synchronization because synchronization is not active
2025-12-29 16:07:08.435 [tomcat-handler-110] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@539521960 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will not be managed by Spring
2025-12-29 16:07:08.436 [tomcat-handler-110] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2025-12-29 16:07:08.436 [tomcat-handler-110] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test@example.com(String)
2025-12-29 16:07:08.437 [tomcat-handler-110] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2025-12-29 16:07:08.437 [tomcat-handler-110] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3218d9d]
2025-12-29 16:07:08.517 [tomcat-handler-110] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:07:08.517 [tomcat-handler-110] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715c99e1] was not registered for synchronization because synchronization is not active
2025-12-29 16:07:08.517 [tomcat-handler-110] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@2124328754 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will not be managed by Spring
2025-12-29 16:07:08.517 [tomcat-handler-110] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2025-12-29 16:07:08.517 [tomcat-handler-110] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2025-12-29 16:07:08.516962(Timestamp), 2(Long)
2025-12-29 16:07:08.521 [tomcat-handler-110] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2025-12-29 16:07:08.522 [tomcat-handler-110] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@715c99e1]
2025-12-29 16:07:08.522 [tomcat-handler-110] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 2
2025-12-29 16:07:15.626 [tomcat-handler-111] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser111
2025-12-29 16:07:15.628 [tomcat-handler-111] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser111
2025-12-29 16:07:15.628 [tomcat-handler-111] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:07:15.628 [tomcat-handler-111] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d88dd1]
2025-12-29 16:07:15.628 [tomcat-handler-111] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@973168008 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will be managed by Spring
2025-12-29 16:07:15.628 [tomcat-handler-111] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:07:15.628 [tomcat-handler-111] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test@example.com(String)
2025-12-29 16:07:15.629 [tomcat-handler-111] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:07:15.630 [tomcat-handler-111] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d88dd1]
2025-12-29 16:07:15.630 [tomcat-handler-111] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d88dd1]
2025-12-29 16:07:15.630 [tomcat-handler-111] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@63d88dd1]
2025-12-29 16:07:15.632 [tomcat-handler-111] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 16:08:33.744 [tomcat-handler-113] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser111
2025-12-29 16:08:33.746 [tomcat-handler-113] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser111
2025-12-29 16:08:33.747 [tomcat-handler-113] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:08:33.747 [tomcat-handler-113] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37281163]
2025-12-29 16:08:33.747 [tomcat-handler-113] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1145784621 wrapping com.mysql.cj.jdbc.ConnectionImpl@6fad5044] will be managed by Spring
2025-12-29 16:08:33.747 [tomcat-handler-113] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:08:33.747 [tomcat-handler-113] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test@example.com(String)
2025-12-29 16:08:33.748 [tomcat-handler-113] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:08:33.749 [tomcat-handler-113] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37281163]
2025-12-29 16:08:33.749 [tomcat-handler-113] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37281163]
2025-12-29 16:08:33.749 [tomcat-handler-113] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@37281163]
2025-12-29 16:08:33.750 [tomcat-handler-113] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 16:10:21.053 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-29 16:10:21.055 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-29 16:10:21.169 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-29 16:10:21.170 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-29 16:10:24.159 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 41561 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris)
2025-12-29 16:10:24.160 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-29 16:10:24.160 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-29 16:10:24.796 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-12-29 16:10:24.796 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2025-12-29 16:10:24.960 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-29 16:10:24.962 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-29 16:10:24.987 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-12-29 16:10:25.086 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2025-12-29 16:10:25.088 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2025-12-29 16:10:25.537 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-29 16:10:25.549 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-29 16:10:25.549 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-29 16:10:25.594 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-29 16:10:25.594 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1399 ms
2025-12-29 16:10:25.739 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2025-12-29 16:10:25.909 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-29 16:10:26.043 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@19ac93d2
2025-12-29 16:10:26.045 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-29 16:10:26.083 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2025-12-29 16:10:26.406 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.022s)
2025-12-29 16:10:26.421 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2025-12-29 16:10:26.423 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2025-12-29 16:10:26.577 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2025-12-29 16:10:26.849 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2025-12-29 16:10:27.141 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-12-29 16:10:27.174 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: f698507f-ada0-4424-a4dd-ae9a3d216cc0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29 16:10:27.180 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29 16:10:27.361 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29 16:10:27.590 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-29 16:10:27.604 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 3.879 seconds (process running for 4.281)
2025-12-29 16:10:41.869 [tomcat-handler-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-29 16:10:41.869 [tomcat-handler-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-29 16:10:41.870 [tomcat-handler-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-29 16:10:45.306 [tomcat-handler-2] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: test@example.com
2025-12-29 16:10:45.307 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User login attempt: test@example.com
2025-12-29 16:10:45.313 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:10:45.316 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c8af454] was not registered for synchronization because synchronization is not active
2025-12-29 16:10:45.323 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1694316896 wrapping com.mysql.cj.jdbc.ConnectionImpl@19ac93d2] will not be managed by Spring
2025-12-29 16:10:45.324 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2025-12-29 16:10:45.335 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: test@example.com(String)
2025-12-29 16:10:45.348 [tomcat-handler-2] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2025-12-29 16:10:45.349 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@6c8af454]
2025-12-29 16:10:45.435 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:10:45.436 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240b181b] was not registered for synchronization because synchronization is not active
2025-12-29 16:10:45.436 [tomcat-handler-2] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@467716199 wrapping com.mysql.cj.jdbc.ConnectionImpl@19ac93d2] will not be managed by Spring
2025-12-29 16:10:45.436 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2025-12-29 16:10:45.437 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2025-12-29 16:10:45.435688(Timestamp), 2(Long)
2025-12-29 16:10:45.444 [tomcat-handler-2] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2025-12-29 16:10:45.444 [tomcat-handler-2] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@240b181b]
2025-12-29 16:10:45.445 [tomcat-handler-2] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 2
2025-12-29 16:10:48.525 [tomcat-handler-3] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser111
2025-12-29 16:10:48.531 [tomcat-handler-3] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser111
2025-12-29 16:10:48.532 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:10:48.532 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef7a5c5]
2025-12-29 16:10:48.533 [tomcat-handler-3] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@788199849 wrapping com.mysql.cj.jdbc.ConnectionImpl@19ac93d2] will be managed by Spring
2025-12-29 16:10:48.533 [tomcat-handler-3] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:10:48.533 [tomcat-handler-3] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test@example.com(String)
2025-12-29 16:10:48.535 [tomcat-handler-3] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:10:48.536 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef7a5c5]
2025-12-29 16:10:48.536 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef7a5c5]
2025-12-29 16:10:48.537 [tomcat-handler-3] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@4ef7a5c5]
2025-12-29 16:10:48.539 [tomcat-handler-3] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 16:10:56.278 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-29 16:10:56.281 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-29 16:10:56.401 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-29 16:10:56.405 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-29 16:10:58.952 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 41625 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris)
2025-12-29 16:10:58.954 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-29 16:10:58.955 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-29 16:10:59.672 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-12-29 16:10:59.673 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2025-12-29 16:10:59.851 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-29 16:10:59.853 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-29 16:10:59.875 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2025-12-29 16:10:59.978 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2025-12-29 16:10:59.979 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2025-12-29 16:11:00.487 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-29 16:11:00.512 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-29 16:11:00.512 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-29 16:11:00.562 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-29 16:11:00.563 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1564 ms
2025-12-29 16:11:00.767 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2025-12-29 16:11:00.940 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-29 16:11:01.102 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1feb586d
2025-12-29 16:11:01.104 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-29 16:11:01.142 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2025-12-29 16:11:01.471 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.026s)
2025-12-29 16:11:01.485 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2025-12-29 16:11:01.488 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2025-12-29 16:11:01.651 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2025-12-29 16:11:01.896 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2025-12-29 16:11:02.185 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-12-29 16:11:02.213 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 669fb318-eda3-4fe7-8b4c-70c5f03cdb21

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29 16:11:02.219 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29 16:11:02.391 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29 16:11:02.653 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-29 16:11:02.666 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.234 seconds (process running for 5.047)
2025-12-29 16:11:19.348 [tomcat-handler-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-29 16:11:19.349 [tomcat-handler-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-29 16:11:19.350 [tomcat-handler-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-29 16:11:23.652 [tomcat-handler-1] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser111
2025-12-29 16:11:35.384 [tomcat-handler-1] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser111
2025-12-29 16:11:35.406 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:11:35.421 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125ac04f]
2025-12-29 16:11:35.467 [tomcat-handler-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@411053144 wrapping com.mysql.cj.jdbc.ConnectionImpl@1feb586d] will be managed by Spring
2025-12-29 16:11:35.474 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:11:35.673 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test@example.com(String)
2025-12-29 16:11:35.824 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:11:35.829 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125ac04f]
2025-12-29 16:11:35.834 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125ac04f]
2025-12-29 16:11:35.836 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@125ac04f]
2025-12-29 16:11:47.031 [tomcat-handler-1] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 16:11:47.127 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-29 16:11:47.133 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-29 16:11:47.255 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-29 16:11:47.260 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-12-29 16:11:57.726 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 41685 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris)
2025-12-29 16:11:57.727 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-29 16:11:57.728 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-29 16:11:58.333 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-12-29 16:11:58.333 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2025-12-29 16:11:58.503 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-29 16:11:58.505 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-29 16:11:58.527 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2025-12-29 16:11:58.611 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2025-12-29 16:11:58.612 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2025-12-29 16:11:59.035 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-29 16:11:59.050 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-29 16:11:59.050 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-29 16:11:59.092 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-29 16:11:59.092 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1332 ms
2025-12-29 16:11:59.236 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2025-12-29 16:11:59.389 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-29 16:11:59.512 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@288409f0
2025-12-29 16:11:59.514 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-29 16:11:59.548 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2025-12-29 16:11:59.878 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.021s)
2025-12-29 16:11:59.891 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2025-12-29 16:11:59.894 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2025-12-29 16:12:00.025 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2025-12-29 16:12:00.241 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2025-12-29 16:12:00.478 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-12-29 16:12:00.511 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: eb16616a-ba10-4700-a426-d1953d2c3c8d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-29 16:12:00.516 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-29 16:12:00.671 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-29 16:12:00.874 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-29 16:12:00.887 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 3.596 seconds (process running for 3.901)
2025-12-29 16:12:04.167 [tomcat-handler-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-29 16:12:04.167 [tomcat-handler-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-29 16:12:04.168 [tomcat-handler-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-29 16:12:04.269 [tomcat-handler-1] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser111
2025-12-29 16:12:04.278 [tomcat-handler-1] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser111
2025-12-29 16:12:04.282 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:12:04.284 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:12:04.291 [tomcat-handler-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1883481705 wrapping com.mysql.cj.jdbc.ConnectionImpl@288409f0] will be managed by Spring
2025-12-29 16:12:04.292 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:12:04.304 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test111@example.com(String)
2025-12-29 16:12:04.316 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:12:04.317 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:12:04.318 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1] from current transaction
2025-12-29 16:12:04.318 [tomcat-handler-1] DEBUG c.a.r.m.UserMapper.usernameExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE username = ?
2025-12-29 16:12:04.318 [tomcat-handler-1] DEBUG c.a.r.m.UserMapper.usernameExists - ==> Parameters: testuser111(String)
2025-12-29 16:12:04.319 [tomcat-handler-1] DEBUG c.a.r.m.UserMapper.usernameExists - <==      Total: 1
2025-12-29 16:12:04.319 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:12:04.405 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Fetched SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1] from current transaction
2025-12-29 16:12:04.406 [tomcat-handler-1] DEBUG c.a.rag.mapper.UserMapper.insert - ==>  Preparing: INSERT INTO users (username, email, password_hash, created_at, updated_at, last_active_at) VALUES (?, ?, ?, ?, ?, ?)
2025-12-29 16:12:04.408 [tomcat-handler-1] DEBUG c.a.rag.mapper.UserMapper.insert - ==> Parameters: testuser111(String), test111@example.com(String), $2a$10$fKoJxI1.JHR5YdDOvK/A7euCN/1MyMI/Bsdsl873SNwYqr439dBKe(String), 2025-12-29 16:12:04.404642(Timestamp), 2025-12-29 16:12:04.404644(Timestamp), 2025-12-29 16:12:04.404645(Timestamp)
2025-12-29 16:12:04.414 [tomcat-handler-1] DEBUG c.a.rag.mapper.UserMapper.insert - <==    Updates: 1
2025-12-29 16:12:04.416 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:12:04.416 [tomcat-handler-1] INFO  c.a.rag.service.impl.AuthServiceImpl - User registered successfully: 4
2025-12-29 16:12:04.493 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization committing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:12:04.494 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:12:04.494 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@42bee9c1]
2025-12-29 16:13:25.451 [tomcat-handler-4] INFO  c.a.rag.controller.AuthController - POST /api/auth/register - username: testuser111
2025-12-29 16:13:25.453 [tomcat-handler-4] INFO  c.a.rag.service.impl.AuthServiceImpl - Registering new user: testuser111
2025-12-29 16:13:25.453 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-29 16:13:25.453 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Registering transaction synchronization for SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@807e7d6]
2025-12-29 16:13:25.453 [tomcat-handler-4] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@50302118 wrapping com.mysql.cj.jdbc.ConnectionImpl@288409f0] will be managed by Spring
2025-12-29 16:13:25.453 [tomcat-handler-4] DEBUG c.a.r.mapper.UserMapper.emailExists - ==>  Preparing: SELECT COUNT(*) > 0 FROM users WHERE email = ?
2025-12-29 16:13:25.454 [tomcat-handler-4] DEBUG c.a.r.mapper.UserMapper.emailExists - ==> Parameters: test111@example.com(String)
2025-12-29 16:13:25.455 [tomcat-handler-4] DEBUG c.a.r.mapper.UserMapper.emailExists - <==      Total: 1
2025-12-29 16:13:25.455 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Releasing transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@807e7d6]
2025-12-29 16:13:25.455 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization deregistering SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@807e7d6]
2025-12-29 16:13:25.455 [tomcat-handler-4] DEBUG org.mybatis.spring.SqlSessionUtils - Transaction synchronization closing SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@807e7d6]
2025-12-29 16:13:25.457 [tomcat-handler-4] WARN  c.a.rag.controller.AuthController - Registration failed: Email already registered
2025-12-29 17:13:43.736 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-29 17:13:43.741 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-29 17:13:43.875 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-29 17:13:43.877 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
