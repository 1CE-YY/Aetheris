[INFO] Scanning for projects...
[INFO] 
[INFO] ----------------------< com.aetheris:rag-backend >----------------------
[INFO] Building Aetheris RAG Backend 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot-maven-plugin:3.5.9:run (default-cli) > test-compile @ rag-backend >>>
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:resources (default-resources) @ rag-backend ---
[INFO] Copying 2 resources from src/main/resources to target/classes
[INFO] Copying 3 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:compile (default-compile) @ rag-backend ---
[INFO] Nothing to compile - all classes are up to date
[INFO] 
[INFO] --- maven-resources-plugin:3.3.1:testResources (default-testResources) @ rag-backend ---
[INFO] skip non existing resourceDirectory /Users/hubin5/app/Aetheris/backend/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.11.0:testCompile (default-testCompile) @ rag-backend ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 11 source files with javac [debug release 21] to target/test-classes
[INFO] 由于在类路径中发现了一个或多个处理程序，因此启用了
  批注处理。未来发行版的 javac 可能会禁用批注处理，
  除非至少按名称指定了一个处理程序 (-processor)，
  或指定了搜索路径 (--processor-path, --processor-module-path)，
  或显式启用了批注处理 (-proc:only, -proc:full)。
  可使用 -Xlint:-options 隐藏此消息。
  可使用 -proc:none 禁用批注处理。
[INFO] /Users/hubin5/app/Aetheris/backend/src/test/java/com/aetheris/rag/gateway/cache/EmbeddingCacheIntegrationTest.java: 某些输入文件使用或覆盖了已过时的 API。
[INFO] /Users/hubin5/app/Aetheris/backend/src/test/java/com/aetheris/rag/gateway/cache/EmbeddingCacheIntegrationTest.java: 有关详细信息, 请使用 -Xlint:deprecation 重新编译。
[INFO] 
[INFO] <<< spring-boot-maven-plugin:3.5.9:run (default-cli) < test-compile @ rag-backend <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot-maven-plugin:3.5.9:run (default-cli) @ rag-backend ---
[INFO] Attaching agents: []
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.5.9)

2025-12-31 09:46:52.094 [main] INFO  c.a.rag.AetherisRagApplication - Starting AetherisRagApplication using Java 21.0.8 with PID 2709 (/Users/hubin5/app/Aetheris/backend/target/classes started by hubin5 in /Users/hubin5/app/Aetheris/backend)
2025-12-31 09:46:52.098 [main] DEBUG c.a.rag.AetherisRagApplication - Running with Spring Boot v3.5.9, Spring v6.2.15
2025-12-31 09:46:52.099 [main] INFO  c.a.rag.AetherisRagApplication - No active profile set, falling back to 1 default profile: "default"
2025-12-31 09:46:52.823 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Searching for mappers annotated with @Mapper
2025-12-31 09:46:52.823 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Using auto-configuration base package 'com.aetheris.rag'
2025-12-31 09:46:52.999 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-12-31 09:46:53.002 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-12-31 09:46:53.030 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2025-12-31 09:46:53.124 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserBehaviorMapper.class]
2025-12-31 09:46:53.124 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Identified candidate component class: file [/Users/hubin5/app/Aetheris/backend/target/classes/com/aetheris/rag/mapper/UserMapper.class]
2025-12-31 09:46:53.125 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userBehaviorMapper' and 'com.aetheris.rag.mapper.UserBehaviorMapper' mapperInterface
2025-12-31 09:46:53.126 [main] DEBUG o.m.s.mapper.ClassPathMapperScanner - Creating MapperFactoryBean with name 'userMapper' and 'com.aetheris.rag.mapper.UserMapper' mapperInterface
2025-12-31 09:46:53.616 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-12-31 09:46:53.631 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-12-31 09:46:53.631 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.50]
2025-12-31 09:46:53.690 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-12-31 09:46:53.691 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1554 ms
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
2025-12-31 09:46:53.860 [main] INFO  com.aetheris.rag.util.JwtUtil - Initialized JwtUtil with expiration: 86400 ms
2025-12-31 09:46:54.042 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-12-31 09:46:54.222 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53525379
2025-12-31 09:46:54.224 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-12-31 09:46:54.274 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:mysql://localhost:3306/aetheris_rag?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true (MySQL 8.0)
2025-12-31 09:46:54.688 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 2 migrations (execution time 00:00.049s)
2025-12-31 09:46:54.708 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema `aetheris_rag`: 1
2025-12-31 09:46:54.713 [main] INFO  o.f.core.internal.command.DbMigrate - Schema `aetheris_rag` is up to date. No migration necessary.
2025-12-31 09:46:54.965 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserBehaviorMapper.xml]'
2025-12-31 09:46:54.976 [main] DEBUG o.m.spring.SqlSessionFactoryBean - Parsed mapper file: 'file [/Users/hubin5/app/Aetheris/backend/target/classes/mapper/UserMapper.xml]'
2025-12-31 09:46:55.372 [main] INFO  c.a.rag.gateway.cache.EmbeddingCache - Initialized EmbeddingCache with TTL: 30 days
2025-12-31 09:46:55.675 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-12-31 09:46:55.706 [main] WARN  o.s.b.a.s.s.UserDetailsServiceAutoConfiguration - 

Using generated security password: 3e892f97-0a90-4617-95cb-792db2da78ce

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2025-12-31 09:46:55.713 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name inMemoryUserDetailsManager
2025-12-31 09:46:55.910 [main] DEBUG o.m.s.b.a.MybatisAutoConfiguration - Not found configuration for registering mapper bean using @MapperScan, MapperFactoryBean and MapperScannerConfigurer.
2025-12-31 09:46:56.148 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-12-31 09:46:56.159 [main] INFO  c.a.rag.AetherisRagApplication - Started AetherisRagApplication in 4.556 seconds (process running for 4.866)
2025-12-31 09:47:17.440 [tomcat-handler-0] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-12-31 09:47:17.440 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-12-31 09:47:17.441 [tomcat-handler-0] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-12-31 09:47:48.582 [tomcat-handler-1] INFO  c.a.rag.controller.AuthController - POST /api/auth/login - email: 123@123.com
2025-12-31 09:47:48.582 [tomcat-handler-1] INFO  c.a.rag.service.impl.AuthServiceImpl - 用户登录尝试: 123@123.com
2025-12-31 09:47:48.588 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-31 09:47:48.592 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa8e27] was not registered for synchronization because synchronization is not active
2025-12-31 09:47:48.601 [tomcat-handler-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@1953950746 wrapping com.mysql.cj.jdbc.ConnectionImpl@53525379] will not be managed by Spring
2025-12-31 09:47:48.603 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==>  Preparing: SELECT id, username, email, password_hash, created_at, updated_at, last_active_at FROM users WHERE email = ?
2025-12-31 09:47:48.615 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.findByEmail - ==> Parameters: 123@123.com(String)
2025-12-31 09:47:48.632 [tomcat-handler-1] DEBUG c.a.r.mapper.UserMapper.findByEmail - <==      Total: 1
2025-12-31 09:47:48.633 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3fa8e27]
2025-12-31 09:47:48.719 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Creating a new SqlSession
2025-12-31 09:47:48.720 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@448f186] was not registered for synchronization because synchronization is not active
2025-12-31 09:47:48.720 [tomcat-handler-1] DEBUG o.m.s.t.SpringManagedTransaction - JDBC Connection [HikariProxyConnection@986405147 wrapping com.mysql.cj.jdbc.ConnectionImpl@53525379] will not be managed by Spring
2025-12-31 09:47:48.720 [tomcat-handler-1] DEBUG c.a.r.m.UserMapper.updateLastActive - ==>  Preparing: UPDATE users SET last_active_at = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?
2025-12-31 09:47:48.722 [tomcat-handler-1] DEBUG c.a.r.m.UserMapper.updateLastActive - ==> Parameters: 2025-12-31 09:47:48.719344(Timestamp), 7(Long)
2025-12-31 09:47:48.728 [tomcat-handler-1] DEBUG c.a.r.m.UserMapper.updateLastActive - <==    Updates: 1
2025-12-31 09:47:48.728 [tomcat-handler-1] DEBUG org.mybatis.spring.SqlSessionUtils - Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@448f186]
2025-12-31 09:47:48.729 [tomcat-handler-1] INFO  c.a.rag.service.impl.AuthServiceImpl - User logged in successfully: 7
2025-12-31 09:51:49.795 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-12-31 09:51:49.797 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-12-31 09:51:49.917 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-12-31 09:51:49.922 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
