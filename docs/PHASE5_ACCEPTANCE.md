# Phase 5 å‰åç«¯è¿è°ƒéªŒæ”¶æ–‡æ¡£

**é¡¹ç›®**: Aetheris RAG ç³»ç»Ÿ
**é˜¶æ®µ**: Phase 5 - è¯­ä¹‰æ£€ç´¢ä¸ RAG é—®ç­”
**ç‰ˆæœ¬**: v1.0.0
**æ—¥æœŸ**: 2026-01-09
**éªŒæ”¶èŒƒå›´**: åç«¯ RAG é—®ç­” API + å‰ç«¯é—®ç­”é¡µé¢

---

## ğŸ“‹ éªŒæ”¶æ¸…å•æ¦‚è¿°

### å·²å®ŒæˆåŠŸèƒ½

- âœ… **åç«¯ RAG é—®ç­”æœåŠ¡** (T049-T054)
  - SearchService: è¯­ä¹‰æ£€ç´¢æœåŠ¡
  - RagService: RAG é—®ç­”æµç¨‹
  - ChatController: é—®ç­” API ç«¯ç‚¹
  - BehaviorService é›†æˆ: æŸ¥è¯¢è¡Œä¸ºè®°å½•
  - PerformanceTimer: æ€§èƒ½è®¡æ—¶

- âœ… **å‰ç«¯é—®ç­”é¡µé¢** (T055-T059)
  - ChatView.vue: é—®ç­”é¡µé¢
  - AnswerDisplay.vue: ç­”æ¡ˆå±•ç¤ºç»„ä»¶
  - CitationCard.vue: å¼•ç”¨å¡ç‰‡ç»„ä»¶
  - chat.service.ts: é—®ç­”æœåŠ¡å°è£…
  - useChat.ts: é—®ç­”é€»è¾‘ composable

### å¾…éªŒæ”¶åŠŸèƒ½

- â³ é—®ç­”æ¥å£é›†æˆæµ‹è¯•
- â³ å‰ç«¯é—®ç­”é¡µé¢åŠŸèƒ½æµ‹è¯•
- â³ å¼•ç”¨æ¥æºéªŒè¯
- â³ æ€§èƒ½æŒ‡æ ‡éªŒè¯
- â³ è¾¹ç•Œæƒ…å†µæµ‹è¯•

---

## ğŸš€ ä¸€ã€ç¯å¢ƒå‡†å¤‡

### 1.1 æ£€æŸ¥å…ˆå†³æ¡ä»¶

```bash
# æ£€æŸ¥ Java ç‰ˆæœ¬ï¼ˆéœ€è¦ Java 21ï¼‰
java -version
# åº”æ˜¾ç¤º: openjdk version "21.x.x"

# æ£€æŸ¥ Node.js ç‰ˆæœ¬ï¼ˆéœ€è¦ >= 18.0.0ï¼‰
node --version
# åº”æ˜¾ç¤º: v18.x.x æˆ–æ›´é«˜

# æ£€æŸ¥ Docker çŠ¶æ€
docker ps
# åº”æ˜¾ç¤º Docker å®¹å™¨åˆ—è¡¨
```

### 1.2 é…ç½®ç¯å¢ƒå˜é‡

ç¡®ä¿ `.env` æ–‡ä»¶ä¸­å·²é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```bash
# æ™ºè°± AI API Keyï¼ˆå¿…éœ€ï¼‰
ZHIPU_API_KEY=your_api_key_here

# æ•°æ®åº“é…ç½®ï¼ˆä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼‰
MYSQL_USERNAME=aetheris
MYSQL_PASSWORD=aetheris123

# Redis é…ç½®ï¼ˆä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼‰
REDIS_PASSWORD=aetheris123

# JWT é…ç½®ï¼ˆä½¿ç”¨é»˜è®¤å€¼å³å¯ï¼‰
JWT_SECRET=your-256-bit-secret-key-change-in-production-minimum-32-bytes
```

### 1.3 éªŒè¯æ•°æ®åº“å’Œ Redis

```bash
# å¯åŠ¨ Docker æœåŠ¡ï¼ˆMySQL + Redisï¼‰
cd /Users/hubin5/app/Aetheris
docker-compose up -d

# ç­‰å¾…æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦ 10-15 ç§’ï¼‰
docker-compose ps

# éªŒè¯ MySQL è¿æ¥
docker exec -it aetheris-mysql mysql -u aetheris -paetheris123 -e "SELECT 1"

# éªŒè¯ Redis è¿æ¥
docker exec -it aetheris-redis redis-cli -a aetheris123 PING
# åº”è¿”å›: PONG
```

---

## ğŸ”¥ äºŒã€å¯åŠ¨æœåŠ¡

### 2.1 å¯åŠ¨åç«¯æœåŠ¡

**âš ï¸ é‡è¦**: å¿…é¡»ä½¿ç”¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„å¯åŠ¨è„šæœ¬

```bash
cd /Users/hubin5/app/Aetheris

# æ–¹å¼ 1: äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰
./start.sh
# é€‰æ‹©: 2) å¯åŠ¨åç«¯æœåŠ¡

# æ–¹å¼ 2: å‘½ä»¤è¡Œæ¨¡å¼
./start.sh --backend-only
```

**éªŒè¯åç«¯å¯åŠ¨æˆåŠŸ**:

```bash
# æŸ¥çœ‹åç«¯æ—¥å¿—
tail -f ../logs/backend.log

# æ£€æŸ¥å¥åº·çŠ¶æ€
curl http://localhost:8080/actuator/health
# åº”è¿”å›: {"status":"UP"}

# æ£€æŸ¥æ•°æ®åº“è¿æ¥
curl -H "Authorization: Bearer $TOKEN" http://localhost:8080/actuator/health/db
```

### 2.2 å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
# æ–¹å¼ 1: äº¤äº’æ¨¡å¼ï¼ˆæ¨èï¼‰
./start.sh
# é€‰æ‹©: 1) å¯åŠ¨å‰ç«¯æœåŠ¡

# æ–¹å¼ 2: å‘½ä»¤è¡Œæ¨¡å¼
./start.sh --frontend-only
```

**éªŒè¯å‰ç«¯å¯åŠ¨æˆåŠŸ**:

- æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:5173
- åº”æ˜¾ç¤ºç™»å½•é¡µé¢

### 2.3 ç™»å½•ç³»ç»Ÿ

ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•ï¼š

- **ç”¨æˆ·å**: `123`
- **é‚®ç®±**: `123@123.com`
- **å¯†ç **: `1234qwer`

æˆ–è€…ä½¿ç”¨ API ç™»å½•è·å– Tokenï¼š

```bash
# ç™»å½•è·å– Token
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"123@123.com","password":"1234qwer"}'

# ä¿å­˜è¿”å›çš„ token
export TOKEN="è¿”å›çš„tokenå€¼"
```

---

## ğŸ§ª ä¸‰ã€API æ¥å£æµ‹è¯•

### 3.1 æµ‹è¯•é—®ç­”æ¥å£

**æµ‹è¯•ç”¨ä¾‹ 1: åŸºç¡€é—®ç­”**

```bash
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "ä»€ä¹ˆæ˜¯ RAGï¼Ÿ",
    "topK": 5
  }'
```

**é¢„æœŸå“åº”**:

```json
{
  "code": 200,
  "message": "success",
  "data": {
    "answer": "RAGï¼ˆRetrieval-Augmented Generationï¼‰æ˜¯ä¸€ç§ç»“åˆäº†æ£€ç´¢å’Œç”Ÿæˆçš„AIæŠ€æœ¯...",
    "citations": [
      {
        "resourceId": "uuid-001",
        "resourceTitle": "RAGæŠ€æœ¯ä»‹ç».pdf",
        "chunkId": "chunk-uuid-001",
        "chunkIndex": 0,
        "location": {
          "type": "pdf",
          "pageStart": 1,
          "pageEnd": 2
        },
        "snippet": "RAGæ˜¯Retrieval-Augmented Generationçš„ç¼©å†™ï¼Œå®ƒé€šè¿‡æ£€ç´¢ç›¸å…³æ–‡æ¡£æ¥å¢å¼ºç”Ÿæˆèƒ½åŠ›...",
        "score": 0.85
      }
    ],
    "evidenceInsufficient": false,
    "fallbackResources": null,
    "latencyMs": 2500
  }
}
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å› 200 çŠ¶æ€ç 
- âœ… `answer` å­—æ®µåŒ…å«æœ‰æ„ä¹‰çš„ç­”æ¡ˆæ–‡æœ¬
- âœ… `citations` æ•°ç»„åŒ…å«è‡³å°‘ 1 æ¡å¼•ç”¨
- âœ… æ¯æ¡å¼•ç”¨åŒ…å«: `resourceId`, `resourceTitle`, `chunkId`, `chunkIndex`, `location`, `snippet`, `score`
- âœ… `score` åœ¨ 0.0-1.0 ä¹‹é—´
- âœ… `latencyMs` è®°å½•äº†å“åº”æ—¶é—´

**æµ‹è¯•ç”¨ä¾‹ 2: è°ƒæ•´ Top-K**

```bash
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "æ·±åº¦å­¦ä¹ çš„åº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ",
    "topK": 10
  }'
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… `citations` æ•°é‡ â‰¤ topK (10)
- âœ… è¿”å›çš„ citations æŒ‰ score é™åºæ’åˆ—

**æµ‹è¯•ç”¨ä¾‹ 3: è¯æ®ä¸è¶³åœºæ™¯**

```bash
# æé—®ä¸€ä¸ªéå¸¸å†·é—¨çš„é—®é¢˜
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "2026å¹´ç«æ˜Ÿæ®–æ°‘è®¡åˆ’çš„å…·ä½“è¿›å±•",
    "topK": 5
  }'
```

**é¢„æœŸå“åº”**:

```json
{
  "data": {
    "answer": "æ ¹æ®ç°æœ‰èµ„æ–™æ— æ³•å®Œæ•´å›ç­”æ‚¨çš„é—®é¢˜ã€‚",
    "citations": [],
    "evidenceInsufficient": true,
    "latencyMs": 1200
  }
}
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… `evidenceInsufficient` ä¸º `true`
- âœ… `citations` æ•°é‡ < 2 æˆ–æ‰€æœ‰ score < 0.5
- âœ… ç­”æ¡ˆæ–‡æœ¬æç¤ºè¯æ®ä¸è¶³

**æµ‹è¯•ç”¨ä¾‹ 4: å‚æ•°éªŒè¯**

```bash
# æµ‹è¯•ç©ºé—®é¢˜
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "",
    "topK": 5
  }'
```

**é¢„æœŸå“åº”**: 400 Bad Request

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å› 400 çŠ¶æ€ç 
- âœ… é”™è¯¯ä¿¡æ¯: "é—®é¢˜ä¸èƒ½ä¸ºç©º"

**æµ‹è¯•ç”¨ä¾‹ 5: æœªè®¤è¯è¯·æ±‚**

```bash
# ä¸å¸¦ token çš„è¯·æ±‚
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Content-Type: application/json" \
  -d '{
    "question": "ä»€ä¹ˆæ˜¯ RAGï¼Ÿ",
    "topK": 5
  }'
```

**é¢„æœŸå“åº”**: 401 Unauthorized

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å› 401 çŠ¶æ€ç 
- âœ… é”™è¯¯ä¿¡æ¯: "æœªè®¤è¯"

### 3.2 éªŒè¯è¡Œä¸ºè®°å½•

**æ£€æŸ¥æŸ¥è¯¢è¡Œä¸ºæ˜¯å¦è¢«è®°å½•**:

```bash
# æäº¤ä¸€ä¸ªé—®é¢˜
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"question":"æµ‹è¯•è¡Œä¸ºè®°å½•","topK":5}'

# æŸ¥è¯¢æœ€è¿‘çš„è¡Œä¸ºè®°å½•
curl -H "Authorization: Bearer $TOKEN" \
  http://localhost:8080/api/behaviors/recent?limit=10
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å›çš„è¡Œä¸ºè®°å½•ä¸­åŒ…å«åˆšæ‰çš„æŸ¥è¯¢
- âœ… `behaviorType` ä¸º "QUERY"
- âœ… `queryText` ä¸º "æµ‹è¯•è¡Œä¸ºè®°å½•"

---

## ğŸ–¥ï¸ å››ã€å‰ç«¯é¡µé¢æµ‹è¯•

### 4.1 é—®ç­”é¡µé¢åŸºç¡€åŠŸèƒ½

**æ­¥éª¤ 1: è®¿é—®ç­”é¡µé¢**

1. ç™»å½•ç³»ç»Ÿåï¼Œç‚¹å‡»é¦–é¡µçš„ã€Œæ™ºèƒ½é—®ç­”ã€å¡ç‰‡
2. æˆ–ç›´æ¥è®¿é—®: http://localhost:5173/chat

**éªŒæ”¶æ ‡å‡†**:
- âœ… é¡µé¢æ­£å¸¸åŠ è½½ï¼Œæ—  404 é”™è¯¯
- âœ… é¡µé¢æ ‡é¢˜: "Aetheris RAG - æ™ºèƒ½é—®ç­”"
- âœ… æ˜¾ç¤ºé—®é¢˜è¾“å…¥æ¡†ï¼ˆå¤šè¡Œæ–‡æœ¬ï¼‰
- âœ… æ˜¾ç¤º Top-K å‚æ•°è¾“å…¥ï¼ˆé»˜è®¤å€¼ 5ï¼ŒèŒƒå›´ 1-20ï¼‰
- âœ… æ˜¾ç¤ºã€Œæäº¤é—®é¢˜ã€æŒ‰é’®
- âœ… æ˜¾ç¤ºç”¨æˆ·åå’Œã€Œé€€å‡ºç™»å½•ã€æŒ‰é’®

**æ­¥éª¤ 2: æäº¤é—®é¢˜**

1. åœ¨é—®é¢˜è¾“å…¥æ¡†ä¸­è¾“å…¥: "ä»€ä¹ˆæ˜¯ RAGï¼Ÿ"
2. ç¡®è®¤ Top-K å€¼ä¸º 5
3. ç‚¹å‡»ã€Œæäº¤é—®é¢˜ã€æŒ‰é’®

**éªŒæ”¶æ ‡å‡†**:
- âœ… æŒ‰é’®æ˜¾ç¤ºåŠ è½½çŠ¶æ€ï¼ˆloadingï¼‰
- âœ… ç¦ç”¨è¾“å…¥æ¡†å’ŒæŒ‰é’®ï¼Œé˜²æ­¢é‡å¤æäº¤
- âœ… æ˜¾ç¤ºè€—æ—¶æ ‡ç­¾ï¼ˆä¾‹å¦‚: "è€—æ—¶ 2500ms"ï¼‰

**æ­¥éª¤ 3: æŸ¥çœ‹ç­”æ¡ˆ**

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ˜¾ç¤º "AI å›ç­”" å¡ç‰‡
- âœ… ç­”æ¡ˆæ–‡æœ¬ä»¥ Markdown æ ¼å¼æ¸²æŸ“ï¼ˆæ”¯æŒæ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—ç­‰ï¼‰
- âœ… å¦‚æœè¯æ®ä¸è¶³ï¼Œæ˜¾ç¤ºè­¦å‘Šæç¤ºæ¡†
- âœ… å¦‚æœ LLM ä¸å¯ç”¨ï¼Œæ˜¾ç¤ºé™çº§æç¤ºæ¡†

**æ­¥éª¤ 4: æŸ¥çœ‹å¼•ç”¨æ¥æº**

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç­”æ¡ˆä¸‹æ–¹æ˜¾ç¤ºã€Œå¼•ç”¨æ¥æºã€åˆ†éš”çº¿
- âœ… æ˜¾ç¤ºå¼•ç”¨å¡ç‰‡åˆ—è¡¨ï¼ˆæ¯æ¡å¼•ç”¨ä¸€ä¸ªå¡ç‰‡ï¼‰
- âœ… æ¯ä¸ªå¼•ç”¨å¡ç‰‡åŒ…å«:
  - èµ„æºæ ‡é¢˜ï¼ˆåŠ ç²—æ˜¾ç¤ºï¼‰
  - ç›¸ä¼¼åº¦æ ‡ç­¾ï¼ˆç»¿è‰² â‰¥ 80%ï¼Œè“è‰² â‰¥ 60%ï¼Œæ©™è‰² â‰¥ 40%ï¼Œçº¢è‰² < 40%ï¼‰
  - åˆ‡ç‰‡ç´¢å¼•æ ‡ç­¾ï¼ˆä¾‹å¦‚: "åˆ‡ç‰‡ #0"ï¼‰
  - ä½ç½®ä¿¡æ¯ï¼ˆPDF: "ç¬¬ 1-2 é¡µ"ï¼ŒMD: "ç¬¬ä¸€ç« >1.1èŠ‚"ï¼‰
  - æ–‡æœ¬æ‘˜å½•ï¼ˆ100-200 å­—ç¬¦ï¼Œå¯å±•å¼€ï¼‰
- âœ… å¼•ç”¨å¡ç‰‡æ‚¬åœæ—¶æœ‰è§†è§‰åé¦ˆï¼ˆé˜´å½±ã€è¾¹æ¡†ï¼‰

**æ­¥éª¤ 5: ç‚¹å‡»å¼•ç”¨å¡ç‰‡**

1. ç‚¹å‡»ä»»æ„å¼•ç”¨å¡ç‰‡

**éªŒæ”¶æ ‡å‡†**:
- âœ… é¡µé¢è·³è½¬åˆ°èµ„æºè¯¦æƒ…é¡µ
- âœ… URL æ ¼å¼: `/resources/{resourceId}`
- âœ… å¦‚æœæ˜¯ PDF å¼•ç”¨ï¼ŒURL åŒ…å« `?chunkId=xxx&chunkIndex=0`

### 4.2 äº¤äº’åŠŸèƒ½æµ‹è¯•

**æµ‹è¯• 1: æ¸…ç©ºç­”æ¡ˆ**

1. æäº¤ä¸€ä¸ªé—®é¢˜å
2. ç‚¹å‡»ã€Œæ¸…ç©ºã€æŒ‰é’®

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç­”æ¡ˆåŒºåŸŸæ¸…ç©º
- âœ… å¼•ç”¨åˆ—è¡¨æ¸…ç©º
- âœ… æ˜¾ç¤º "ç©ºçŠ¶æ€" æç¤º

**æµ‹è¯• 2: è¿ç»­æé—®**

1. æäº¤ç¬¬ä¸€ä¸ªé—®é¢˜: "ä»€ä¹ˆæ˜¯ RAGï¼Ÿ"
2. ç­‰å¾…ç­”æ¡ˆè¿”å›
3. æäº¤ç¬¬äºŒä¸ªé—®é¢˜: "RAG çš„ä¼˜åŠ¿æœ‰å“ªäº›ï¼Ÿ"
4. ç­‰å¾…ç­”æ¡ˆè¿”å›

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç¬¬äºŒä¸ªç­”æ¡ˆæ›¿æ¢ç¬¬ä¸€ä¸ªç­”æ¡ˆ
- âœ… å¼•ç”¨åˆ—è¡¨æ›´æ–°ä¸ºç¬¬äºŒä¸ªé—®é¢˜çš„å¼•ç”¨
- âœ… æ¯æ¬¡é—®ç­”éƒ½æ­£ç¡®æ˜¾ç¤ºè€—æ—¶

**æµ‹è¯• 3: è°ƒæ•´ Top-K å‚æ•°**

1. å°† Top-K è®¾ç½®ä¸º 10
2. æäº¤é—®é¢˜

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¼•ç”¨æ•°é‡ â‰¤ 10
- âœ… å¼•ç”¨æŒ‰ç›¸ä¼¼åº¦é™åºæ’åˆ—

**æµ‹è¯• 4: è¾“å…¥éªŒè¯**

1. æ¸…ç©ºé—®é¢˜è¾“å…¥æ¡†
2. ç‚¹å‡»ã€Œæäº¤é—®é¢˜ã€æŒ‰é’®

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ˜¾ç¤ºé”™è¯¯æç¤º: "è¯·è¾“å…¥é—®é¢˜"
- âœ… ä¸ä¼šå‘é€ API è¯·æ±‚

### 4.3 ç”¨æˆ·ä½“éªŒæµ‹è¯•

**æµ‹è¯• 1: å“åº”å¼å¸ƒå±€**

1. è°ƒæ•´æµè§ˆå™¨çª—å£å¤§å°ï¼ˆæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºï¼‰

**éªŒæ”¶æ ‡å‡†**:
- âœ… å¸ƒå±€è‡ªé€‚åº”ï¼Œæ— æ¨ªå‘æ»šåŠ¨æ¡
- âœ… åœ¨æ‰‹æœºä¸Šè¾“å…¥æ¡†å’ŒæŒ‰é’®æ­£å¸¸æ˜¾ç¤º

**æµ‹è¯• 2: åŠ è½½çŠ¶æ€**

1. æäº¤ä¸€ä¸ªé—®é¢˜
2. è§‚å¯ŸåŠ è½½è¿‡ç¨‹

**éªŒæ”¶æ ‡å‡†**:
- âœ… æŒ‰é’®æ˜¾ç¤ºæ—‹è½¬çš„ loading å›¾æ ‡
- âœ… ç­”æ¡ˆåŒºåŸŸæ˜¾ç¤ºéª¨æ¶å±ï¼ˆSkeletonï¼‰
- âœ… ç”¨æˆ·æ— æ³•é‡å¤ç‚¹å‡»æäº¤æŒ‰é’®

**æµ‹è¯• 3: é”™è¯¯å¤„ç†**

1. ä¸´æ—¶åœæ­¢åç«¯æœåŠ¡
2. æäº¤ä¸€ä¸ªé—®é¢˜

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ˜¾ç¤ºé”™è¯¯æç¤º: "ç½‘ç»œé”™è¯¯ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥"
- âœ… æŒ‰é’®æ¢å¤å¯ç‚¹å‡»çŠ¶æ€
- âœ… æ˜¾ç¤ºã€Œé‡è¯•ã€æŒ‰é’®

**æµ‹è¯• 4: é€€å‡ºç™»å½•**

1. ç‚¹å‡»ã€Œé€€å‡ºç™»å½•ã€æŒ‰é’®

**éªŒæ”¶æ ‡å‡†**:
- âœ… è·³è½¬åˆ°ç™»å½•é¡µ
- âœ… æ¸…é™¤æœ¬åœ°å­˜å‚¨çš„ token
- âœ… æ˜¾ç¤ºæç¤º: "å·²é€€å‡ºç™»å½•"

---

## ğŸ¯ äº”ã€æ•°æ®éªŒè¯

### 5.1 éªŒè¯ç­”æ¡ˆè´¨é‡

**æ£€æŸ¥ç‚¹**:

1. **ç­”æ¡ˆç›¸å…³æ€§**: ç­”æ¡ˆæ˜¯å¦ä¸é—®é¢˜ç›¸å…³ï¼Ÿ
2. **å¼•ç”¨å‡†ç¡®æ€§**: å¼•ç”¨çš„å†…å®¹æ˜¯å¦æ”¯æŒç­”æ¡ˆä¸­çš„è®ºæ–­ï¼Ÿ
3. **ç­”æ¡ˆå®Œæ•´æ€§**: ç­”æ¡ˆæ˜¯å¦å®Œæ•´å›ç­”äº†é—®é¢˜ï¼Ÿ
4. **è¯­è¨€è´¨é‡**: ç­”æ¡ˆæ˜¯å¦é€šé¡ºã€æ˜“è¯»ï¼Ÿ

**æµ‹è¯•æ–¹æ³•**:

```bash
# æäº¤æµ‹è¯•é—®é¢˜
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "RAG ç³»ç»Ÿçš„ä¸»è¦ç»„æˆéƒ¨åˆ†æœ‰å“ªäº›ï¼Ÿ",
    "topK": 5
  }' | jq '.data.answer'
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç­”æ¡ˆåŒ…å« RAG çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ï¼ˆæ£€ç´¢å™¨ã€ç”Ÿæˆå™¨ç­‰ï¼‰
- âœ… ç­”æ¡ˆå¼•ç”¨äº†ç›¸å…³èµ„æº
- âœ… ç­”æ¡ˆç»“æ„æ¸…æ™°ï¼Œæœ‰é€»è¾‘æ€§

### 5.2 éªŒè¯å¼•ç”¨æ•°æ®å®Œæ•´æ€§

**æ£€æŸ¥ç‚¹**:

1. **èµ„æºå¯è¿½æº¯æ€§**: å¼•ç”¨çš„ `resourceId` æ˜¯å¦å­˜åœ¨äºæ•°æ®åº“ï¼Ÿ
2. **åˆ‡ç‰‡å¯å®šä½æ€§**: å¼•ç”¨çš„ `chunkId` æ˜¯å¦å­˜åœ¨äºæ•°æ®åº“ï¼Ÿ
3. **ä½ç½®ä¿¡æ¯æ­£ç¡®æ€§**:
   - PDF: `pageStart` â‰¤ `pageEnd`
   - Markdown: `chapterPath` ä¸ä¸ºç©º
4. **ç›¸ä¼¼åº¦åˆ†æ•°åˆç†æ€§**: `score` åœ¨ 0.0-1.0 ä¹‹é—´

**æµ‹è¯•æ–¹æ³•**:

```bash
# æäº¤é—®é¢˜å¹¶ä¿å­˜å“åº”
RESPONSE=$(curl -s -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"question":"ä»€ä¹ˆæ˜¯ RAGï¼Ÿ","topK":5}')

# æå–ç¬¬ä¸€ä¸ªå¼•ç”¨çš„ resourceId
RESOURCE_ID=$(echo $RESPONSE | jq -r '.data.citations[0].resourceId')
CHUNK_ID=$(echo $RESPONSE | jq -r '.data.citations[0].chunkId')

# éªŒè¯èµ„æºå­˜åœ¨
curl -H "Authorization: Bearer $TOKEN" \
  http://localhost:8080/api/resources/$RESOURCE_ID

# éªŒè¯åˆ†æ•°èŒƒå›´
SCORE=$(echo $RESPONSE | jq -r '.data.citations[0].score')
echo "Score: $SCORE (should be between 0.0 and 1.0)"
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… èµ„æºè¯¦æƒ… API è¿”å› 200
- âœ… chunkId åœ¨èµ„æºçš„åˆ‡ç‰‡åˆ—è¡¨ä¸­å­˜åœ¨
- âœ… score åœ¨ 0.0-1.0 ä¹‹é—´

### 5.3 éªŒè¯æ€§èƒ½æŒ‡æ ‡

**æ£€æŸ¥ç‚¹**:

1. **å“åº”æ—¶é—´**: P95 â‰¤ 5 ç§’
2. **åˆ†æ®µè€—æ—¶**: æ£€ç´¢ã€ç”Ÿæˆç­‰é˜¶æ®µçš„è€—æ—¶è®°å½•

**æµ‹è¯•æ–¹æ³•**:

```bash
# æ‰§è¡Œ 10 æ¬¡é—®ç­”æµ‹è¯•
for i in {1..10}; do
  echo "Test $i:"
  time curl -s -X POST http://localhost:8080/api/chat/ask \
    -H "Authorization: Bearer $TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"question":"ä»€ä¹ˆæ˜¯ RAGï¼Ÿ","topK":5}' | jq '.data.latencyMs'
  echo "---"
done
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰è¯·æ±‚çš„ `latencyMs` â‰¤ 5000ms
- âœ… å¹³å‡å“åº”æ—¶é—´ â‰¤ 3000ms
- âœ… åç«¯æ—¥å¿—è®°å½•äº†åˆ†æ®µè€—æ—¶ï¼ˆembeddingã€vector_searchã€generationï¼‰

---

## âš ï¸ å…­ã€è¾¹ç•Œæƒ…å†µæµ‹è¯•

### 6.1 ç‰¹æ®Šè¾“å…¥æµ‹è¯•

**æµ‹è¯• 1: è¶…é•¿é—®é¢˜**

```bash
# æäº¤ä¸€ä¸ª 1000 å­—ç¬¦çš„é—®é¢˜
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "question": "è¿™æ˜¯ä¸€ä¸ªéå¸¸é•¿çš„é—®é¢˜..." + "a"*1000,
    "topK": 5
  }'
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… å‰ç«¯é™åˆ¶è¾“å…¥é•¿åº¦ï¼ˆmaxlength=1000ï¼‰
- âœ… åç«¯æ­£å¸¸å¤„ç†æˆ–è¿”å›å‹å¥½é”™è¯¯

**æµ‹è¯• 2: ç‰¹æ®Šå­—ç¬¦**

```bash
# åŒ…å« SQL æ³¨å…¥å­—ç¬¦
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"question":"'\'' OR 1=1 -- ","topK":5}'
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ­£å¸¸å¤„ç†ï¼Œä¸æŠ›å‡ºå¼‚å¸¸
- âœ… ä¸ä¼šå¯¼è‡´æ•°æ®åº“é”™è¯¯

**æµ‹è¯• 3: å¤šè¯­è¨€é—®é¢˜**

```bash
# è‹±æ–‡é—®é¢˜
curl -X POST http://localhost:8080/api/chat/ask \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"question":"What is RAG?","topK":5}'
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… ç³»ç»Ÿèƒ½å¤„ç†è‹±æ–‡é—®é¢˜
- âœ… è¿”å›ç›¸å…³ç­”æ¡ˆï¼ˆå¦‚æœèµ„æºåº“ä¸­æœ‰è‹±æ–‡å†…å®¹ï¼‰

### 6.2 å¼‚å¸¸åœºæ™¯æµ‹è¯•

**æµ‹è¯• 1: æ— èµ„æºæƒ…å†µ**

1. æ¸…ç©ºèµ„æºè¡¨ï¼ˆæˆ–ä½¿ç”¨ç©ºæ•°æ®åº“ï¼‰
2. æäº¤é—®é¢˜

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å› "è¯æ®ä¸è¶³" æç¤º
- âœ… `evidenceInsufficient` ä¸º `true`
- âœ… ä¸ä¼šæŠ›å‡º 500 é”™è¯¯

**æµ‹è¯• 2: LLM æœåŠ¡å¼‚å¸¸**

1. ä¸´æ—¶è®¾ç½®é”™è¯¯çš„ API Key
2. é‡å¯åç«¯
3. æäº¤é—®é¢˜

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å›é™çº§ç»“æœï¼ˆfallbackResources ä¸ä¸ºç©ºï¼‰
- âœ… æ˜¾ç¤º "AI æœåŠ¡æš‚æ—¶ä¸å¯ç”¨" æç¤º
- âœ… è¿”å›æ£€ç´¢åˆ°çš„èµ„æºåˆ—è¡¨

**æµ‹è¯• 3: Redis è¿æ¥å¼‚å¸¸**

1. ä¸´æ—¶åœæ­¢ Redis
2. æäº¤é—®é¢˜

**éªŒæ”¶æ ‡å‡†**:
- âœ… è¿”å›æ˜ç¡®çš„é”™è¯¯ä¿¡æ¯
- âœ… ä¸ä¼šå¯¼è‡´åç«¯å´©æºƒ
- âœ… å‰ç«¯æ˜¾ç¤ºå‹å¥½é”™è¯¯æç¤º

### 6.3 å¹¶å‘æµ‹è¯•

**æµ‹è¯• 1: å¤šç”¨æˆ·åŒæ—¶æé—®**

```bash
# ä½¿ç”¨ä¸åŒçš„ token åŒæ—¶æäº¤ 10 ä¸ªè¯·æ±‚
for i in {1..10}; do
  curl -X POST http://localhost:8080/api/chat/ask \
    -H "Authorization: Bearer $TOKEN" \
    -H "Content-Type: application/json" \
    -d '{"question":"æµ‹è¯•å¹¶å‘é—®é¢˜ '$i'","topK":5}' &
done
wait
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ‰€æœ‰è¯·æ±‚éƒ½è¿”å›æˆåŠŸï¼ˆæ—  500 é”™è¯¯ï¼‰
- âœ… å“åº”æ—¶é—´åœ¨å¯æ¥å—èŒƒå›´å†…ï¼ˆâ‰¤ 5 ç§’ï¼‰
- âœ… åç«¯æ—¥å¿—æ˜¾ç¤ºä½¿ç”¨äº†è™šæ‹Ÿçº¿ç¨‹

---

## ğŸ“Š ä¸ƒã€æ—¥å¿—æ£€æŸ¥

### 7.1 åç«¯æ—¥å¿—æ£€æŸ¥

**æŸ¥çœ‹åˆ†æ®µè€—æ—¶æ—¥å¿—**:

```bash
# æŸ¥çœ‹æœ€è¿‘çš„é—®ç­”æ—¥å¿—
tail -f ../logs/backend.log | grep "POST /api/chat/ask"
```

**é¢„æœŸæ—¥å¿—å†…å®¹**:

```log
2026-01-09 10:30:00.123 INFO  [main] c.a.r.controller.ChatController - POST /api/chat/ask - userId=1, question='ä»€ä¹ˆæ˜¯ RAGï¼Ÿ', topK=5
2026-01-09 10:30:00.125 DEBUG [virtual-thread-1] c.a.r.service.SearchServiceImpl - å¼€å§‹è¯­ä¹‰æ£€ç´¢...
2026-01-09 10:30:00.500 DEBUG [virtual-thread-1] c.a.r.service.SearchServiceImpl - Embedding è€—æ—¶: 375ms
2026-01-09 10:30:01.000 DEBUG [virtual-thread-1] c.a.r.service.SearchServiceImpl - å‘é‡è½¬æ¢è€—æ—¶: 500ms
2026-01-09 10:30:01.500 DEBUG [virtual-thread-1] c.a.r.service.SearchServiceImpl - å‘é‡æœç´¢è€—æ—¶: 500ms
2026-01-09 10:30:02.000 DEBUG [virtual-thread-1] c.a.r.service.SearchServiceImpl - æ€»æ£€ç´¢è€—æ—¶: 1875ms
2026-01-09 10:30:02.500 DEBUG [virtual-thread-1] c.a.r.service.RagServiceImpl - LLM ç”Ÿæˆè€—æ—¶: 500ms
2026-01-09 10:30:02.500 INFO  [virtual-thread-1] c.a.r.controller.ChatController - RAG é—®ç­”å®Œæˆï¼šuserId=1, latencyMs=2500ms, evidenceInsufficient=false
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ—¥å¿—è®°å½•äº†ç”¨æˆ· IDã€é—®é¢˜ã€topK
- âœ… æ—¥å¿—è®°å½•äº†åˆ†æ®µè€—æ—¶ï¼ˆembeddingã€vector_searchã€generationï¼‰
- âœ… æ—¥å¿—è®°å½•äº†æ€»å“åº”æ—¶é—´å’Œè¯æ®ä¸è¶³æ ‡å¿—

### 7.2 å‰ç«¯æ—¥å¿—æ£€æŸ¥

**æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·**:

1. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. åˆ‡æ¢åˆ° Console æ ‡ç­¾
3. æäº¤ä¸€ä¸ªé—®é¢˜

**é¢„æœŸæ—¥å¿—å†…å®¹**:

```log
[UserStore] isLoggedIn: true
[Router] å¯¼èˆªåˆ°: /chat
æé—®è¯·æ±‚å‘é€: { question: "ä»€ä¹ˆæ˜¯ RAGï¼Ÿ", topK: 5 }
é—®ç­”æˆåŠŸï¼Œè€—æ—¶: 2500ms
```

**éªŒæ”¶æ ‡å‡†**:
- âœ… æ—  JavaScript é”™è¯¯
- âœ… æ— ç½‘ç»œè¯·æ±‚å¤±è´¥ï¼ˆé™¤äº†é¢„æœŸçš„é”™è¯¯ï¼‰
- âœ… API è°ƒç”¨æ—¥å¿—æ­£ç¡®

---

## âœ… å…«ã€éªŒæ”¶æ€»ç»“

### 8.1 åŠŸèƒ½éªŒæ”¶æ¸…å•

| éªŒæ”¶é¡¹ | çŠ¶æ€ | å¤‡æ³¨ |
|--------|------|------|
| åç«¯é—®ç­”æ¥å£æ­£å¸¸å·¥ä½œ | â³ å¾…éªŒæ”¶ | POST /api/chat/ask è¿”å›æ­£ç¡®æ•°æ® |
| å¼•ç”¨æ•°æ®å®Œæ•´ä¸”å¯è¿½æº¯ | â³ å¾…éªŒæ”¶ | citations åŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ |
| å‰ç«¯é—®ç­”é¡µé¢æ­£å¸¸æ˜¾ç¤º | â³ å¾…éªŒæ”¶ | æ— å¸ƒå±€é”™è¯¯ï¼Œäº¤äº’æµç•… |
| ç­”æ¡ˆä»¥ Markdown æ ¼å¼æ¸²æŸ“ | â³ å¾…éªŒæ”¶ | æ”¯æŒæ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å— |
| å¼•ç”¨å¡ç‰‡å¯ç‚¹å‡»è·³è½¬ | â³ å¾…éªŒæ”¶ | è·³è½¬åˆ°èµ„æºè¯¦æƒ…é¡µ |
| è¯æ®ä¸è¶³æ—¶æ˜¾ç¤ºæç¤º | â³ å¾…éªŒæ”¶ | evidenceInsufficient=true æ—¶æ˜¾ç¤ºè­¦å‘Š |
| LLM ä¸å¯ç”¨æ—¶é™çº§å¤„ç† | â³ å¾…éªŒæ”¶ | è¿”å› fallbackResources |
| æŸ¥è¯¢è¡Œä¸ºè‡ªåŠ¨è®°å½• | â³ å¾…éªŒæ”¶ | user_behaviors è¡¨æœ‰è®°å½• |
| P95 å“åº”æ—¶é—´ â‰¤ 5 ç§’ | â³ å¾…éªŒæ”¶ | æ€§èƒ½æµ‹è¯•é€šè¿‡ |
| è¾“å…¥éªŒè¯æ­£å¸¸å·¥ä½œ | â³ å¾…éªŒæ”¶ | ç©ºé—®é¢˜ã€è¶…é•¿é—®é¢˜è¢«æ‹¦æˆª |
| é”™è¯¯å¤„ç†å‹å¥½ | â³ å¾…éªŒæ”¶ | æ˜¾ç¤ºæ¸…æ™°çš„é”™è¯¯æç¤º |

### 8.2 æ€§èƒ½æŒ‡æ ‡éªŒæ”¶

| æŒ‡æ ‡ | ç›®æ ‡ | å®é™…å€¼ | çŠ¶æ€ |
|------|------|--------|------|
| å¹³å‡å“åº”æ—¶é—´ | â‰¤ 3 ç§’ | â³ å¾…æµ‹è¯• | - |
| P95 å“åº”æ—¶é—´ | â‰¤ 5 ç§’ | â³ å¾…æµ‹è¯• | - |
| Embedding è€—æ—¶ | â‰¤ 1 ç§’ | â³ å¾…æµ‹è¯• | - |
| å‘é‡æ£€ç´¢è€—æ—¶ | â‰¤ 1 ç§’ | â³ å¾…æµ‹è¯• | - |
| LLM ç”Ÿæˆè€—æ—¶ | â‰¤ 3 ç§’ | â³ å¾…æµ‹è¯• | - |

### 8.3 ä»£ç è´¨é‡éªŒæ”¶

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | å¤‡æ³¨ |
|--------|------|------|
| ä»£ç æ³¨é‡Šä½¿ç”¨ä¸­æ–‡ | â³ å¾…éªŒæ”¶ | æ‰€æœ‰æ³¨é‡Šä½¿ç”¨ä¸­æ–‡ |
| å˜é‡å‘½åä½¿ç”¨è‹±æ–‡ | â³ å¾…éªŒæ”¶ | éµå¾ªå‘½åè§„èŒƒ |
| æ—  console.log | â³ å¾…éªŒæ”¶ | ä½¿ç”¨æ—¥å¿—ç³»ç»Ÿ |
| TypeScript ç±»å‹å®Œæ•´ | â³ å¾…éªŒæ”¶ | æ—  any ç±»å‹ |
| ç»„ä»¶èŒè´£å•ä¸€ | â³ å¾…éªŒæ”¶ | ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ |

---

## ğŸ”§ ä¹ã€å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: å‰ç«¯æ˜¾ç¤º "ç½‘ç»œé”™è¯¯"

**å¯èƒ½åŸå› **:
- åç«¯æœåŠ¡æœªå¯åŠ¨
- åç«¯ç«¯å£ä¸æ˜¯ 8080
- CORS é…ç½®é—®é¢˜

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨
curl http://localhost:8080/actuator/health

# 2. æ£€æŸ¥å‰ç«¯ä»£ç†é…ç½®
cat frontend/vite.config.ts

# 3. æ£€æŸ¥æµè§ˆå™¨ Network æ ‡ç­¾
# æŸ¥çœ‹è¯·æ±‚æ˜¯å¦å‘é€åˆ° /api/chat/ask
# æŸ¥çœ‹å“åº”çŠ¶æ€ç å’Œé”™è¯¯ä¿¡æ¯
```

### é—®é¢˜ 2: è¿”å› "è¯æ®ä¸è¶³" ä½†èµ„æºåº“ä¸­æœ‰ç›¸å…³å†…å®¹

**å¯èƒ½åŸå› **:
- å‘é‡åŒ–æœªå®Œæˆ
- ç›¸ä¼¼åº¦é˜ˆå€¼è®¾ç½®è¿‡é«˜
- Embedding æ¨¡å‹é—®é¢˜

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥èµ„æºå‘é‡åŒ–çŠ¶æ€
docker exec -it aetheris-mysql mysql -u aetheris -paetheris123 aetheris_rag \
  -e "SELECT id, title, vectorized, chunk_count FROM resources WHERE vectorized = false;"

# 2. æ£€æŸ¥ Redis å‘é‡ç´¢å¼•
docker exec -it aetheris-redis redis-cli -a aetheris123
> FT.INFO chunk_vector_index

# 3. æŸ¥çœ‹åç«¯æ—¥å¿—ä¸­çš„æ£€ç´¢åˆ†æ•°
tail -f ../logs/backend.log | grep "ç›¸ä¼¼åº¦åˆ†æ•°"
```

### é—®é¢˜ 3: å¼•ç”¨å¡ç‰‡ç‚¹å‡»åæ— æ³•è·³è½¬

**å¯èƒ½åŸå› **:
- è·¯ç”±æœªé…ç½®
- resourceId æ ¼å¼ä¸åŒ¹é…

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥è·¯ç”±é…ç½®
cat frontend/src/router/index.ts | grep chat

# 2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°
# æŸ¥çœ‹æ˜¯å¦æœ‰è·¯ç”±é”™è¯¯

# 3. æ‰‹åŠ¨è®¿é—®èµ„æºè¯¦æƒ…é¡µ
# http://localhost:5173/resources/{resourceId}
```

### é—®é¢˜ 4: Markdown æ¸²æŸ“å¤±è´¥

**å¯èƒ½åŸå› **:
- marked ä¾èµ–æœªå®‰è£…
- ç­”æ¡ˆå†…å®¹åŒ…å«ç‰¹æ®Šå­—ç¬¦

**æ’æŸ¥æ­¥éª¤**:

```bash
# 1. æ£€æŸ¥ marked æ˜¯å¦å®‰è£…
cd frontend
npm list marked

# 2. å¦‚æœæœªå®‰è£…ï¼Œè¿è¡Œ
npm install marked

# 3. æ£€æŸ¥ AnswerDisplay ç»„ä»¶
cat frontend/src/components/chat/AnswerDisplay.vue | grep marked
```

---

## ğŸ“ åã€éªŒæ”¶è®°å½•

### éªŒæ”¶ç¯å¢ƒ

- **éªŒæ”¶æ—¶é—´**: _______________
- **éªŒæ”¶äººå‘˜**: _______________
- **ç¯å¢ƒ**: å¼€å‘ç¯å¢ƒ / æµ‹è¯•ç¯å¢ƒ
- **Java ç‰ˆæœ¬**: _______________
- **Node.js ç‰ˆæœ¬**: _______________

### éªŒæ”¶ç»“æœ

| åŠŸèƒ½æ¨¡å— | éªŒæ”¶é€šè¿‡ | é—®é¢˜æè¿° | ä¼˜å…ˆçº§ |
|----------|----------|----------|--------|
| åç«¯é—®ç­”æ¥å£ | â¬œ æ˜¯ / â¬œ å¦ | | P0 / P1 / P2 / P3 |
| å‰ç«¯é—®ç­”é¡µé¢ | â¬œ æ˜¯ / â¬œ å¦ | | P0 / P1 / P2 / P3 |
| å¼•ç”¨æ¥æºéªŒè¯ | â¬œ æ˜¯ / â¬œ å¦ | | P0 / P1 / P2 / P3 |
| æ€§èƒ½æŒ‡æ ‡ | â¬œ æ˜¯ / â¬œ å¦ | | P0 / P1 / P2 / P3 |
| é”™è¯¯å¤„ç† | â¬œ æ˜¯ / â¬œ å¦ | | P0 / P1 / P2 / P3 |

### æ€»ä½“è¯„ä»·

- **åŠŸèƒ½å®Œæ•´æ€§**: â¬œ ä¼˜ç§€ / â¬œ è‰¯å¥½ / â¬œ ä¸€èˆ¬ / â¬œ è¾ƒå·®
- **ä»£ç è´¨é‡**: â¬œ ä¼˜ç§€ / â¬œ è‰¯å¥½ / â¬œ ä¸€èˆ¬ / â¬œ è¾ƒå·®
- **ç”¨æˆ·ä½“éªŒ**: â¬œ ä¼˜ç§€ / â¬œ è‰¯å¥½ / â¬œ ä¸€èˆ¬ / â¬œ è¾ƒå·®
- **æ€§èƒ½è¡¨ç°**: â¬œ ä¼˜ç§€ / â¬œ è‰¯å¥½ / â¬œ ä¸€èˆ¬ / â¬œ è¾ƒå·®

### é—ç•™é—®é¢˜

1. **é—®é¢˜æè¿°**: _______________
   - **ä¸¥é‡ç¨‹åº¦**: P0 / P1 / P2 / P3
   - **å»ºè®®ä¿®å¤æ—¶é—´**: _______________

2. **é—®é¢˜æè¿°**: _______________
   - **ä¸¥é‡ç¨‹åº¦**: P0 / P1 / P2 / P3
   - **å»ºè®®ä¿®å¤æ—¶é—´**: _______________

### éªŒæ”¶ç­¾å­—

- **å¼€å‘äººå‘˜**: _______________ æ—¥æœŸ: _______________
- **éªŒæ”¶äººå‘˜**: _______________ æ—¥æœŸ: _______________

---

## ğŸ“š é™„å½•

### A. ç›¸å…³æ–‡æ¡£

- [Phase 5 ä»»åŠ¡æ¸…å•](../specs/001-rag-recommendation-system/tasks.md#phase-5)
- [API è§„èŒƒ](../specs/001-rag-recommendation-system/contracts/openapi.yaml)
- [é¡¹ç›®æ¶æ„æ–‡æ¡£](../specs/001-rag-recommendation-system/plan.md)

### B. æµ‹è¯•æ•°æ®é›†

**æ¨èé—®é¢˜**:

1. ä»€ä¹ˆæ˜¯ RAGï¼Ÿ
2. RAG ç³»ç»Ÿçš„ä¸»è¦ç»„æˆéƒ¨åˆ†æœ‰å“ªäº›ï¼Ÿ
3. å‘é‡æ•°æ®åº“åœ¨ RAG ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ
4. RAG ä¸ä¼ ç»Ÿæ£€ç´¢çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ
5. å¦‚ä½•è¯„ä¼° RAG ç³»ç»Ÿçš„æ•ˆæœï¼Ÿ

### C. è”ç³»æ–¹å¼

- **é¡¹ç›®è´Ÿè´£äºº**: _______________
- **æŠ€æœ¯æ”¯æŒ**: _______________
- **é—®é¢˜åé¦ˆ**: _______________

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0.0
**æœ€åæ›´æ–°**: 2026-01-09
**ä¸‹æ¬¡æ›´æ–°**: Phase 5 éªŒæ”¶å®Œæˆå
